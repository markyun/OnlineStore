/*! fish-desktop 2015-02-10 Copyright 2014 ZTESOFT, Inc.All rights reserved. */
!function(){var fish=window.fish={version:"1.3.1",language:"en",locale:{},getResource:function(a){if(!a)return"";for(var b=this.locale[this.language],c=a.split("."),d=0,e=c.length;e>d;d++)if(b=b[c[d]],!b){b="UNKNOWN_KEY_"+a;break}return b}};return fish._active=0,fish.ajax=function(options){options=$.extend({showMask:!1,showError:!0,type:"post",dataType:"json"},options);var oldBeforeSend=options.beforeSend;options.beforeSend=function(a,b){var c=options.context||this;return oldBeforeSend&&oldBeforeSend.apply(c,[a,b])===!1?!1:void(options.showMask===!0&&0===fish._active++&&$.blockUI&&$.blockUI())};var oldComplete=options.complete;options.complete=function(a,b){var c=options.context||this;oldComplete&&oldComplete.apply(c,[a,b]),options.showMask===!0&&0===--fish._active&&$.unblockUI&&$.unblockUI()};var oldError=options.error;return options.error=function(xhr){var context=options.context||this;if(oldError&&oldError.apply(context,[xhr]),options.showError===!0){var tip="";if(null==xhr.responseText||""==xhr.responseText)tip="XHR Error, readystate="+xhr.readyState+", status="+xhr.status;else{var txt=xhr.responseText;if(0==txt.indexOf("{")&&txt.lastIndexOf("}")==txt.length-1){var error=eval("("+txt+")");tip=error.code+" : "+error.message}else tip=txt}fish.showError(tip)}},$.ajax(options)},fish.delay=fish.wait=function(a){if($.isFunction(a)){0===fish._active++&&$.blockUI&&$.blockUI();var b=Array.prototype.slice.call(arguments,1);return setTimeout(function(){var c=a.apply(null,b);return 0===--fish._active&&$.unblockUI&&$.unblockUI(),c},100)}},fish}();var Handlebars=function(){var a=function(){"use strict";function a(a){this.string=a}var b;return a.prototype.toString=function(){return""+this.string},b=a}(),b=function(a){"use strict";function b(a){return h[a]||"&amp;"}function c(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}function d(a){return a instanceof g?a.toString():a||0===a?(a=""+a,j.test(a)?a.replace(i,b):a):""}function e(a){return a||0===a?m(a)&&0===a.length?!0:!1:!0}var f={},g=a,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,j=/[&<>"'`]/;f.extend=c;var k=Object.prototype.toString;f.toString=k;var l=function(a){return"function"==typeof a};l(/x/)&&(l=function(a){return"function"==typeof a&&"[object Function]"===k.call(a)});var l;f.isFunction=l;var m=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===k.call(a):!1};return f.isArray=m,f.escapeExpression=d,f.isEmpty=e,f}(a),c=function(){"use strict";function a(a,b){var d;b&&b.firstLine&&(d=b.firstLine,a+=" - "+d+":"+b.firstColumn);for(var e=Error.prototype.constructor.call(this,a),f=0;f<c.length;f++)this[c[f]]=e[c[f]];d&&(this.lineNumber=d,this.column=b.firstColumn)}var b,c=["description","fileName","lineNumber","message","name","number","stack"];return a.prototype=new Error,b=a}(),d=function(a,b){"use strict";function c(a,b){this.helpers=a||{},this.partials=b||{},d(this)}function d(a){a.registerHelper("helperMissing",function(a){if(2===arguments.length)return void 0;throw new h("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse||function(){},e=c.fn;return m(b)&&(b=b.call(this)),b===!0?e(this):b===!1||null==b?d(this):l(b)?b.length>0?a.helpers.each(b,c):d(this):e(b)}),a.registerHelper("each",function(a,b){var c,d=b.fn,e=b.inverse,f=0,g="";if(m(a)&&(a=a.call(this)),b.data&&(c=q(b.data)),a&&"object"==typeof a)if(l(a))for(var h=a.length;h>f;f++)c&&(c.index=f,c.first=0===f,c.last=f===a.length-1),g+=d(a[f],{data:c});else for(var i in a)a.hasOwnProperty(i)&&(c&&(c.key=i,c.index=f,c.first=0===f),g+=d(a[i],{data:c}),f++);return 0===f&&(g=e(this)),g}),a.registerHelper("if",function(a,b){return m(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){return m(a)&&(a=a.call(this)),g.isEmpty(a)?void 0:b.fn(a)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)})}function e(a,b){p.log(a,b)}var f={},g=a,h=b,i="1.3.0";f.VERSION=i;var j=4;f.COMPILER_REVISION=j;var k={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};f.REVISION_CHANGES=k;var l=g.isArray,m=g.isFunction,n=g.toString,o="[object Object]";f.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:p,log:e,registerHelper:function(a,b,c){if(n.call(a)===o){if(c||b)throw new h("Arg not supported with multiple helpers");g.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b},registerPartial:function(a,b){n.call(a)===o?g.extend(this.partials,a):this.partials[a]=b}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(p.level<=a){var c=p.methodMap[a];"undefined"!=typeof console&&console[c]&&console[c].call(console,b)}}};f.logger=p,f.log=e;var q=function(a){var b={};return g.extend(b,a),b};return f.createFrame=q,f}(b,c),e=function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=m;if(b!==c){if(c>b){var d=n[c],e=n[b];throw new l("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new l("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){if(!b)throw new l("No environment passed to template");var c=function(a,c,d,e,f,g){var h=b.VM.invokePartial.apply(this,arguments);if(null!=h)return h;if(b.compile){var i={helpers:e,partials:f,data:g};return f[c]=b.compile(a,{data:void 0!==g},b),f[c](d,i)}throw new l("The partial "+c+" could not be compiled when running in runtime-only mode")},d={escapeExpression:k.escapeExpression,invokePartial:c,programs:[],program:function(a,b,c){var d=this.programs[a];return c?d=g(a,b,c):d||(d=this.programs[a]=g(a,b)),d},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c={},k.extend(c,b),k.extend(c,a)),c},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(c,e){e=e||{};var f,g,h=e.partial?e:b;e.partial||(f=e.helpers,g=e.partials);var i=a.call(d,h,c,f,g,e.data);return e.partial||b.VM.checkRevision(d.compilerInfo),i}}function f(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e}function g(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new l("The partial "+b+" could not be found");return a instanceof Function?a(c,g):void 0}function i(){return""}var j={},k=a,l=b,m=c.COMPILER_REVISION,n=c.REVISION_CHANGES;return j.checkRevision=d,j.template=e,j.programWithDepth=f,j.program=g,j.invokePartial=h,j.noop=i,j}(b,c,d),f=function(a,b,c,d,e){"use strict";var f,g=a,h=b,i=c,j=d,k=e,l=function(){var a=new g.HandlebarsEnvironment;return j.extend(a,g),a.SafeString=h,a.Exception=i,a.Utils=j,a.VM=k,a.template=function(b){return k.template(b,a)},a},Handlebars=l();return Handlebars.create=l,f=Handlebars}(d,a,c,b,e),g=function(a){"use strict";function b(a){a=a||{},this.firstLine=a.first_line,this.firstColumn=a.first_column,this.lastColumn=a.last_column,this.lastLine=a.last_line}var c,d=a,e={ProgramNode:function(a,c,d,f){var g,h;3===arguments.length?(f=d,d=null):2===arguments.length&&(f=c,c=null),b.call(this,f),this.type="program",this.statements=a,this.strip={},d?(h=d[0],h?(g={first_line:h.firstLine,last_line:h.lastLine,last_column:h.lastColumn,first_column:h.firstColumn},this.inverse=new e.ProgramNode(d,c,g)):this.inverse=new e.ProgramNode(d,c),this.strip.right=c.left):c&&(this.strip.left=c.right)},MustacheNode:function(a,c,d,f,g){if(b.call(this,g),this.type="mustache",this.strip=f,null!=d&&d.charAt){var h=d.charAt(3)||d.charAt(2);this.escaped="{"!==h&&"&"!==h}else this.escaped=!!d;this.sexpr=a instanceof e.SexprNode?a:new e.SexprNode(a,c),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(a,c,d){b.call(this,d),this.type="sexpr",this.hash=c;var e=this.id=a[0],f=this.params=a.slice(1),g=this.eligibleHelper=e.isSimple;this.isHelper=g&&(f.length||c)},PartialNode:function(a,c,d,e){b.call(this,e),this.type="partial",this.partialName=a,this.context=c,this.strip=d},BlockNode:function(a,c,e,f,g){if(b.call(this,g),a.sexpr.id.original!==f.path.original)throw new d(a.sexpr.id.original+" doesn't match "+f.path.original,this);this.type="block",this.mustache=a,this.program=c,this.inverse=e,this.strip={left:a.strip.left,right:f.strip.right},(c||e).strip.left=a.strip.right,(e||c).strip.right=f.strip.left,e&&!c&&(this.isInverse=!0)},ContentNode:function(a,c){b.call(this,c),this.type="content",this.string=a},HashNode:function(a,c){b.call(this,c),this.type="hash",this.pairs=a},IdNode:function(a,c){b.call(this,c),this.type="ID";for(var e="",f=[],g=0,h=0,i=a.length;i>h;h++){var j=a[h].part;if(e+=(a[h].separator||"")+j,".."===j||"."===j||"this"===j){if(f.length>0)throw new d("Invalid path: "+e,this);".."===j?g++:this.isScoped=!0}else f.push(j)}this.original=e,this.parts=f,this.string=f.join("."),this.depth=g,this.isSimple=1===a.length&&!this.isScoped&&0===g,this.stringModeValue=this.string},PartialNameNode:function(a,c){b.call(this,c),this.type="PARTIAL_NAME",this.name=a.original},DataNode:function(a,c){b.call(this,c),this.type="DATA",this.id=a},StringNode:function(a,c){b.call(this,c),this.type="STRING",this.original=this.string=this.stringModeValue=a},IntegerNode:function(a,c){b.call(this,c),this.type="INTEGER",this.original=this.integer=a,this.stringModeValue=Number(a)},BooleanNode:function(a,c){b.call(this,c),this.type="BOOLEAN",this.bool=a,this.stringModeValue="true"===a},CommentNode:function(a,c){b.call(this,c),this.type="comment",this.comment=a}};return c=e}(c),h=function(){"use strict";var a,b=function(){function a(a,b){return{left:"~"===a.charAt(2),right:"~"===b.charAt(0)||"~"===b.charAt(1)}}function b(){this.yy={}}var c={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(b,c,d,e,f,g){var h=g.length-1;switch(f){case 1:return new e.ProgramNode(g[h-1],this._$);case 2:return new e.ProgramNode([],this._$);case 3:this.$=new e.ProgramNode([],g[h-1],g[h],this._$);break;case 4:this.$=new e.ProgramNode(g[h-2],g[h-1],g[h],this._$);break;case 5:this.$=new e.ProgramNode(g[h-1],g[h],[],this._$);break;case 6:this.$=new e.ProgramNode(g[h],this._$);break;case 7:this.$=new e.ProgramNode([],this._$);break;case 8:this.$=new e.ProgramNode([],this._$);break;case 9:this.$=[g[h]];break;case 10:g[h-1].push(g[h]),this.$=g[h-1];break;case 11:this.$=new e.BlockNode(g[h-2],g[h-1].inverse,g[h-1],g[h],this._$);break;case 12:this.$=new e.BlockNode(g[h-2],g[h-1],g[h-1].inverse,g[h],this._$);break;case 13:this.$=g[h];break;case 14:this.$=g[h];break;case 15:this.$=new e.ContentNode(g[h],this._$);break;case 16:this.$=new e.CommentNode(g[h],this._$);break;case 17:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 18:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 19:this.$={path:g[h-1],strip:a(g[h-2],g[h])};break;case 20:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 21:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 22:this.$=new e.PartialNode(g[h-2],g[h-1],a(g[h-3],g[h]),this._$);break;case 23:this.$=a(g[h-1],g[h]);break;case 24:this.$=new e.SexprNode([g[h-2]].concat(g[h-1]),g[h],this._$);break;case 25:this.$=new e.SexprNode([g[h]],null,this._$);break;case 26:this.$=g[h];break;case 27:this.$=new e.StringNode(g[h],this._$);break;case 28:this.$=new e.IntegerNode(g[h],this._$);break;case 29:this.$=new e.BooleanNode(g[h],this._$);break;case 30:this.$=g[h];break;case 31:g[h-1].isHelper=!0,this.$=g[h-1];break;case 32:this.$=new e.HashNode(g[h],this._$);break;case 33:this.$=[g[h-2],g[h]];break;case 34:this.$=new e.PartialNameNode(g[h],this._$);break;case 35:this.$=new e.PartialNameNode(new e.StringNode(g[h],this._$),this._$);break;case 36:this.$=new e.PartialNameNode(new e.IntegerNode(g[h],this._$));break;case 37:this.$=new e.DataNode(g[h],this._$);break;case 38:this.$=new e.IdNode(g[h],this._$);break;case 39:g[h-2].push({part:g[h],separator:g[h-1]}),this.$=g[h-2];break;case 40:this.$=[{part:g[h]}];break;case 43:this.$=[];break;case 44:g[h-1].push(g[h]);break;case 47:this.$=[g[h]];break;case 48:g[h-1].push(g[h])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(a){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||"undefined"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},d=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return e(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return b.yytext=e(1,2).replace(/\\"/g,'"'),32;case 24:return b.yytext=e(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return b.yytext=e(1,2),40;case 31:return"INVALID";case 32:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},a}();return c.lexer=d,b.prototype=c,c.Parser=b,new b}();return a=b}(),i=function(a,b){"use strict";function c(a){return a.constructor===f.ProgramNode?a:(e.yy=f,e.parse(a))}var d={},e=a,f=b;return d.parser=e,d.parse=c,d}(h,g),j=function(a){"use strict";function b(){}function c(a,b,c){if(null==a||"string"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0);var d=c.parse(a),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function d(a,b,c){function d(){var d=c.parse(a),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}if(null==a||"string"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);b=b||{},"data"in b||(b.data=!0);var e;return function(a,b){return e||(e=d()),e.call(this,a,b)}}var e={},f=a;return e.Compiler=b,b.prototype={compiler:b,disassemble:function(){for(var a,b,c,d=this.opcodes,e=[],f=0,g=d.length;g>f;f++)if(a=d[f],"DECLARE"===a.opcode)e.push("DECLARE "+a.name+"="+a.value);else{b=[];for(var h=0;h<a.args.length;h++)c=a.args[h],"string"==typeof c&&(c='"'+c.replace("\n","\\n")+'"'),b.push(c);e.push(a.opcode+" "+b.join(" "))}return e.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}if(b=this.children.length,a.children.length!==b)return!1;for(c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=b;var c=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.accept(a)},accept:function(a){var b,c=a.strip||{};return c.left&&this.opcode("strip"),b=this[a.type](a),c.right&&this.opcode("strip"),b},program:function(a){for(var b=a.statements,c=0,d=b.length;d>c;c++)this.accept(b[c]);return this.isSimple=1===d,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(a){var b,c=(new this.compiler).compile(a,this.options),d=this.guid++;this.usePartial=this.usePartial||c.usePartial,this.children[d]=c;for(var e=0,f=c.depths.list.length;f>e;e++)b=c.depths.list[e],2>b||this.addDepth(b-1);return d},block:function(a){var b=a.mustache,c=a.program,d=a.inverse;c&&(c=this.compileProgram(c)),d&&(d=this.compileProgram(d));var e=b.sexpr,f=this.classifySexpr(e);"helper"===f?this.helperSexpr(e,c,d):"simple"===f?(this.simpleSexpr(e),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(e,c,d),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(a){var b,c,d=a.pairs;this.opcode("pushHash");for(var e=0,f=d.length;f>e;e++)b=d[e],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type),"sexpr"===c.type&&this.sexpr(c)):this.accept(c),this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0,a.context?this.ID(a.context):this.opcode("push","depth0"),this.opcode("invokePartial",b.name),this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){this.sexpr(a.sexpr),this.opcode(a.escaped&&!this.options.noEscape?"appendEscaped":"append")},ambiguousSexpr:function(a,b,c){var d=a.id,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.id;"DATA"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode("getContext",b.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.id.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",d.length,e);else{if(this.options.knownHelpersOnly)throw new f("You specified knownHelpersOnly, but used the unknown helper "+e,a);this.opcode("invokeHelper",d.length,e,a.isRoot)}},sexpr:function(a){var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ID:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0];b?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var c=1,d=a.parts.length;d>c;c++)this.opcode("lookup",a.parts[c])},DATA:function(a){if(this.options.data=!0,a.id.isScoped||a.id.depth)throw new f("Scoped data references are not supported: "+a.original,a);this.opcode("lookupData");for(var b=a.id.parts,c=0,d=b.length;d>c;c++)this.opcode("lookup",b[c])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){0!==a&&(this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a)))},classifySexpr:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;if(c&&!b){var e=a.id.parts[0];
d.knownHelpers[e]?b=!0:d.knownHelpersOnly&&(c=!1)}return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b,c=a.length;c--;)b=a[c],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type),"sexpr"===b.type&&this.sexpr(b)):this[b.type](b)},setupFullMustacheParams:function(a,b,c){var d=a.params;return this.pushParams(d),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.hash(a.hash):this.opcode("emptyHash"),d}},e.precompile=c,e.compile=d,e}(c),k=function(a,b){"use strict";function c(a){this.value=a}function d(){}var e,f=a.COMPILER_REVISION,g=a.REVISION_CHANGES,h=a.log,i=b;d.prototype={nameLookup:function(a,b){var c,e;return 0===a.indexOf("depth")&&(c=!0),e=/^[0-9]+$/.test(b)?a+"["+b+"]":d.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']",c?"("+a+" && "+e+")":e},compilerInfo:function(){var a=f,b=g[a];return"this.compilerInfo = ["+a+",'"+b+"'];\n"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,b,c,d){this.environment=a,this.options=b||{},h("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!c,this.context=c||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(a,b);var e,f=a.opcodes;this.i=0;for(var g=f.length;this.i<g;this.i++)e=f[this.i],"DECLARE"===e.opcode?this[e.name]=e.value:this[e.opcode].apply(this,e.args),e.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new i("Compile completed with content left on stack");return this.createFunctionContext(d)},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(c=c+" partials = this.merge(partials, "+b+".partials);"),this.options.data&&(c+=" data = data || {};"),a.push(c)}a.push(this.environment.isSimple?"":", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=a},createFunctionContext:function(a){var b=this.stackVars.concat(this.registers.list);if(b.length>0&&(this.source[1]=this.source[1]+", "+b.join(", ")),!this.isChild)for(var c in this.context.aliases)this.context.aliases.hasOwnProperty(c)&&(this.source[1]=this.source[1]+", "+c+"="+this.context.aliases[c]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var d=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],e=0,f=this.environment.depths.list.length;f>e;e++)d.push("depth"+this.environment.depths.list[e]);var g=this.mergeSource();if(this.isChild||(g=this.compilerInfo()+g),a)return d.push(g),Function.apply(this,d);var i="function "+(this.name||"")+"("+d.join(",")+") {\n  "+g+"}";return h("debug",i+"\n\n"),i},mergeSource:function(){for(var a,b="",c=0,d=this.source.length;d>c;c++){var e=this.source[c];e.appendToBuffer?a=a?a+"\n    + "+e.content:e.content:(a&&(b+="buffer += "+a+";\n  ",a=void 0),b+=e+"\n  ")}return b},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a),this.replaceStack(function(b){return a.splice(1,0,b),"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b),this.pushSource("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.pendingContent&&(a=this.pendingContent+a),this.stripNext&&(a=a.replace(/^\s+/,"")),this.pendingContent=a},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var a=this.popStack();this.pushSource("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext),this.pushString(b),"sexpr"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+a.contexts.join(",")+"}"),this.push("{"+a.types.join(",")+"}")),this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){return this.inlineStack.push(a),a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){this.pushStackLiteral(null!=a?this.programExpression(a):null)},invokeHelper:function(a,b,c){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var d=this.lastHelper=this.setupHelper(a,b,!0),e=this.nameLookup("depth"+this.lastContext,b,"context"),f="helper = "+d.name+" || "+e;d.paramsInit&&(f+=","+d.paramsInit),this.push("("+f+",helper ? helper.call("+d.callParams+") : helperMissing.call("+d.helperMissingParams+"))"),c||this.flushInline()},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup("helpers",a,"helper"),e=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();c.paramsInit&&this.pushSource(c.paramsInit),this.pushSource("if (helper = "+d+") { "+f+" = helper.call("+c.callParams+"); }"),this.pushSource("else { helper = "+e+"; "+f+" = typeof helper === functionType ? helper.call("+c.callParams+") : helper; }")},invokePartial:function(a){var b=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&b.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+b.join(", ")+")")},assignToHash:function(a){var b,c,d=this.popStack();this.options.stringParams&&(c=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push("'"+a+"': "+b),c&&e.types.push("'"+a+"': "+c),e.values.push("'"+a+"': ("+d+")")},compiler:d,compileChildren:function(a,b){for(var c,d,e=a.children,f=0,g=e.length;g>f;f++){c=e[f],d=new this.compiler;var h=this.matchExistingProgram(c);null==h?(this.context.programs.push(""),h=this.context.programs.length,c.index=h,c.name="program"+h,this.context.programs[h]=d.compile(c,b,this.context),this.context.environments[h]=c):(c.index=h,c.name="program"+h)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){if(this.context.aliases.self="this",null==a)return"self.noop";for(var b,c=this.environment.children[a],d=c.depths.list,e=[c.index,c.name,"data"],f=0,g=d.length;g>f;f++)b=d[f],e.push(1===b?"depth0":"depth"+(b-1));return(0===d.length?"self.program(":"self.programWithDepth(")+e.join(", ")+")"},register:function(a,b){this.useRegister(a),this.pushSource(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new c(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),a&&this.source.push(a)},pushStack:function(a){this.flushInline();var b=this.incrStack();return a&&this.pushSource(b+" = "+a+";"),this.compileStack.push(b),b},replaceStack:function(a){var b,d,e,f="",g=this.isInline();if(g){var h=this.popStack(!0);if(h instanceof c)b=h.value,e=!0;else{d=!this.stackSlot;var i=d?this.incrStack():this.topStackName();f="("+this.push(i)+" = "+h+"),",b=this.topStack()}}else b=this.topStack();var j=a.call(this,b);return g?(e||this.popStack(),d&&this.stackSlot--,this.push("("+f+j+")")):(/^stack/.test(b)||(b=this.nextStack()),this.pushSource(b+" = ("+f+j+");")),b},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,d=a.length;d>b;b++){var e=a[b];e instanceof c?this.compileStack.push(e):this.pushStack(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),d=(b?this.inlineStack:this.compileStack).pop();if(!a&&d instanceof c)return d.value;if(!b){if(!this.stackSlot)throw new i("Invalid stack pop");this.stackSlot--}return d},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,d=b[b.length-1];return!a&&d instanceof c?d.value:d},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,c){var d=[],e=this.setupParams(a,d,c),f=this.nameLookup("helpers",b,"helper");return{params:d,paramsInit:e,name:f,callParams:["depth0"].concat(d).join(", "),helperMissingParams:c&&["depth0",this.quotedString(b)].concat(d).join(", ")}},setupOptions:function(a,b){var c,d,e,f=[],g=[],h=[];f.push("hash:"+this.popStack()),this.options.stringParams&&(f.push("hashTypes:"+this.popStack()),f.push("hashContexts:"+this.popStack())),d=this.popStack(),e=this.popStack(),(e||d)&&(e||(this.context.aliases.self="this",e="self.noop"),d||(this.context.aliases.self="this",d="self.noop"),f.push("inverse:"+d),f.push("fn:"+e));for(var i=0;a>i;i++)c=this.popStack(),b.push(c),this.options.stringParams&&(h.push(this.popStack()),g.push(this.popStack()));return this.options.stringParams&&(f.push("contexts:["+g.join(",")+"]"),f.push("types:["+h.join(",")+"]")),this.options.data&&f.push("data:data"),f},setupParams:function(a,b,c){var d="{"+this.setupOptions(a,b).join(",")+"}";return c?(this.useRegister("options"),b.push("options"),"options="+d):(b.push(d),"")}};for(var j="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),k=d.RESERVED_WORDS={},l=0,m=j.length;m>l;l++)k[j[l]]=!0;return d.isValidJavaScriptVariableName=function(a){return!d.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)?!0:!1},e=d}(d,c),l=function(a,b,c,d,e){"use strict";var f,Handlebars=a,g=b,h=c.parser,i=c.parse,j=d.Compiler,k=d.compile,l=d.precompile,m=e,n=Handlebars.create,o=function(){var a=n();return a.compile=function(b,c){return k(b,c,a)},a.precompile=function(b,c){return l(b,c,a)},a.AST=g,a.Compiler=j,a.JavaScriptCompiler=m,a.Parser=h,a.parse=i,a};return Handlebars=o(),Handlebars.create=o,f=Handlebars}(f,g,i,j,k);return l}();!function(a,b){function c(a){var b=pb[a]={};return jQuery.each(a.split(cb),function(_,a){b[a]=!0}),b}function d(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(rb,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:qb.test(d)?jQuery.parseJSON(d):d}catch(f){}jQuery.data(a,c,d)}else d=b}return d}function e(a){var b;for(b in a)if(("data"!==b||!jQuery.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function f(){return!1}function g(){return!0}function h(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function i(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function j(a,b,c){if(b=b||0,jQuery.isFunction(b))return jQuery.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return jQuery.grep(a,function(a){return a===b===c});if("string"==typeof b){var d=jQuery.grep(a,function(a){return 1===a.nodeType});if(Kb.test(b))return jQuery.filter(b,d,!c);b=jQuery.filter(b,d)}return jQuery.grep(a,function(a){return jQuery.inArray(a,b)>=0===c})}function k(a){var b=Nb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function l(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function m(a,b){if(1===b.nodeType&&jQuery.hasData(a)){var c,d,e,f=jQuery._data(a),g=jQuery._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)jQuery.event.add(b,c,h[c][d])}g.data&&(g.data=jQuery.extend({},g.data))}}function n(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),jQuery.support.html5Clone&&a.innerHTML&&!jQuery.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Xb.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(jQuery.expando))}function o(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function p(a){Xb.test(a.type)&&(a.defaultChecked=a.checked)}function q(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=rc.length;e--;)if(b=rc[e]+c,b in a)return b;return d}function r(a,b){return a=b||a,"none"===jQuery.css(a,"display")||!jQuery.contains(a.ownerDocument,a)}function s(a,b){for(var c,d,e=[],f=0,g=a.length;g>f;f++)c=a[f],c.style&&(e[f]=jQuery._data(c,"olddisplay"),b?(e[f]||"none"!==c.style.display||(c.style.display=""),""===c.style.display&&r(c)&&(e[f]=jQuery._data(c,"olddisplay",w(c.nodeName)))):(d=cc(c,"display"),e[f]||"none"===d||jQuery._data(c,"olddisplay",d)));for(f=0;g>f;f++)c=a[f],c.style&&(b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?e[f]||"":"none"));return a}function t(a,b,c){var d=kc.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function u(a,b,c,d){for(var e=c===(d?"border":"content")?4:"width"===b?1:0,f=0;4>e;e+=2)"margin"===c&&(f+=jQuery.css(a,c+qc[e],!0)),d?("content"===c&&(f-=parseFloat(cc(a,"padding"+qc[e]))||0),"margin"!==c&&(f-=parseFloat(cc(a,"border"+qc[e]+"Width"))||0)):(f+=parseFloat(cc(a,"padding"+qc[e]))||0,"padding"!==c&&(f+=parseFloat(cc(a,"border"+qc[e]+"Width"))||0));return f}function v(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e=!0,f=jQuery.support.boxSizing&&"border-box"===jQuery.css(a,"boxSizing");if(0>=d||null==d){if(d=cc(a,b),(0>d||null==d)&&(d=a.style[b]),lc.test(d))return d;e=f&&(jQuery.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+u(a,b,c||(f?"border":"content"),e)+"px"}function w(a){if(nc[a])return nc[a];var b=jQuery("<"+a+">").appendTo(P.body),c=b.css("display");return b.remove(),("none"===c||""===c)&&(dc=P.body.appendChild(dc||jQuery.extend(P.createElement("iframe"),{frameBorder:0,width:0,height:0})),ec&&dc.createElement||(ec=(dc.contentWindow||dc.contentDocument).document,ec.write("<!doctype html><html><body>"),ec.close()),b=ec.body.appendChild(ec.createElement(a)),c=cc(b,"display"),P.body.removeChild(dc)),nc[a]=c,c}function x(a,b,c,d){var e;if(jQuery.isArray(b))jQuery.each(b,function(b,e){c||uc.test(a)?d(a,e):x(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==jQuery.type(b))d(a,b);else for(e in b)x(a+"["+e+"]",b[e],c,d)}function y(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(cb),h=0,i=g.length;if(jQuery.isFunction(c))for(;i>h;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function z(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===Kc;k>j&&(l||!h);j++)h=i[j](c,d,e),"string"==typeof h&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=z(a,c,d,e,h,g)));return!l&&h||g["*"]||(h=z(a,c,d,e,"*",g)),h}function A(a,c){var d,e,f=jQuery.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&jQuery.extend(!0,a,e)}function B(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);for(;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function C(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if("*"!==e){if("*"!==h&&h!==e){if(c=i[h+" "+e]||i["* "+e],!c)for(d in i)if(f=d.split(" "),f[1]===e&&(c=i[h+" "+f[0]]||i["* "+f[0]])){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function D(){try{return new a.XMLHttpRequest}catch(b){}}function E(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function F(){return setTimeout(function(){Vc=b},0),Vc=jQuery.now()}function G(a,b){jQuery.each(b,function(b,c){for(var d=(_c[b]||[]).concat(_c["*"]),e=0,f=d.length;f>e;e++)if(d[e].call(a,b,c))return})}function H(a,b,c){var d,e=0,f=$c.length,g=jQuery.Deferred().always(function(){delete h.elem}),h=function(){for(var b=Vc||F(),c=Math.max(0,i.startTime+i.duration-b),d=c/i.duration||0,e=1-d,f=0,h=i.tweens.length;h>f;f++)i.tweens[f].run(e);return g.notifyWith(a,[i,e,c]),1>e&&h?c:(g.resolveWith(a,[i]),!1)},i=g.promise({elem:a,props:jQuery.extend({},b),opts:jQuery.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Vc||F(),duration:c.duration,tweens:[],createTween:function(b,c){var d=jQuery.Tween(a,i.opts,b,c,i.opts.specialEasing[b]||i.opts.easing);return i.tweens.push(d),d},stop:function(b){for(var c=0,d=b?i.tweens.length:0;d>c;c++)i.tweens[c].run(1);return b?g.resolveWith(a,[i,b]):g.rejectWith(a,[i,b]),this}}),j=i.props;for(I(j,i.opts.specialEasing);f>e;e++)if(d=$c[e].call(i,a,j,i.opts))return d;return G(i,j),jQuery.isFunction(i.opts.start)&&i.opts.start.call(a,i),jQuery.fx.timer(jQuery.extend(h,{anim:i,queue:i.opts.queue,elem:a})),i.progress(i.opts.progress).done(i.opts.done,i.opts.complete).fail(i.opts.fail).always(i.opts.always)}function I(a,b){var c,d,e,f,g;for(c in a)if(d=jQuery.camelCase(c),e=b[d],f=a[c],jQuery.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=jQuery.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function J(a,b,c){var d,e,f,g,h,i,j,k,l,m=this,n=a.style,o={},p=[],q=a.nodeType&&r(a);c.queue||(k=jQuery._queueHooks(a,"fx"),null==k.unqueued&&(k.unqueued=0,l=k.empty.fire,k.empty.fire=function(){k.unqueued||l()}),k.unqueued++,m.always(function(){m.always(function(){k.unqueued--,jQuery.queue(a,"fx").length||k.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],"inline"===jQuery.css(a,"display")&&"none"===jQuery.css(a,"float")&&(jQuery.support.inlineBlockNeedsLayout&&"inline"!==w(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",jQuery.support.shrinkWrapBlocks||m.done(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(f=b[d],Xc.exec(f)){if(delete b[d],i=i||"toggle"===f,f===(q?"hide":"show"))continue;p.push(d)}if(g=p.length){h=jQuery._data(a,"fxshow")||jQuery._data(a,"fxshow",{}),"hidden"in h&&(q=h.hidden),i&&(h.hidden=!q),q?jQuery(a).show():m.done(function(){jQuery(a).hide()}),m.done(function(){var b;jQuery.removeData(a,"fxshow",!0);for(b in o)jQuery.style(a,b,o[b])});for(d=0;g>d;d++)e=p[d],j=m.createTween(e,q?h[e]:0),o[e]=h[e]||jQuery.style(a,e),e in h||(h[e]=j.start,q&&(j.end=j.start,j.start="width"===e||"height"===e?1:0))}}function K(a,b,c,d,e){return new K.prototype.init(a,b,c,d,e)}function L(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=qc[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function M(a){return jQuery.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var N,O,P=a.document,Q=a.location,R=a.navigator,S=a.jQuery,T=a.$,U=Array.prototype.push,V=Array.prototype.slice,W=Array.prototype.indexOf,X=Object.prototype.toString,Y=Object.prototype.hasOwnProperty,Z=String.prototype.trim,jQuery=function(a,b){return new jQuery.fn.init(a,b,N)},ab=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,bb=/\S/,cb=/\s+/,db=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,eb=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,fb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,gb=/^[\],:{}\s]*$/,hb=/(?:^|:|,)(?:\s*\[)+/g,ib=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,jb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,kb=/^-ms-/,lb=/-([\da-z])/gi,mb=function(a,b){return(b+"").toUpperCase()},nb=function(){P.addEventListener?(P.removeEventListener("DOMContentLoaded",nb,!1),jQuery.ready()):"complete"===P.readyState&&(P.detachEvent("onreadystatechange",nb),jQuery.ready())},ob={};jQuery.fn=jQuery.prototype={constructor:jQuery,init:function(a,c,d){var e,f,g;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:eb.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1])return c=c instanceof jQuery?c[0]:c,g=c&&c.nodeType?c.ownerDocument||c:P,a=jQuery.parseHTML(e[1],g,!0),fb.test(e[1])&&jQuery.isPlainObject(c)&&this.attr.call(a,c,!0),jQuery.merge(this,a);if(f=P.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=P,this.selector=a,this}return jQuery.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),jQuery.makeArray(a,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return V.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=jQuery.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return jQuery.each(this,a,b)},ready:function(a){return jQuery.ready.promise().done(a),this},eq:function(a){return a=+a,-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(V.apply(this,arguments),"slice",V.call(arguments).join(","))},map:function(a){return this.pushStack(jQuery.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:[].sort,splice:[].splice},jQuery.fn.init.prototype=jQuery.fn,jQuery.extend=jQuery.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||jQuery.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(k&&e&&(jQuery.isPlainObject(e)||(f=jQuery.isArray(e)))?(f?(f=!1,g=d&&jQuery.isArray(d)?d:[]):g=d&&jQuery.isPlainObject(d)?d:{},h[c]=jQuery.extend(k,g,e)):e!==b&&(h[c]=e));return h},jQuery.extend({noConflict:function(b){return a.$===jQuery&&(a.$=T),b&&a.jQuery===jQuery&&(a.jQuery=S),jQuery},isReady:!1,readyWait:1,holdReady:function(a){a?jQuery.readyWait++:jQuery.ready(!0)},ready:function(a){if(a===!0?!--jQuery.readyWait:!jQuery.isReady){if(!P.body)return setTimeout(jQuery.ready,1);jQuery.isReady=!0,a!==!0&&--jQuery.readyWait>0||(O.resolveWith(P,[jQuery]),jQuery.fn.trigger&&jQuery(P).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===jQuery.type(a)},isArray:Array.isArray||function(a){return"array"===jQuery.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):ob[X.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==jQuery.type(a)||a.nodeType||jQuery.isWindow(a))return!1;try{if(a.constructor&&!Y.call(a,"constructor")&&!Y.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||Y.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return a&&"string"==typeof a?("boolean"==typeof b&&(c=b,b=0),b=b||P,(d=fb.exec(a))?[b.createElement(d[1])]:(d=jQuery.buildFragment([a],b,c?null:[]),jQuery.merge([],(d.cacheable?jQuery.clone(d.fragment):d.fragment).childNodes))):null},parseJSON:function(b){return b&&"string"==typeof b?(b=jQuery.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):gb.test(b.replace(ib,"@").replace(jb,"]").replace(hb,""))?new Function("return "+b)():void jQuery.error("Invalid JSON: "+b)):null},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&bb.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(kb,"ms-").replace(lb,mb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||jQuery.isFunction(a);if(d)if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;g>f&&c.apply(a[f++],d)!==!1;);else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;g>f&&c.call(a[f],f,a[f++])!==!1;);return a},trim:Z&&!Z.call("﻿ ")?function(a){return null==a?"":Z.call(a)}:function(a){return null==a?"":(a+"").replace(db,"")},makeArray:function(a,b){var c,d=b||[];return null!=a&&(c=jQuery.type(a),null==a.length||"string"===c||"function"===c||"regexp"===c||jQuery.isWindow(a)?U.call(d,a):jQuery.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(W)return W.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length,j=a instanceof jQuery||i!==b&&"number"==typeof i&&(i>0&&a[0]&&a[i-1]||0===i||jQuery.isArray(a));if(j)for(;i>h;h++)e=c(a[h],h,d),null!=e&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),null!=e&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(d=a[c],c=a,a=d),jQuery.isFunction(a)?(e=V.call(arguments,2),f=function(){return a.apply(c,e.concat(V.call(arguments)))},f.guid=a.guid=a.guid||jQuery.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=null==d,k=0,l=a.length;if(d&&"object"==typeof d){for(k in d)jQuery.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){if(i=h===b&&jQuery.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call(jQuery(a),c)}):(c.call(a,e),c=null)),c)for(;l>k;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),jQuery.ready.promise=function(b){if(!O)if(O=jQuery.Deferred(),"complete"===P.readyState)setTimeout(jQuery.ready,1);else if(P.addEventListener)P.addEventListener("DOMContentLoaded",nb,!1),a.addEventListener("load",jQuery.ready,!1);else{P.attachEvent("onreadystatechange",nb),a.attachEvent("onload",jQuery.ready);var c=!1;try{c=null==a.frameElement&&P.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!jQuery.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}jQuery.ready()}}()}return O.promise(b)},jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){ob["[object "+b+"]"]=b.toLowerCase()}),N=jQuery(P);var pb={};jQuery.Callbacks=function(a){a="string"==typeof a?pb[a]||c(a):jQuery.extend({},a);var d,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(d=a.memory&&b,e=!0,i=g||0,g=0,h=j.length,f=!0;j&&h>i;i++)if(j[i].apply(b[0],b[1])===!1&&a.stopOnFalse){d=!1;break}f=!1,j&&(k?k.length&&l(k.shift()):d?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function c(b){jQuery.each(b,function(_,b){var d=jQuery.type(b);"function"===d?a.unique&&m.has(b)||j.push(b):b&&b.length&&"string"!==d&&c(b)})}(arguments),f?h=j.length:d&&(g=b,l(d))}return this},remove:function(){return j&&jQuery.each(arguments,function(_,a){for(var b;(b=jQuery.inArray(a,j,b))>-1;)j.splice(b,1),f&&(h>=b&&h--,i>=b&&i--)}),this},has:function(a){return jQuery.inArray(a,j)>-1},empty:function(){return j=[],this},disable:function(){return j=k=d=b,this},disabled:function(){return!j},lock:function(){return k=b,d||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],!j||e&&!k||(f?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!e}};return m},jQuery.extend({Deferred:function(a){var b=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return jQuery.Deferred(function(c){jQuery.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]](jQuery.isFunction(g)?function(){var a=g.apply(this,arguments);a&&jQuery.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return null!=a?jQuery.extend(a,d):d}},e={};return d.pipe=d.then,jQuery.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=V.call(arguments),g=f.length,h=1!==g||a&&jQuery.isFunction(a.promise)?g:0,i=1===h?a:jQuery.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?V.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)
}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&jQuery.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),jQuery.support=function(){var b,c,d,e,f,g,h,i,j,k,l,m=P.createElement("div");if(m.setAttribute("className","t"),m.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=m.getElementsByTagName("*"),d=m.getElementsByTagName("a")[0],!c||!d||!c.length)return{};e=P.createElement("select"),f=e.appendChild(P.createElement("option")),g=m.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b={leadingWhitespace:3===m.firstChild.nodeType,tbody:!m.getElementsByTagName("tbody").length,htmlSerialize:!!m.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===g.value,optSelected:f.selected,getSetAttribute:"t"!==m.className,enctype:!!P.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==P.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===P.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete m.test}catch(n){b.deleteExpando=!1}if(!m.addEventListener&&m.attachEvent&&m.fireEvent&&(m.attachEvent("onclick",l=function(){b.noCloneEvent=!1}),m.cloneNode(!0).fireEvent("onclick"),m.detachEvent("onclick",l)),g=P.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue="t"===g.value,g.setAttribute("checked","checked"),g.setAttribute("name","t"),m.appendChild(g),h=P.createDocumentFragment(),h.appendChild(m.lastChild),b.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,h.removeChild(g),h.appendChild(m),m.attachEvent)for(j in{submit:!0,change:!0,focusin:!0})i="on"+j,k=i in m,k||(m.setAttribute(i,"return;"),k="function"==typeof m[i]),b[j+"Bubbles"]=k;return jQuery(function(){var c,d,e,f,g="padding:0;margin:0;border:0;display:block;overflow:hidden;",h=P.getElementsByTagName("body")[0];h&&(c=P.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",h.insertBefore(c,h.firstChild),d=P.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=d.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",k=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=k&&0===e[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===d.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==h.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(d,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(d,null)||{width:"4px"}).width,f=P.createElement("div"),f.style.cssText=d.style.cssText=g,f.style.marginRight=f.style.width="0",d.style.width="1px",d.appendChild(f),b.reliableMarginRight=!parseFloat((a.getComputedStyle(f,null)||{}).marginRight)),"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.cssText=g+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==d.offsetWidth,c.style.zoom=1),h.removeChild(c),c=d=e=f=null)}),h.removeChild(m),c=d=e=f=g=h=m=null,b}();var qb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,rb=/([A-Z])/g;jQuery.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(jQuery.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?jQuery.cache[a[jQuery.expando]]:a[jQuery.expando],!!a&&!e(a)},data:function(a,c,d,e){if(jQuery.acceptData(a)){var f,g,h=jQuery.expando,i="string"==typeof c,j=a.nodeType,k=j?jQuery.cache:a,l=j?a[h]:a[h]&&h;if(l&&k[l]&&(e||k[l].data)||!i||d!==b)return l||(j?a[h]=l=jQuery.deletedIds.pop()||jQuery.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=jQuery.noop)),("object"==typeof c||"function"==typeof c)&&(e?k[l]=jQuery.extend(k[l],c):k[l].data=jQuery.extend(k[l].data,c)),f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[jQuery.camelCase(c)]=d),i?(g=f[c],null==g&&(g=f[jQuery.camelCase(c)])):g=f,g}},removeData:function(a,b,c){if(jQuery.acceptData(a)){var d,f,g,h=a.nodeType,i=h?jQuery.cache:a,j=h?a[jQuery.expando]:jQuery.expando;if(i[j]){if(b&&(d=c?i[j]:i[j].data)){jQuery.isArray(b)||(b in d?b=[b]:(b=jQuery.camelCase(b),b=b in d?[b]:b.split(" ")));for(f=0,g=b.length;g>f;f++)delete d[b[f]];if(!(c?e:jQuery.isEmptyObject)(d))return}(c||(delete i[j].data,e(i[j])))&&(h?jQuery.cleanData([a],!0):jQuery.support.deleteExpando||i!=i.window?delete i[j]:i[j]=null)}}},_data:function(a,b,c){return jQuery.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&jQuery.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),jQuery.fn.extend({data:function(a,c){var e,f,g,h,i,j=this[0],k=0,l=null;if(a===b){if(this.length&&(l=jQuery.data(j),1===j.nodeType&&!jQuery._data(j,"parsedAttrs"))){for(g=j.attributes,i=g.length;i>k;k++)h=g[k].name,h.indexOf("data-")||(h=jQuery.camelCase(h.substring(5)),d(j,h,l[h]));jQuery._data(j,"parsedAttrs",!0)}return l}return"object"==typeof a?this.each(function(){jQuery.data(this,a)}):(e=a.split(".",2),e[1]=e[1]?"."+e[1]:"",f=e[1]+"!",jQuery.access(this,function(c){return c===b?(l=this.triggerHandler("getData"+f,[e[0]]),l===b&&j&&(l=jQuery.data(j,a),l=d(j,a,l)),l===b&&e[1]?this.data(e[0]):l):(e[1]=c,void this.each(function(){var b=jQuery(this);b.triggerHandler("setData"+f,e),jQuery.data(this,a,c),b.triggerHandler("changeData"+f,e)}))},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){jQuery.removeData(this,a)})}}),jQuery.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=jQuery._data(a,b),c&&(!d||jQuery.isArray(c)?d=jQuery._data(a,b,jQuery.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=jQuery.queue(a,b),d=c.length,e=c.shift(),f=jQuery._queueHooks(a,b),g=function(){jQuery.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return jQuery._data(a,c)||jQuery._data(a,c,{empty:jQuery.Callbacks("once memory").add(function(){jQuery.removeData(a,b+"queue",!0),jQuery.removeData(a,c,!0)})})}}),jQuery.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?jQuery.queue(this[0],a):c===b?this:this.each(function(){var b=jQuery.queue(this,a,c);jQuery._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&jQuery.dequeue(this,a)})},dequeue:function(a){return this.each(function(){jQuery.dequeue(this,a)})},delay:function(a,b){return a=jQuery.fx?jQuery.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=jQuery.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=jQuery._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var sb,tb,ub=/[\t\r\n]/g,vb=/\r/g,wb=/^(?:button|input)$/i,xb=/^(?:button|input|object|select|textarea)$/i,yb=/^a(?:rea|)$/i,zb=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ab=jQuery.support.getSetAttribute;jQuery.fn.extend({attr:function(a,b){return jQuery.access(this,jQuery.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){jQuery.removeAttr(this,a)})},prop:function(a,b){return jQuery.access(this,jQuery.prop,a,b,arguments.length>1)},removeProp:function(a){return a=jQuery.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(jQuery.isFunction(a))return this.each(function(b){jQuery(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(cb),c=0,d=this.length;d>c;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==b.length){for(f=" "+e.className+" ",g=0,h=b.length;h>g;g++)f.indexOf(" "+b[g]+" ")<0&&(f+=b[g]+" ");e.className=jQuery.trim(f)}else e.className=a;return this},removeClass:function(a){var c,d,e,f,g,h,i;if(jQuery.isFunction(a))return this.each(function(b){jQuery(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b)for(c=(a||"").split(cb),h=0,i=this.length;i>h;h++)if(e=this[h],1===e.nodeType&&e.className){for(d=(" "+e.className+" ").replace(ub," "),f=0,g=c.length;g>f;f++)for(;d.indexOf(" "+c[f]+" ")>=0;)d=d.replace(" "+c[f]+" "," ");e.className=a?jQuery.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return this.each(jQuery.isFunction(a)?function(c){jQuery(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var e,f=0,g=jQuery(this),h=b,i=a.split(cb);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else("undefined"===c||"boolean"===c)&&(this.className&&jQuery._data(this,"__className__",this.className),this.className=this.className||a===!1?"":jQuery._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ub," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=jQuery.isFunction(a),this.each(function(d){var f,g=jQuery(this);1===this.nodeType&&(f=e?a.call(this,d,g.val()):a,null==f?f="":"number"==typeof f?f+="":jQuery.isArray(f)&&(f=jQuery.map(f,function(a){return null==a?"":a+""})),c=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))});if(f)return c=jQuery.valHooks[f.type]||jQuery.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(vb,""):null==d?"":d)}}}),jQuery.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(jQuery.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&jQuery.nodeName(c.parentNode,"optgroup"))){if(b=jQuery(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=jQuery.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=jQuery.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(a&&3!==i&&8!==i&&2!==i)return e&&jQuery.isFunction(jQuery.fn[c])?jQuery(a)[c](d):"undefined"==typeof a.getAttribute?jQuery.prop(a,c,d):(h=1!==i||!jQuery.isXMLDoc(a),h&&(c=c.toLowerCase(),g=jQuery.attrHooks[c]||(zb.test(c)?tb:sb)),d!==b?null===d?void jQuery.removeAttr(a,c):g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):g&&"get"in g&&h&&null!==(f=g.get(a,c))?f:(f=a.getAttribute(c),null===f?b:f))},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&1===a.nodeType)for(d=b.split(cb);g<d.length;g++)e=d[g],e&&(c=jQuery.propFix[e]||e,f=zb.test(e),f||jQuery.attr(a,e,""),a.removeAttribute(Ab?e:c),f&&c in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(wb.test(a.nodeName)&&a.parentNode)jQuery.error("type property can't be changed");else if(!jQuery.support.radioValue&&"radio"===b&&jQuery.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return sb&&jQuery.nodeName(a,"button")?sb.get(a,b):b in a?a.value:null},set:function(a,b,c){return sb&&jQuery.nodeName(a,"button")?sb.set(a,b,c):void(a.value=b)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!jQuery.isXMLDoc(a),g&&(c=jQuery.propFix[c]||c,f=jQuery.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):xb.test(a.nodeName)||yb.test(a.nodeName)&&a.href?0:b}}}}),tb={get:function(a,c){var d,e=jQuery.prop(a,c);return e===!0||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?jQuery.removeAttr(a,c):(d=jQuery.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},jQuery.support.hrefNormalized||jQuery.each(["href","src","width","height"],function(a,c){jQuery.attrHooks[c]=jQuery.extend(jQuery.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null===d?b:d}})}),jQuery.support.style||(jQuery.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=b+""}}),jQuery.support.optSelected||(jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),jQuery.support.enctype||(jQuery.propFix.enctype="encoding"),jQuery.support.checkOn||jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function(a,b){return jQuery.isArray(b)?a.checked=jQuery.inArray(jQuery(a).val(),b)>=0:void 0}})});var Bb=/^(?:textarea|input|select)$/i,Cb=/^([^\.]*|)(?:\.(.+)|)$/,Db=/(?:^|\s)hover(\.\S+|)\b/,Eb=/^key/,Fb=/^(?:mouse|contextmenu)|click/,Gb=/^(?:focusinfocus|focusoutblur)$/,Hb=function(a){return jQuery.event.special.hover?a:a.replace(Db,"mouseenter$1 mouseleave$1")};jQuery.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(g=jQuery._data(a))){for(d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=jQuery.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return"undefined"==typeof jQuery||a&&jQuery.event.triggered===a.type?b:jQuery.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=jQuery.trim(Hb(c)).split(" "),j=0;j<c.length;j++)k=Cb.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),q=jQuery.event.special[l]||{},l=(f?q.delegateType:q.bindType)||l,q=jQuery.event.special[l]||{},n=jQuery.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&jQuery.expr.match.needsContext.test(f),namespace:m.join(".")},o),p=i[l],p||(p=i[l]=[],p.delegateCount=0,q.setup&&q.setup.call(a,e,m,h)!==!1||(a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h))),q.add&&(q.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?p.splice(p.delegateCount++,0,n):p.push(n),jQuery.event.global[l]=!0;a=null}},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=jQuery.hasData(a)&&jQuery._data(a);if(q&&(m=q.events)){for(b=jQuery.trim(Hb(b||"")).split(" "),f=0;f<b.length;f++)if(g=Cb.exec(b[f])||[],h=i=g[1],j=g[2],h){for(n=jQuery.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=0;l<o.length;l++)p=o[l],!e&&i!==p.origType||c&&c.guid!==p.guid||j&&!j.test(p.namespace)||d&&d!==p.selector&&("**"!==d||!p.selector)||(o.splice(l--,1),p.selector&&o.delegateCount--,n.remove&&n.remove.call(a,p));0===o.length&&k!==o.length&&(n.teardown&&n.teardown.call(a,j,q.handle)!==!1||jQuery.removeEvent(a,h,q.handle),delete m[h])}else for(h in m)jQuery.event.remove(a,h+b[f],c,d,!0);jQuery.isEmptyObject(m)&&(delete q.handle,jQuery.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||3!==e.nodeType&&8!==e.nodeType){var g,h,i,j,k,l,m,n,o,p,q=c.type||c,r=[];if(!Gb.test(q+jQuery.event.triggered)&&(q.indexOf("!")>=0&&(q=q.slice(0,-1),h=!0),q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),e&&!jQuery.event.customEvent[q]||jQuery.event.global[q]))if(c="object"==typeof c?c[jQuery.expando]?c:new jQuery.Event(q,c):new jQuery.Event(q),c.type=q,c.isTrigger=!0,c.exclusive=h,c.namespace=r.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=q.indexOf(":")<0?"on"+q:"",e){if(c.result=b,c.target||(c.target=e),d=null!=d?jQuery.makeArray(d):[],d.unshift(c),m=jQuery.event.special[q]||{},!m.trigger||m.trigger.apply(e,d)!==!1){if(o=[[e,m.bindType||q]],!f&&!m.noBubble&&!jQuery.isWindow(e)){for(p=m.delegateType||q,j=Gb.test(p+q)?e:e.parentNode,k=e;j;j=j.parentNode)o.push([j,p]),k=j;k===(e.ownerDocument||P)&&o.push([k.defaultView||k.parentWindow||a,p])}for(i=0;i<o.length&&!c.isPropagationStopped();i++)j=o[i][0],c.type=o[i][1],n=(jQuery._data(j,"events")||{})[c.type]&&jQuery._data(j,"handle"),n&&n.apply(j,d),n=l&&j[l],n&&jQuery.acceptData(j)&&n.apply&&n.apply(j,d)===!1&&c.preventDefault();return c.type=q,f||c.isDefaultPrevented()||m._default&&m._default.apply(e.ownerDocument,d)!==!1||"click"===q&&jQuery.nodeName(e,"a")||!jQuery.acceptData(e)||l&&e[q]&&("focus"!==q&&"blur"!==q||0!==c.target.offsetWidth)&&!jQuery.isWindow(e)&&(k=e[l],k&&(e[l]=null),jQuery.event.triggered=q,e[q](),jQuery.event.triggered=b,k&&(e[l]=k)),c.result}}else{g=jQuery.cache;for(i in g)g[i].events&&g[i].events[q]&&jQuery.event.trigger(c,d,g[i].handle.elem,!0)}}},dispatch:function(c){c=jQuery.event.fix(c||a.event);var d,e,f,g,h,i,j,k,l,m=(jQuery._data(this,"events")||{})[c.type]||[],n=m.delegateCount,o=V.call(arguments),p=!c.exclusive&&!c.namespace,q=jQuery.event.special[c.type]||{},r=[];if(o[0]=c,c.delegateTarget=this,!q.preDispatch||q.preDispatch.call(this,c)!==!1){if(n&&(!c.button||"click"!==c.type))for(f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||"click"!==c.type){for(h={},j=[],d=0;n>d;d++)k=m[d],l=k.selector,h[l]===b&&(h[l]=k.needsContext?jQuery(l,this).index(f)>=0:jQuery.find(l,this,null,[f]).length),h[l]&&j.push(k);j.length&&r.push({elem:f,matches:j})}for(m.length>n&&r.push({elem:this,matches:m.slice(n)}),d=0;d<r.length&&!c.isPropagationStopped();d++)for(i=r[d],c.currentTarget=i.elem,e=0;e<i.matches.length&&!c.isImmediatePropagationStopped();e++)k=i.matches[e],(p||!c.namespace&&!k.namespace||c.namespace_re&&c.namespace_re.test(k.namespace))&&(c.data=k.data,c.handleObj=k,g=((jQuery.event.special[k.origType]||{}).handle||k.handler).apply(i.elem,o),g!==b&&(c.result=g,g===!1&&(c.preventDefault(),c.stopPropagation())));return q.postDispatch&&q.postDispatch.call(this,c),c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||P,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[jQuery.expando])return a;var b,c,d=a,e=jQuery.event.fixHooks[a.type]||{},f=e.props?this.props.concat(e.props):this.props;for(a=jQuery.Event(d),b=f.length;b;)c=f[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||P),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,e.filter?e.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){jQuery.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=jQuery.extend(new jQuery.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?jQuery.event.trigger(e,null,b):jQuery.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},jQuery.event.handle=jQuery.event.dispatch,jQuery.removeEvent=P.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},jQuery.Event=function(a,b){return this instanceof jQuery.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?g:f):this.type=a,b&&jQuery.extend(this,b),this.timeStamp=a&&a.timeStamp||jQuery.now(),void(this[jQuery.expando]=!0)):new jQuery.Event(a,b)},jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=g;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=g;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g,this.stopPropagation()},isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){jQuery.event.special[a]={delegateType:b,bindType:b,handle:function(a){{var c,d=this,e=a.relatedTarget,f=a.handleObj;f.selector}return(!e||e!==d&&!jQuery.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),jQuery.support.submitBubbles||(jQuery.event.special.submit={setup:function(){return jQuery.nodeName(this,"form")?!1:void jQuery.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=jQuery.nodeName(c,"input")||jQuery.nodeName(c,"button")?c.form:b;d&&!jQuery._data(d,"_submit_attached")&&(jQuery.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),jQuery._data(d,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&jQuery.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return jQuery.nodeName(this,"form")?!1:void jQuery.event.remove(this,"._submit")}}),jQuery.support.changeBubbles||(jQuery.event.special.change={setup:function(){return Bb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(jQuery.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),jQuery.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),jQuery.event.simulate("change",this,a,!0)})),!1):void jQuery.event.add(this,"beforeactivate._change",function(a){var b=a.target;Bb.test(b.nodeName)&&!jQuery._data(b,"_change_attached")&&(jQuery.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||jQuery.event.simulate("change",this.parentNode,a,!0)}),jQuery._data(b,"_change_attached",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return jQuery.event.remove(this,"._change"),!Bb.test(this.nodeName)}}),jQuery.support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){jQuery.event.simulate(b,a.target,jQuery.event.fix(a),!0)};jQuery.event.special[b]={setup:function(){0===c++&&P.addEventListener(a,d,!0)},teardown:function(){0===--c&&P.removeEventListener(a,d,!0)}}}),jQuery.fn.extend({on:function(a,c,d,e,g){var h,i;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=f;else if(!e)return this;return 1===g&&(h=e,e=function(a){return jQuery().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,g;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,jQuery(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(g in a)this.off(g,c,a[g]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=f),this.each(function(){jQuery.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return jQuery(this.context).on(a,this.selector,b,c),this},die:function(a,b){return jQuery(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){jQuery.event.trigger(a,b,this)})},triggerHandler:function(a,b){return this[0]?jQuery.event.trigger(a,b,this[0],!0):void 0},toggle:function(a){var b=arguments,c=a.guid||jQuery.guid++,d=0,e=function(c){var e=(jQuery._data(this,"lastToggle"+a.guid)||0)%d;return jQuery._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){jQuery.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Eb.test(b)&&(jQuery.event.fixHooks[b]=jQuery.event.keyHooks),Fb.test(b)&&(jQuery.event.fixHooks[b]=jQuery.event.mouseHooks)}),function(a,b){function c(a,b,c,d){c=c||[],b=b||F;var e,f,g,h,i=b.nodeType;if(!a||"string"!=typeof a)return c;if(1!==i&&9!==i)return[];if(g=v(b),!g&&!d&&(e=db.exec(a)))if(h=e[1]){if(9===i){if(f=b.getElementById(h),!f||!f.parentNode)return c;if(f.id===h)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(h))&&w(b,f)&&f.id===h)return c.push(f),c}else{if(e[2])return K.apply(c,L.call(b.getElementsByTagName(a),0)),c;if((h=e[3])&&nb&&b.getElementsByClassName)return K.apply(c,L.call(b.getElementsByClassName(h),0)),c}return p(a.replace(Z,"$1"),b,c,d,g)}function d(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function e(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function f(a){return N(function(b){return b=+b,N(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function g(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}function h(a,b){var d,e,f,g,h,i,j,k=Q[D][a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=t.preFilter;h;){(!d||(e=ab.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=bb.exec(h))&&(f.push(d=new E(e.shift())),h=h.slice(d.length),d.type=e[0].replace(Z," "));for(g in t.filter)!(e=ib[g].exec(h))||j[g]&&!(e=j[g](e))||(f.push(d=new E(e.shift())),h=h.slice(d.length),d.type=g,d.matches=e);if(!d)break}return b?h.length:h?c.error(a):Q(a,i).slice(0)}function i(a,b,c){var d=b.dir,e=c&&"parentNode"===b.dir,f=I++;return b.first?function(b,c,f){for(;b=b[d];)if(e||1===b.nodeType)return a(b,c,f)}:function(b,c,g){if(g){for(;b=b[d];)if((e||1===b.nodeType)&&a(b,c,g))return b}else for(var h,i=H+" "+f+" ",j=i+r;b=b[d];)if(e||1===b.nodeType){if((h=b[D])===j)return b.sizset;if("string"==typeof h&&0===h.indexOf(i)){if(b.sizset)return b}else{if(b[D]=j,a(b,c,g))return b.sizset=!0,b;b.sizset=!1}}}}function j(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function k(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function l(a,b,c,d,e,f){return d&&!d[D]&&(d=l(d)),e&&!e[D]&&(e=l(e,f)),N(function(f,g,h,i){var j,l,m,n=[],p=[],q=g.length,r=f||o(b||"*",h.nodeType?[h]:h,[]),s=!a||!f&&b?r:k(r,n,a,h,i),t=c?e||(f?a:q||d)?[]:g:s;if(c&&c(s,t,h,i),d)for(j=k(t,p),d(j,[],h,i),l=j.length;l--;)(m=j[l])&&(t[p[l]]=!(s[p[l]]=m));if(f){if(e||a){if(e){for(j=[],l=t.length;l--;)(m=t[l])&&j.push(s[l]=m);e(null,t=[],j,i)}for(l=t.length;l--;)(m=t[l])&&(j=e?M.call(f,m):n[l])>-1&&(f[j]=!(g[j]=m))}}else t=k(t===g?t.splice(q,t.length):t),e?e(null,g,t,i):K.apply(g,t)})}function m(a){for(var b,c,d,e=a.length,f=t.relative[a[0].type],g=f||t.relative[" "],h=f?1:0,k=i(function(a){return a===b},g,!0),n=i(function(a){return M.call(b,a)>-1},g,!0),o=[function(a,c,d){return!f&&(d||c!==A)||((b=c).nodeType?k(a,c,d):n(a,c,d))}];e>h;h++)if(c=t.relative[a[h].type])o=[i(j(o),c)];else{if(c=t.filter[a[h].type].apply(null,a[h].matches),c[D]){for(d=++h;e>d&&!t.relative[a[d].type];d++);return l(h>1&&j(o),h>1&&a.slice(0,h-1).join("").replace(Z,"$1"),c,d>h&&m(a.slice(h,d)),e>d&&m(a=a.slice(d)),e>d&&a.join(""))}o.push(c)}return j(o)}function n(a,b){var d=b.length>0,e=a.length>0,f=function(g,h,i,j,l){var m,n,o,p=[],q=0,s="0",u=g&&[],v=null!=l,w=A,x=g||e&&t.find.TAG("*",l&&h.parentNode||h),y=H+=null==w?1:Math.E;for(v&&(A=h!==F&&h,r=f.el);null!=(m=x[s]);s++){if(e&&m){for(n=0;o=a[n];n++)if(o(m,h,i)){j.push(m);break}v&&(H=y,r=++f.el)}d&&((m=!o&&m)&&q--,g&&u.push(m))}if(q+=s,d&&s!==q){for(n=0;o=b[n];n++)o(u,p,h,i);if(g){if(q>0)for(;s--;)u[s]||p[s]||(p[s]=J.call(j));p=k(p)}K.apply(j,p),v&&!g&&p.length>0&&q+b.length>1&&c.uniqueSort(j)}return v&&(H=y,A=w),u};return f.el=0,d?N(f):f}function o(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function p(a,b,c,d,e){{var f,g,i,j,k,l=h(a);l.length}if(!d&&1===l.length){if(g=l[0]=l[0].slice(0),g.length>2&&"ID"===(i=g[0]).type&&9===b.nodeType&&!e&&t.relative[g[1].type]){if(b=t.find.ID(i.matches[0].replace(hb,""),b,e)[0],!b)return c;a=a.slice(g.shift().length)}for(f=ib.POS.test(a)?-1:g.length-1;f>=0&&(i=g[f],!t.relative[j=i.type]);f--)if((k=t.find[j])&&(d=k(i.matches[0].replace(hb,""),eb.test(g[0].type)&&b.parentNode||b,e))){if(g.splice(f,1),a=d.length&&g.join(""),!a)return K.apply(c,L.call(d,0)),c;break}}return x(a,l)(d,b,e,c,eb.test(a)),c}function q(){}var r,s,t,u,v,w,x,y,z,A,B=!0,C="undefined",D=("sizcache"+Math.random()).replace(".",""),E=String,F=a.document,G=F.documentElement,H=0,I=0,J=[].pop,K=[].push,L=[].slice,M=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},N=function(a,b){return a[D]=null==b||b,a},O=function(){var a={},b=[];return N(function(c,d){return b.push(c)>t.cacheLength&&delete a[b.shift()],a[c+" "]=d},a)},P=O(),Q=O(),R=O(),S="[\\x20\\t\\r\\n\\f]",T="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",U=T.replace("w","w#"),V="([*^$|!~]?=)",W="\\["+S+"*("+T+")"+S+"*(?:"+V+S+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+U+")|)|)"+S+"*\\]",X=":("+T+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+W+")|[^:]|\\\\.)*|.*))\\)|)",Y=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+S+"*((?:-\\d)?\\d*)"+S+"*\\)|)(?=[^-]|$)",Z=new RegExp("^"+S+"+|((?:^|[^\\\\])(?:\\\\.)*)"+S+"+$","g"),ab=new RegExp("^"+S+"*,"+S+"*"),bb=new RegExp("^"+S+"*([\\x20\\t\\r\\n\\f>+~])"+S+"*"),cb=new RegExp(X),db=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,eb=/[\x20\t\r\n\f]*[+~]/,fb=/h\d/i,gb=/input|select|textarea|button/i,hb=/\\(?!\\)/g,ib={ID:new RegExp("^#("+T+")"),CLASS:new RegExp("^\\.("+T+")"),NAME:new RegExp("^\\[name=['\"]?("+T+")['\"]?\\]"),TAG:new RegExp("^("+T.replace("w","w*")+")"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+X),POS:new RegExp(Y,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+S+"*(even|odd|(([+-]|)(\\d*)n|)"+S+"*(?:([+-]|)"+S+"*(\\d+)|))"+S+"*\\)|)","i"),needsContext:new RegExp("^"+S+"*[>+~]|"+Y,"i")},jb=function(a){var b=F.createElement("div");
try{return a(b)}catch(c){return!1}finally{b=null}},kb=jb(function(a){return a.appendChild(F.createComment("")),!a.getElementsByTagName("*").length}),lb=jb(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==C&&"#"===a.firstChild.getAttribute("href")}),mb=jb(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),nb=jb(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&a.getElementsByClassName("e").length?(a.lastChild.className="e",2===a.getElementsByClassName("e").length):!1}),ob=jb(function(a){a.id=D+0,a.innerHTML="<a name='"+D+"'></a><div name='"+D+"'></div>",G.insertBefore(a,G.firstChild);var b=F.getElementsByName&&F.getElementsByName(D).length===2+F.getElementsByName(D+0).length;return s=!F.getElementById(D),G.removeChild(a),b});try{L.call(G.childNodes,0)[0].nodeType}catch(pb){L=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){return c(b,null,null,[a]).length>0},u=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=u(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=u(b);return c},v=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},w=c.contains=G.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&1===d.nodeType&&c.contains&&c.contains(d))}:G.compareDocumentPosition?function(a,b){return b&&!!(16&a.compareDocumentPosition(b))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},c.attr=function(a,b){var c,d=v(a);return d||(b=b.toLowerCase()),(c=t.attrHandle[b])?c(a):d||mb?a.getAttribute(b):(c=a.getAttributeNode(b),c?"boolean"==typeof a[b]?a[b]?b:null:c.specified?c.value:null:null)},t=c.selectors={cacheLength:50,createPseudo:N,match:ib,attrHandle:lb?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:s?function(a,b,c){if(typeof b.getElementById!==C&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==C&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==C&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:kb?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var d,e=[],f=0;d=c[f];f++)1===d.nodeType&&e.push(d);return e}return c},NAME:ob&&function(a,b){return typeof b.getElementsByName!==C?b.getElementsByName(name):void 0},CLASS:nb&&function(a,b,c){return typeof b.getElementsByClassName===C||c?void 0:b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(hb,""),a[3]=(a[4]||a[5]||"").replace(hb,""),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1]?(a[2]||c.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&c.error(a[0]),a},PSEUDO:function(a){var b,c;return ib.CHILD.test(a[0])?null:(a[3]?a[2]=a[3]:(b=a[4])&&(cb.test(b)&&(c=h(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(b=b.slice(0,c),a[0]=a[0].slice(0,c)),a[2]=b),a.slice(0,3))}},filter:{ID:s?function(a){return a=a.replace(hb,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(hb,""),function(b){var c=typeof b.getAttributeNode!==C&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(hb,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=P[D][a+" "];return b||(b=new RegExp("(^|"+S+")"+a+"("+S+"|$)"))&&P(a,function(a){return b.test(a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:b?(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.substr(f.length-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b?f===d||f.substr(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d){return"nth"===a?function(a){var b,e,f=a.parentNode;if(1===c&&0===d)return!0;if(f)for(e=0,b=f.firstChild;b&&(1!==b.nodeType||(e++,a!==b));b=b.nextSibling);return e-=d,e===c||e%c===0&&e/c>=0}:function(b){var c=b;switch(a){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b){var d,e=t.pseudos[a]||t.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return e[D]?e(b):e.length>1?(d=[a,a,"",b],t.setFilters.hasOwnProperty(a.toLowerCase())?N(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=M.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,d)}):e}},pseudos:{not:N(function(a){var b=[],c=[],d=x(a.replace(Z,"$1"));return d[D]?N(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:N(function(a){return function(b){return c(a,b).length>0}}),contains:N(function(a){return function(b){return(b.textContent||b.innerText||u(b)).indexOf(a)>-1}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!t.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if(a.nodeName>"@"||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},header:function(a){return fb.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:d("radio"),checkbox:d("checkbox"),file:d("file"),password:d("password"),image:d("image"),submit:e("submit"),reset:e("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return gb.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},active:function(a){return a===a.ownerDocument.activeElement},first:f(function(){return[0]}),last:f(function(a,b){return[b-1]}),eq:f(function(a,b,c){return[0>c?c+b:c]}),even:f(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:f(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:f(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:f(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},y=G.compareDocumentPosition?function(a,b){return a===b?(z=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b):a.compareDocumentPosition)?-1:1}:function(a,b){if(a===b)return z=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],h=a.parentNode,i=b.parentNode,j=h;if(h===i)return g(a,b);if(!h)return-1;if(!i)return 1;for(;j;)e.unshift(j),j=j.parentNode;for(j=i;j;)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;c>k&&d>k;k++)if(e[k]!==f[k])return g(e[k],f[k]);return k===c?g(a,f[k],-1):g(e[k],b,1)},[0,0].sort(y),B=!z,c.uniqueSort=function(a){var b,c=[],d=1,e=0;if(z=B,a.sort(y),z){for(;b=a[d];d++)b===a[d-1]&&(e=c.push(d));for(;e--;)a.splice(c[e],1)}return a},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},x=c.compile=function(a,b){var c,d=[],e=[],f=R[D][a+" "];if(!f){for(b||(b=h(a)),c=b.length;c--;)f=m(b[c]),f[D]?d.push(f):e.push(f);f=R(a,n(e,d))}return f},F.querySelectorAll&&!function(){var a,b=p,d=/'|\\/g,e=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,f=[":focus"],g=[":active"],i=G.matchesSelector||G.mozMatchesSelector||G.webkitMatchesSelector||G.oMatchesSelector||G.msMatchesSelector;jb(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||f.push("\\["+S+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||f.push(":checked")}),jb(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&f.push("[*^$]="+S+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'/>",a.querySelectorAll(":enabled").length||f.push(":enabled",":disabled")}),f=new RegExp(f.join("|")),p=function(a,c,e,g,i){if(!g&&!i&&!f.test(a)){var j,k,l=!0,m=D,n=c,o=9===c.nodeType&&a;if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){for(j=h(a),(l=c.getAttribute("id"))?m=l.replace(d,"\\$&"):c.setAttribute("id",m),m="[id='"+m+"'] ",k=j.length;k--;)j[k]=m+j[k].join("");n=eb.test(a)&&c.parentNode||c,o=j.join(",")}if(o)try{return K.apply(e,L.call(n.querySelectorAll(o),0)),e}catch(p){}finally{l||c.removeAttribute("id")}}return b(a,c,e,g,i)},i&&(jb(function(b){a=i.call(b,"div");try{i.call(b,"[test!='']:sizzle"),g.push("!=",X)}catch(c){}}),g=new RegExp(g.join("|")),c.matchesSelector=function(b,d){if(d=d.replace(e,"='$1']"),!v(b)&&!g.test(d)&&!f.test(d))try{var h=i.call(b,d);if(h||a||b.document&&11!==b.document.nodeType)return h}catch(j){}return c(d,null,null,[b]).length>0})}(),t.pseudos.nth=t.pseudos.eq,t.filters=q.prototype=t.pseudos,t.setFilters=new q,c.attr=jQuery.attr,jQuery.find=c,jQuery.expr=c.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=c.uniqueSort,jQuery.text=c.getText,jQuery.isXMLDoc=c.isXML,jQuery.contains=c.contains}(a);var Ib=/Until$/,Jb=/^(?:parents|prev(?:Until|All))/,Kb=/^.[^:#\[\.,]*$/,Lb=jQuery.expr.match.needsContext,Mb={children:!0,contents:!0,next:!0,prev:!0};jQuery.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if("string"!=typeof a)return jQuery(a).filter(function(){for(b=0,c=h.length;c>b;b++)if(jQuery.contains(h[b],this))return!0});for(g=this.pushStack("","find",a),b=0,c=this.length;c>b;b++)if(d=g.length,jQuery.find(a,this[b],g),b>0)for(e=d;e<g.length;e++)for(f=0;d>f;f++)if(g[f]===g[e]){g.splice(e--,1);break}return g},has:function(a){var b,c=jQuery(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(jQuery.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(j(this,a,!1),"not",a)},filter:function(a){return this.pushStack(j(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?Lb.test(a)?jQuery(a,this.context).index(this[0])>=0:jQuery.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Lb.test(a)||"string"!=typeof a?jQuery(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(g?g.index(c)>-1:jQuery.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}return f=f.length>1?jQuery.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?"string"==typeof a?jQuery.inArray(this[0],jQuery(a)):jQuery.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"==typeof a?jQuery(a,b):jQuery.makeArray(a&&a.nodeType?[a]:a),d=jQuery.merge(this.get(),c);return this.pushStack(h(c[0])||h(d[0])?d:jQuery.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),jQuery.fn.andSelf=jQuery.fn.addBack,jQuery.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return jQuery.dir(a,"parentNode")},parentsUntil:function(a,b,c){return jQuery.dir(a,"parentNode",c)},next:function(a){return i(a,"nextSibling")},prev:function(a){return i(a,"previousSibling")},nextAll:function(a){return jQuery.dir(a,"nextSibling")},prevAll:function(a){return jQuery.dir(a,"previousSibling")},nextUntil:function(a,b,c){return jQuery.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return jQuery.dir(a,"previousSibling",c)},siblings:function(a){return jQuery.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return jQuery.sibling(a.firstChild)},contents:function(a){return jQuery.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:jQuery.merge([],a.childNodes)}},function(a,b){jQuery.fn[a]=function(c,d){var e=jQuery.map(this,b,c);return Ib.test(a)||(d=c),d&&"string"==typeof d&&(e=jQuery.filter(d,e)),e=this.length>1&&!Mb[a]?jQuery.unique(e):e,this.length>1&&Jb.test(a)&&(e=e.reverse()),this.pushStack(e,a,V.call(arguments).join(","))}}),jQuery.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?jQuery.find.matchesSelector(b[0],a)?[b[0]]:[]:jQuery.find.matches(a,b)},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!jQuery(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Nb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ob=/ jQuery\d+="(?:null|\d+)"/g,Pb=/^\s+/,Qb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Rb=/<([\w:]+)/,Sb=/<tbody/i,Tb=/<|&#?\w+;/,Ub=/<(?:script|style|link)/i,Vb=/<(?:script|object|embed|option|style)/i,Wb=new RegExp("<(?:"+Nb+")[\\s/>]","i"),Xb=/^(?:checkbox|radio)$/,Yb=/checked\s*(?:[^=]|=\s*.checked.)/i,Zb=/\/(java|ecma)script/i,$b=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,_b={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ac=k(P),bc=ac.appendChild(P.createElement("div"));_b.optgroup=_b.option,_b.tbody=_b.tfoot=_b.colgroup=_b.caption=_b.thead,_b.th=_b.td,jQuery.support.htmlSerialize||(_b._default=[1,"X<div>","</div>"]),jQuery.fn.extend({text:function(a){return jQuery.access(this,function(a){return a===b?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(jQuery.isFunction(a))return this.each(function(b){jQuery(this).wrapAll(a.call(this,b))});if(this[0]){var b=jQuery(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(jQuery.isFunction(a)?function(b){jQuery(this).wrapInner(a.call(this,b))}:function(){var b=jQuery(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=jQuery.isFunction(a);return this.each(function(c){jQuery(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=jQuery.clean(arguments);return this.pushStack(jQuery.merge(a,this),"before",this.selector)}},after:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=jQuery.clean(arguments);return this.pushStack(jQuery.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)(!a||jQuery.filter(a,[c]).length)&&(b||1!==c.nodeType||(jQuery.cleanData(c.getElementsByTagName("*")),jQuery.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&jQuery.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return jQuery.clone(this,a,b)})},html:function(a){return jQuery.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Ob,""):b;if(!("string"!=typeof a||Ub.test(a)||!jQuery.support.htmlSerialize&&Wb.test(a)||!jQuery.support.leadingWhitespace&&Pb.test(a)||_b[(Rb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Qb,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(jQuery.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return h(this[0])?this.length?this.pushStack(jQuery(jQuery.isFunction(a)?a():a),"replaceWith",a):this:jQuery.isFunction(a)?this.each(function(b){var c=jQuery(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=jQuery(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;jQuery(this).remove(),b?jQuery(b).before(a):jQuery(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],m=this.length;if(!jQuery.support.checkClone&&m>1&&"string"==typeof j&&Yb.test(j))return this.each(function(){jQuery(this).domManip(a,c,d)});if(jQuery.isFunction(j))return this.each(function(e){var f=jQuery(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){if(e=jQuery.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,1===g.childNodes.length&&(g=f),f)for(c=c&&jQuery.nodeName(f,"tr"),h=e.cacheable||m-1;m>i;i++)d.call(c&&jQuery.nodeName(this[i],"table")?l(this[i],"tbody"):this[i],i===h?g:jQuery.clone(g,!0,!0));g=f=null,k.length&&jQuery.each(k,function(a,b){b.src?jQuery.ajax?jQuery.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):jQuery.error("no ajax"):jQuery.globalEval((b.text||b.textContent||b.innerHTML||"").replace($b,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),jQuery.buildFragment=function(a,c,d){var e,f,g,h=a[0];return c=c||P,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,!(1===a.length&&"string"==typeof h&&h.length<512&&c===P&&"<"===h.charAt(0))||Vb.test(h)||!jQuery.support.checkClone&&Yb.test(h)||!jQuery.support.html5Clone&&Wb.test(h)||(f=!0,e=jQuery.fragments[h],g=e!==b),e||(e=c.createDocumentFragment(),jQuery.clean(a,c,e,d),f&&(jQuery.fragments[h]=g&&e)),{fragment:e,cacheable:f}},jQuery.fragments={},jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){jQuery.fn[a]=function(c){var d,e=0,f=[],g=jQuery(c),h=g.length,i=1===this.length&&this[0].parentNode;if((null==i||i&&11===i.nodeType&&1===i.childNodes.length)&&1===h)return g[b](this[0]),this;for(;h>e;e++)d=(e>0?this.clone(!0):this).get(),jQuery(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),jQuery.extend({clone:function(a,b,c){var d,e,f,g;if(jQuery.support.html5Clone||jQuery.isXMLDoc(a)||!Wb.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(bc.innerHTML=a.outerHTML,bc.removeChild(g=bc.firstChild)),!(jQuery.support.noCloneEvent&&jQuery.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||jQuery.isXMLDoc(a)))for(n(a,g),d=o(a),e=o(g),f=0;d[f];++f)e[f]&&n(d[f],e[f]);if(b&&(m(a,g),c))for(d=o(a),e=o(g),f=0;d[f];++f)m(d[f],e[f]);return d=e=null,g},clean:function(a,b,c,d){var e,f,g,h,i,j,l,m,n,o,q,r=b===P&&ac,s=[];for(b&&"undefined"!=typeof b.createDocumentFragment||(b=P),e=0;null!=(g=a[e]);e++)if("number"==typeof g&&(g+=""),g){if("string"==typeof g)if(Tb.test(g)){for(r=r||k(b),l=b.createElement("div"),r.appendChild(l),g=g.replace(Qb,"<$1></$2>"),h=(Rb.exec(g)||["",""])[1].toLowerCase(),i=_b[h]||_b._default,j=i[0],l.innerHTML=i[1]+g+i[2];j--;)l=l.lastChild;if(!jQuery.support.tbody)for(m=Sb.test(g),n="table"!==h||m?"<table>"!==i[1]||m?[]:l.childNodes:l.firstChild&&l.firstChild.childNodes,f=n.length-1;f>=0;--f)jQuery.nodeName(n[f],"tbody")&&!n[f].childNodes.length&&n[f].parentNode.removeChild(n[f]);!jQuery.support.leadingWhitespace&&Pb.test(g)&&l.insertBefore(b.createTextNode(Pb.exec(g)[0]),l.firstChild),g=l.childNodes,l.parentNode.removeChild(l)}else g=b.createTextNode(g);g.nodeType?s.push(g):jQuery.merge(s,g)}if(l&&(g=l=r=null),!jQuery.support.appendChecked)for(e=0;null!=(g=s[e]);e++)jQuery.nodeName(g,"input")?p(g):"undefined"!=typeof g.getElementsByTagName&&jQuery.grep(g.getElementsByTagName("input"),p);if(c)for(o=function(a){return!a.type||Zb.test(a.type)?d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a):void 0},e=0;null!=(g=s[e]);e++)jQuery.nodeName(g,"script")&&o(g)||(c.appendChild(g),"undefined"!=typeof g.getElementsByTagName&&(q=jQuery.grep(jQuery.merge([],g.getElementsByTagName("script")),o),s.splice.apply(s,[e+1,0].concat(q)),e+=q.length));return s},cleanData:function(a,b){for(var c,d,e,f,g=0,h=jQuery.expando,i=jQuery.cache,j=jQuery.support.deleteExpando,k=jQuery.event.special;null!=(e=a[g]);g++)if((b||jQuery.acceptData(e))&&(d=e[h],c=d&&i[d])){if(c.events)for(f in c.events)k[f]?jQuery.event.remove(e,f):jQuery.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,jQuery.deletedIds.push(d))}}}),function(){var a,b;jQuery.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=jQuery.uaMatch(R.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),jQuery.browser=b,jQuery.sub=function(){function a(b,c){return new a.fn.init(b,c)}jQuery.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,d){return d&&d instanceof jQuery&&!(d instanceof a)&&(d=a(d)),jQuery.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(P);return a}}();var cc,dc,ec,fc=/alpha\([^)]*\)/i,gc=/opacity=([^)]*)/,hc=/^(top|right|bottom|left)$/,ic=/^(none|table(?!-c[ea]).+)/,jc=/^margin/,kc=new RegExp("^("+ab+")(.*)$","i"),lc=new RegExp("^("+ab+")(?!px)[a-z%]+$","i"),mc=new RegExp("^([-+])=("+ab+")","i"),nc={BODY:"block"},oc={position:"absolute",visibility:"hidden",display:"block"},pc={letterSpacing:0,fontWeight:400},qc=["Top","Right","Bottom","Left"],rc=["Webkit","O","Moz","ms"],sc=jQuery.fn.toggle;jQuery.fn.extend({css:function(a,c){return jQuery.access(this,function(a,c,d){return d!==b?jQuery.style(a,c,d):jQuery.css(a,c)},a,c,arguments.length>1)},show:function(){return s(this,!0)},hide:function(){return s(this)},toggle:function(a,b){var c="boolean"==typeof a;return jQuery.isFunction(a)&&jQuery.isFunction(b)?sc.apply(this,arguments):this.each(function(){(c?a:r(this))?jQuery(this).show():jQuery(this).hide()})}}),jQuery.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=cc(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=jQuery.camelCase(c),j=a.style;if(c=jQuery.cssProps[i]||(jQuery.cssProps[i]=q(j,i)),h=jQuery.cssHooks[c]||jQuery.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=mc.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(jQuery.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||jQuery.cssNumber[i]||(d+="px"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=jQuery.camelCase(c);return c=jQuery.cssProps[i]||(jQuery.cssProps[i]=q(a.style,i)),h=jQuery.cssHooks[c]||jQuery.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=cc(a,c)),"normal"===f&&c in pc&&(f=pc[c]),d||e!==b?(g=parseFloat(f),d||jQuery.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?cc=function(b,c){var d,e,f,g,h=a.getComputedStyle(b,null),i=b.style;return h&&(d=h.getPropertyValue(c)||h[c],""!==d||jQuery.contains(b.ownerDocument,b)||(d=jQuery.style(b,c)),lc.test(d)&&jc.test(c)&&(e=i.width,f=i.minWidth,g=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=h.width,i.width=e,i.minWidth=f,i.maxWidth=g)),d}:P.documentElement.currentStyle&&(cc=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return null==e&&f&&f[b]&&(e=f[b]),lc.test(e)&&!hc.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),""===e?"auto":e}),jQuery.each(["height","width"],function(a,b){jQuery.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&ic.test(cc(a,"display"))?jQuery.swap(a,oc,function(){return v(a,b,d)}):v(a,b,d):void 0},set:function(a,c,d){return t(a,c,d?u(a,b,d,jQuery.support.boxSizing&&"border-box"===jQuery.css(a,"boxSizing")):0)}}}),jQuery.support.opacity||(jQuery.cssHooks.opacity={get:function(a,b){return gc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=jQuery.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,b>=1&&""===jQuery.trim(f.replace(fc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),d&&!d.filter)||(c.filter=fc.test(f)?f.replace(fc,e):f+" "+e)}}),jQuery(function(){jQuery.support.reliableMarginRight||(jQuery.cssHooks.marginRight={get:function(a,b){return jQuery.swap(a,{display:"inline-block"},function(){return b?cc(a,"marginRight"):void 0})}}),!jQuery.support.pixelPosition&&jQuery.fn.position&&jQuery.each(["top","left"],function(a,b){jQuery.cssHooks[b]={get:function(a,c){if(c){var d=cc(a,b);return lc.test(d)?jQuery(a).position()[b]+"px":d}}}})}),jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!jQuery.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||cc(a,"display"))},jQuery.expr.filters.visible=function(a){return!jQuery.expr.filters.hidden(a)}),jQuery.each({margin:"",padding:"",border:"Width"},function(a,b){jQuery.cssHooks[a+b]={expand:function(c){var d,e="string"==typeof c?c.split(" "):[c],f={};for(d=0;4>d;d++)f[a+qc[d]+b]=e[d]||e[d-2]||e[0];return f}},jc.test(a)||(jQuery.cssHooks[a+b].set=t)});var tc=/%20/g,uc=/\[\]$/,vc=/\r?\n/g,wc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,xc=/^(?:select|textarea)/i;jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||xc.test(this.nodeName)||wc.test(this.type))}).map(function(a,b){var c=jQuery(this).val();return null==c?null:jQuery.isArray(c)?jQuery.map(c,function(a){return{name:b.name,value:a.replace(vc,"\r\n")}}):{name:b.name,value:c.replace(vc,"\r\n")}}).get()}}),jQuery.param=function(a,c){var d,e=[],f=function(a,b){b=jQuery.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){f(this.name,this.value)});else for(d in a)x(d,a[d],c,f);return e.join("&").replace(tc,"+")};var yc,zc,Ac=/#.*$/,Bc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cc=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Dc=/^(?:GET|HEAD)$/,Ec=/^\/\//,Fc=/\?/,Gc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Hc=/([?&])_=[^&]*/,Ic=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Jc=jQuery.fn.load,Kc={},Lc={},Mc=["*/"]+["*"];try{zc=Q.href}catch(Nc){zc=P.createElement("a"),zc.href="",zc=zc.href}yc=Ic.exec(zc.toLowerCase())||[],jQuery.fn.load=function(a,c,d){if("string"!=typeof a&&Jc)return Jc.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),jQuery.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(f="POST"),jQuery.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?jQuery("<div>").append(a.replace(Gc,"")).find(e):a)}),this},jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){jQuery.fn[b]=function(a){return this.on(b,a)}}),jQuery.each(["get","post"],function(a,c){jQuery[c]=function(a,d,e,f){return jQuery.isFunction(d)&&(f=f||e,e=d,d=b),jQuery.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),jQuery.extend({getScript:function(a,c){return jQuery.get(a,b,c,"script")},getJSON:function(a,b,c){return jQuery.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?A(a,jQuery.ajaxSettings):(b=a,a=jQuery.ajaxSettings),A(a,b),a},ajaxSettings:{url:zc,isLocal:Cc.test(yc[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Mc},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:y(Kc),ajaxTransport:y(Lc),ajax:function(a,c){function d(a,c,d,g){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),h=b,f=g||"",w.readyState=a>0?4:0,d&&(t=B(m,w,d)),a>=200&&300>a||304===a?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(jQuery.lastModified[e]=v),v=w.getResponseHeader("Etag"),v&&(jQuery.etag[e]=v)),304===a?(x="notmodified",j=!0):(j=C(m,t),x=j.state,l=j.data,s=j.error,j=!s)):(s=x,(!x||a)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,k&&o.trigger("ajax"+(j?"Success":"Error"),[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=jQuery.ajaxSetup({},c),n=m.context||m,o=n!==m&&(n.nodeType||n instanceof jQuery)?jQuery(n):jQuery.event,p=jQuery.Deferred(),q=jQuery.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,setRequestHeader:function(a,b){if(!u){var c=a.toLowerCase();a=t[c]=t[c]||a,s[a]=b}return this},getAllResponseHeaders:function(){return 2===u?f:null},getResponseHeader:function(a){var c;if(2===u){if(!g)for(g={};c=Bc.exec(f);)g[c[1].toLowerCase()]=c[2];c=g[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return u||(m.mimeType=a),this},abort:function(a){return a=a||v,h&&h.abort(a),d(0,a),this}};if(p.promise(w),w.success=w.done,w.error=w.fail,w.complete=q.add,w.statusCode=function(a){if(a){var b;if(2>u)for(b in a)r[b]=[r[b],a[b]];else b=a[w.status],w.always(b)}return this},m.url=((a||m.url)+"").replace(Ac,"").replace(Ec,yc[1]+"//"),m.dataTypes=jQuery.trim(m.dataType||"*").toLowerCase().split(cb),null==m.crossDomain&&(j=Ic.exec(m.url.toLowerCase()),m.crossDomain=!(!j||j[1]===yc[1]&&j[2]===yc[2]&&(j[3]||("http:"===j[1]?80:443))==(yc[3]||("http:"===yc[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=jQuery.param(m.data,m.traditional)),z(Kc,m,c,w),2===u)return w;
if(k=m.global,m.type=m.type.toUpperCase(),m.hasContent=!Dc.test(m.type),k&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),!m.hasContent&&(m.data&&(m.url+=(Fc.test(m.url)?"&":"?")+m.data,delete m.data),e=m.url,m.cache===!1)){var x=jQuery.now(),y=m.url.replace(Hc,"$1_="+x);m.url=y+(y===m.url?(Fc.test(m.url)?"&":"?")+"_="+x:"")}(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),m.ifModified&&(e=e||m.url,jQuery.lastModified[e]&&w.setRequestHeader("If-Modified-Since",jQuery.lastModified[e]),jQuery.etag[e]&&w.setRequestHeader("If-None-Match",jQuery.etag[e])),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Mc+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(h=z(Lc,m,c,w)){w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,h.send(s,d)}catch(A){if(!(2>u))throw A;d(-1,A)}}else d(-1,"No Transport");return w},active:0,lastModified:{},etag:{}});var Oc=[],Pc=/\?/,Qc=/(=)\?(?=&|$)|\?\?/,Rc=jQuery.now();jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Oc.pop()||jQuery.expando+"_"+Rc++;return this[a]=!0,a}}),jQuery.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.data,j=c.url,k=c.jsonp!==!1,l=k&&Qc.test(j),m=k&&!l&&"string"==typeof i&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qc.test(i);return"jsonp"===c.dataTypes[0]||l||m?(f=c.jsonpCallback=jQuery.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(Qc,"$1"+f):m?c.data=i.replace(Qc,"$1"+f):k&&(c.url+=(Pc.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||jQuery.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Oc.push(f)),h&&jQuery.isFunction(g)&&g(h[0]),h=g=b}),"script"):void 0}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return jQuery.globalEval(a),a}}}),jQuery.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),jQuery.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=P.head||P.getElementsByTagName("head")[0]||P.documentElement;return{send:function(_,e){c=P.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(_,a){(a||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,a||e(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var Sc,Tc=a.ActiveXObject?function(){for(var a in Sc)Sc[a](0,1)}:!1,Uc=0;jQuery.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&D()||E()}:D,function(a){jQuery.extend(jQuery.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(jQuery.ajaxSettings.xhr()),jQuery.support.ajax&&jQuery.ajaxTransport(function(c){if(!c.crossDomain||jQuery.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(_){}i.send(c.hasContent&&c.data||null),d=function(_,a){var e,h,j,k,l;try{if(d&&(a||4===i.readyState))if(d=b,g&&(i.onreadystatechange=jQuery.noop,Tc&&delete Sc[g]),a)4!==i.readyState&&i.abort();else{e=i.status,j=i.getAllResponseHeaders(),k={},l=i.responseXML,l&&l.documentElement&&(k.xml=l);try{k.text=i.responseText}catch(m){}try{h=i.statusText}catch(m){h=""}e||!c.isLocal||c.crossDomain?1223===e&&(e=204):e=k.text?200:404}}catch(n){a||f(-1,n)}k&&f(e,h,k,j)},c.async?4===i.readyState?setTimeout(d,0):(g=++Uc,Tc&&(Sc||(Sc={},jQuery(a).unload(Tc)),Sc[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var Vc,Wc,Xc=/^(?:toggle|show|hide)$/,Yc=new RegExp("^(?:([-+])=|)("+ab+")([a-z%]*)$","i"),Zc=/queueHooks$/,$c=[J],_c={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=Yc.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){if(c=+f[2],d=f[3]||(jQuery.cssNumber[a]?"":"px"),"px"!==d&&h){h=jQuery.css(e.elem,a,!0)||c||1;do i=i||".5",h/=i,jQuery.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&1!==i&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};jQuery.Animation=jQuery.extend(H,{tweener:function(a,b){jQuery.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],_c[c]=_c[c]||[],_c[c].unshift(b)},prefilter:function(a,b){b?$c.unshift(a):$c.push(a)}}),jQuery.Tween=K,K.prototype={constructor:K,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(jQuery.cssNumber[c]?"":"px")},cur:function(){var a=K.propHooks[this.prop];return a&&a.get?a.get(this):K.propHooks._default.get(this)},run:function(a){var b,c=K.propHooks[this.prop];return this.pos=b=this.options.duration?jQuery.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):K.propHooks._default.set(this),this}},K.prototype.init.prototype=K.prototype,K.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=jQuery.css(a.elem,a.prop,!1,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){jQuery.fx.step[a.prop]?jQuery.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[jQuery.cssProps[a.prop]]||jQuery.cssHooks[a.prop])?jQuery.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},jQuery.each(["toggle","show","hide"],function(a,b){var c=jQuery.fn[b];jQuery.fn[b]=function(d,e,f){return null==d||"boolean"==typeof d||!a&&jQuery.isFunction(d)&&jQuery.isFunction(e)?c.apply(this,arguments):this.animate(L(b,!0),d,e,f)}}),jQuery.fn.extend({fadeTo:function(a,b,c,d){return this.filter(r).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=jQuery.isEmptyObject(a),f=jQuery.speed(b,c,d),g=function(){var b=H(this,jQuery.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=jQuery.timers,g=jQuery._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&Zc.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&jQuery.dequeue(this,a)})}}),jQuery.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){jQuery.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),jQuery.speed=function(a,b,c){var d=a&&"object"==typeof a?jQuery.extend({},a):{complete:c||!c&&b||jQuery.isFunction(a)&&a,duration:a,easing:c&&b||b&&!jQuery.isFunction(b)&&b};return d.duration=jQuery.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in jQuery.fx.speeds?jQuery.fx.speeds[d.duration]:jQuery.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){jQuery.isFunction(d.old)&&d.old.call(this),d.queue&&jQuery.dequeue(this,d.queue)},d},jQuery.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},jQuery.timers=[],jQuery.fx=K.prototype.init,jQuery.fx.tick=function(){var a,c=jQuery.timers,d=0;for(Vc=jQuery.now();d<c.length;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||jQuery.fx.stop(),Vc=b},jQuery.fx.timer=function(a){a()&&jQuery.timers.push(a)&&!Wc&&(Wc=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.interval=13,jQuery.fx.stop=function(){clearInterval(Wc),Wc=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fx.step={},jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.animated=function(a){return jQuery.grep(jQuery.timers,function(b){return a===b.elem}).length});var ad=/^(?:body|html)$/i;jQuery.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){jQuery.offset.setOffset(this,a,b)});var c,d,e,f,g,h,i,j={top:0,left:0},k=this[0],l=k&&k.ownerDocument;if(l)return(d=l.body)===k?jQuery.offset.bodyOffset(k):(c=l.documentElement,jQuery.contains(c,k)?("undefined"!=typeof k.getBoundingClientRect&&(j=k.getBoundingClientRect()),e=M(l),f=c.clientTop||d.clientTop||0,g=c.clientLeft||d.clientLeft||0,h=e.pageYOffset||c.scrollTop,i=e.pageXOffset||c.scrollLeft,{top:j.top+h-f,left:j.left+i-g}):j)},jQuery.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return jQuery.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(jQuery.css(a,"marginTop"))||0,c+=parseFloat(jQuery.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=jQuery.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=jQuery(a),h=g.offset(),i=jQuery.css(a,"top"),j=jQuery.css(a,"left"),k=("absolute"===d||"fixed"===d)&&jQuery.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),jQuery.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},jQuery.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=ad.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(jQuery.css(a,"marginTop"))||0,c.left-=parseFloat(jQuery.css(a,"marginLeft"))||0,d.top+=parseFloat(jQuery.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(jQuery.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||P.body;a&&!ad.test(a.nodeName)&&"static"===jQuery.css(a,"position");)a=a.offsetParent;return a||P.body})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);jQuery.fn[a]=function(e){return jQuery.access(this,function(a,e,f){var g=M(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:void(g?g.scrollTo(d?jQuery(g).scrollLeft():f,d?f:jQuery(g).scrollTop()):a[e]=f)},a,e,arguments.length,null)}}),jQuery.each({Height:"height",Width:"width"},function(a,c){jQuery.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){jQuery.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return jQuery.access(this,function(c,d,e){var f;return jQuery.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?jQuery.css(c,d,e,h):jQuery.style(c,d,e,h)},c,g?e:b,g,null)}})}),a.jQuery=a.$=jQuery,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return jQuery})}(window),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,_=function(a){return a instanceof _?a:this instanceof _?void(this._wrapped=a):new _(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):a._=_,_.VERSION="1.6.0";var x=_.each=_.forEach=function(a,b,d){if(null==a)return a;if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g=_.keys(a),e=0,f=g.length;f>e;e++)if(b.call(d,a[g[e]],g[e],a)===c)return;return a};_.map=_.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(x(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var y="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=_.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(x(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(y);return c},_.reduceRight=_.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=_.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=_.keys(a);f=g.length}if(x(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(y);return c},_.find=_.detect=function(a,b,c){var d;return z(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},_.filter=_.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(x(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},_.reject=function(a,b,c){return _.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},_.every=_.all=function(a,b,d){b||(b=_.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(x(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var z=_.some=_.any=function(a,b,d){b||(b=_.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(x(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};_.contains=_.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):z(a,function(a){return a===b})},_.invoke=function(a,b){var c=h.call(arguments,2),d=_.isFunction(b);return _.map(a,function(a){return(d?b:a[b]).apply(a,c)})},_.pluck=function(a,b){return _.map(a,_.property(b))},_.where=function(a,b){return _.filter(a,_.matches(b))},_.findWhere=function(a,b){return _.find(a,_.matches(b))},_.max=function(a,b,c){if(!b&&_.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var d=-1/0,e=-1/0;return x(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;h>e&&(d=a,e=h)}),d},_.min=function(a,b,c){if(!b&&_.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var d=1/0,e=1/0;return x(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;e>h&&(d=a,e=h)}),d},_.shuffle=function(a){var b,c=0,d=[];return x(a,function(a){b=_.random(c++),d[c-1]=d[b],d[b]=a}),d},_.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=_.values(a)),a[_.random(a.length-1)]):_.shuffle(a).slice(0,Math.max(0,b))};var A=function(a){return null==a?_.identity:_.isFunction(a)?a:_.property(a)};_.sortBy=function(a,b,c){return b=A(b),_.pluck(_.map(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var B=function(a){return function(b,c,d){var e={};return c=A(c),x(b,function(f,g){var h=c.call(d,f,g,b);a(e,h,f)}),e}};_.groupBy=B(function(a,b,c){_.has(a,b)?a[b].push(c):a[b]=[c]}),_.indexBy=B(function(a,b,c){a[b]=c}),_.countBy=B(function(a,b){_.has(a,b)?a[b]++:a[b]=1}),_.sortedIndex=function(a,b,c,d){c=A(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},_.toArray=function(a){return a?_.isArray(a)?h.call(a):a.length===+a.length?_.map(a,_.identity):_.values(a):[]},_.size=function(a){return null==a?0:a.length===+a.length?a.length:_.keys(a).length},_.first=_.head=_.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:h.call(a,0,b)},_.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},_.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},_.rest=_.tail=_.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},_.compact=function(a){return _.filter(a,_.identity)};var C=function(a,b,c){return b&&_.every(a,_.isArray)?i.apply(c,a):(x(a,function(a){_.isArray(a)||_.isArguments(a)?b?g.apply(c,a):C(a,b,c):c.push(a)}),c)};_.flatten=function(a,b){return C(a,b,[])},_.without=function(a){return _.difference(a,h.call(arguments,1))},_.partition=function(a,b,c){b=A(b);var d=[],e=[];return x(a,function(a){(b.call(c,a)?d:e).push(a)}),[d,e]},_.uniq=_.unique=function(a,b,c,d){_.isFunction(b)&&(d=c,c=b,b=!1);var e=c?_.map(a,c,d):a,f=[],g=[];return x(e,function(c,d){(b?d&&g[g.length-1]===c:_.contains(g,c))||(g.push(c),f.push(a[d]))}),f},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(a){var b=h.call(arguments,1);return _.filter(_.uniq(a),function(a){return _.every(b,function(b){return _.contains(b,a)})})},_.difference=function(a){var b=i.apply(d,h.call(arguments,1));return _.filter(a,function(a){return!_.contains(b,a)})},_.zip=function(){for(var a=_.max(_.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=_.pluck(arguments,""+c);return b},_.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},_.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=_.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},_.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},_.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var D=function(){};_.bind=function(a,b){var c,d;if(w&&a.bind===w)return w.apply(a,h.call(arguments,1));if(!_.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(h.call(arguments)));D.prototype=a.prototype;var e=new D;D.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}},_.partial=function(a){var b=h.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===_&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},_.bindAll=function(a){var b=h.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return x(b,function(b){a[b]=_.bind(a[b],a)}),a},_.memoize=function(a,b){var c={};return b||(b=_.identity),function(){var d=b.apply(this,arguments);return _.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},_.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},_.defer=function(a){return _.delay.apply(_,[a,1].concat(h.call(arguments,1)))},_.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:_.now(),g=null,f=a.apply(d,e),d=e=null};return function(){var j=_.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),d=e=null):g||c.trailing===!1||(g=setTimeout(i,k)),f}},_.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=_.now()-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),f=e=null))};return function(){f=this,e=arguments,g=_.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},_.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},_.wrap=function(a,b){return _.partial(b,a)},_.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},_.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},_.keys=function(a){if(!_.isObject(a))return[];if(v)return v(a);var b=[];for(var c in a)_.has(a,c)&&b.push(c);return b},_.values=function(a){for(var b=_.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},_.pairs=function(a){for(var b=_.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},_.invert=function(a){for(var b={},c=_.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},_.functions=_.methods=function(a){var b=[];for(var c in a)_.isFunction(a[c])&&b.push(c);return b.sort()},_.extend=function(a){return x(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},_.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return x(c,function(c){c in a&&(b[c]=a[c])}),b},_.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)_.contains(c,e)||(b[e]=a[e]);return b},_.defaults=function(a){return x(h.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},_.clone=function(a){return _.isObject(a)?_.isArray(a)?a.slice():_.extend({},a):a},_.tap=function(a,b){return b(a),a};var E=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(_.isFunction(g)&&g instanceof g&&_.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1;c.push(a),d.push(b);var i=0,k=!0;if("[object Array]"==e){if(i=a.length,k=i==b.length)for(;i--&&(k=E(a[i],b[i],c,d)););}else{for(var l in a)if(_.has(a,l)&&(i++,!(k=_.has(b,l)&&E(a[l],b[l],c,d))))break;if(k){for(l in b)if(_.has(b,l)&&!i--)break;k=!i}}return c.pop(),d.pop(),k};_.isEqual=function(a,b){return E(a,b,[],[])},_.isEmpty=function(a){if(null==a)return!0;if(_.isArray(a)||_.isString(a))return 0===a.length;for(var b in a)if(_.has(a,b))return!1;return!0},_.isElement=function(a){return!(!a||1!==a.nodeType)},_.isArray=u||function(a){return"[object Array]"==j.call(a)},_.isObject=function(a){return a===Object(a)},x(["Arguments","Function","String","Number","Date","RegExp"],function(a){_["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),_.isArguments(arguments)||(_.isArguments=function(a){return!(!a||!_.has(a,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(a){return"function"==typeof a}),_.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},_.isNaN=function(a){return _.isNumber(a)&&a!=+a},_.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},_.isNull=function(a){return null===a},_.isUndefined=function(a){return void 0===a},_.has=function(a,b){return k.call(a,b)},_.noConflict=function(){return a._=b,this},_.identity=function(a){return a},_.constant=function(a){return function(){return a}},_.property=function(a){return function(b){return b[a]}},_.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}},_.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},_.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},_.now=Date.now||function(){return(new Date).getTime()};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};F.unescape=_.invert(F.escape);var G={escape:new RegExp("["+_.keys(F.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(F.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(a){_[a]=function(b){return null==b?"":(""+b).replace(G[a],function(b){return F[a][b]})}}),_.result=function(a,b){if(null==a)return void 0;var c=a[b];return _.isFunction(c)?c.call(a):c},_.mixin=function(a){x(_.functions(a),function(b){var c=_[b]=a[b];_.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),L.call(this,c.apply(_,a))}})};var H=0;_.uniqueId=function(a){var b=++H+"";return a?a+b:b},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(a,b,c){var d;c=_.defaults({},c,_.templateSettings);var e=new RegExp([(c.escape||I).source,(c.interpolate||I).source,(c.evaluate||I).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(K,function(a){return"\\"+J[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,_);var i=function(a){return d.call(this,a,_)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},_.chain=function(a){return _(a).chain()};var L=function(a){return this._chain?_(a).chain():a};_.mixin(_),x(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];_.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],L.call(this,c)}}),x(["concat","join","slice"],function(a){var b=d[a];_.prototype[a]=function(){return L.call(this,b.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return _})}.call(this),fish.store={length:function(){return localStorage.length},set:function(a,b){localStorage.setItem(a,b)},get:function(a){return localStorage.getItem(a)},remove:function(a){localStorage.removeItem(a)},clear:function(){localStorage.clear()},each:function(a){for(var b=localStorage.length,c=0,a=a||function(){};b>c;c++){var d=localStorage.key(c);if(a.call(this,d,this.get(d))===!1)break;localStorage.length<b&&(b--,c--)}}},!function(a){"function"==typeof define&&define.amd?define("fish.util",["underscore","handlebars"],a):a(_,Handlebars)}(function(_,a){"use strict";var b={version:"1.0.0"};b.load=function(b,c){var d=[];b.baseUrl=b.baseUrl?b.baseUrl:"",d.push("text!"+b.baseUrl+b.template),b.i18n?d.push("i18n!"+b.baseUrl+b.i18n):"",require(d,function(d,e){if(void 0===e){var f=a.compile(d)(b);c(f)}else{var g=$.extend(b,e),f=a.compile(d)(g);c(f,e)}})},b.loadDirect=function(a,b){var c=[];a.baseUrl=a.baseUrl?a.baseUrl:"",c.push("text!"+a.baseUrl+a.template),require(c,function(a){b(a)})},b.loadI18n=function(a,b){var c=[];a.baseUrl=a.baseUrl?a.baseUrl:"",c.push("i18n!"+a.baseUrl+a.i18n),require(c,function(a){b(a)})},b.loadScript=function(a){var b=a.substring(0,a.length-3)+"-js";b=String(b).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&"),$("#"+b)[0]&&$("#"+b).remove();var c=document.getElementsByTagName("head")[0],d=document.createElement("script");d.type="text/javascript",d.charset="utf-8",d.async=!0,d.src=a,d.id=b,c.appendChild(d)},b.getCursorPosition=function(a){var b={text:"",start:0,end:0};if(a.focus(),a.setSelectionRange)return b.start=a.selectionStart,b.end=a.selectionEnd,b.text=b.start!=b.end?a.value.substring(b.start,b.end):"",b;if(document.selection){var c,d=document.selection.createRange(),e=document.body.createTextRange();for(e.moveToElementText(a),b.text=d.text,b.bookmark=d.getBookmark(),c=0;e.compareEndPoints("StartToStart",d)<0&&0!==d.moveStart("character",-1);c++)"\n"==a.value.charAt(c)&&c++;return b.start=c,b.end=b.text.length+b.start,b}return null},b.setCursorPosition=function(a,b){if(!b)throw Error("You must get cursor position first.");if(a.setSelectionRange)return void a.setSelectionRange(b.start,b.end);if(a.createTextRange){var c=a.createTextRange();a.value.length===b.start?(c.collapse(!1),c.select()):(c.moveToBookmark(b.bookmark),c.select())}},window.fish&&(window.fish.util?"":window.fish.util={},_.extend(window.fish.util,b),_.extend(window.fish.util,_))}),function(a){"function"==typeof define&&define.amd?define("fish.dateutil",a):a()}(function(){function a(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0)}function b(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59,999)}function c(a,b){var c=new Date(a.getTime());return c.setYear(a.getFullYear()+b),c}function d(a,b){var c=new Date(a.getTime());return c.setMonth(a.getMonth()+b),c=i(a,c)}function e(a,b){return h(a,r,b)}function f(a,b){return h(a,q,b)}function g(a,b){return h(a,p,b)}function h(a,b,c){var d=a.getTime()+b*c;return new Date(d)}function i(a,b){var c=b,d=a.getDate();return d>c.getDate()&&(c=e(b,-b.getDate())),c}function j(a,b){if(null==a)return"";var c=fish.getResource("datetimepicker.meridiem"),d=fish.getResource("datetimepicker.monthsShort"),e=fish.getResource("datetimepicker.months"),f=fish.getResource("datetimepicker.daysShort"),g=fish.getResource("datetimepicker.days"),h={yy:a.getFullYear().toString().substring(2),yyyy:a.getFullYear(),m:a.getMonth()+1,M:d[a.getMonth()],MM:e[a.getMonth()],d:a.getDate(),D:f[a.getDay()],DD:g[a.getDay()],p:2==c.length?c[a.getHours()<12?0:1]:"",h:a.getHours(),i:a.getMinutes(),s:a.getSeconds()};b=k(b),h.H=2==c.length?h.h%12==0?12:h.h%12:h.h,h.HH=(h.H<10?"0":"")+h.H,h.P=h.p.toUpperCase(),h.hh=(h.h<10?"0":"")+h.h,h.ii=(h.i<10?"0":"")+h.i,h.ss=(h.s<10?"0":"")+h.s,h.dd=(h.d<10?"0":"")+h.d,h.mm=(h.m<10?"0":"")+h.m;for(var a=[],i=$.extend([],b.separators),j=0,l=b.parts.length;l>j;j++)i.length&&a.push(i.shift()),a.push(h[b.parts[j]]);return i.length&&a.push(i.shift()),a.join("")}function k(a){var b=/hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g,c=a.replace(b,"\x00").split("\x00"),d=a.match(b);if(!c||!c.length||!d||0==d.length)throw new Error("Invalid date format.");return{separators:c,parts:d}}function l(a,b){if(a instanceof Date)return a;if(null==a||a.length!=b.length)return null;if(/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(a)){var e,f,g=/([-+]\d+)([dmwy])/,h=a.match(/([-+]\d+)([dmwy])/g);a=new Date;for(var i=0;i<h.length;i++)switch(e=g.exec(h[i]),f=parseInt(e[1]),e[2]){case"d":a.setDate(a.getDate()+f);break;case"m":a=d(a,f);break;case"w":a.setDate(a.getDate()+7*f);break;case"y":a=c(a,f)}return new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),0)}b=k(b);var j,l,e,h=a&&a.match(s)||[],a=new Date(0,0,0,0,0,0,0),m=fish.getResource("datetimepicker.months"),n=fish.getResource("datetimepicker.monthsShort"),o=fish.getResource("datetimepicker.meridian"),p={},q=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P"],r={hh:function(a,b){return a.setHours(b)},h:function(a,b){return a.setHours(b)},HH:function(a,b){return a.setHours(12==b?0:b)},H:function(a,b){return a.setHours(12==b?0:b)},ii:function(a,b){return a.setMinutes(b)},i:function(a,b){return a.setMinutes(b)},ss:function(a,b){return a.setSeconds(b)},s:function(a,b){return a.setSeconds(b)},yyyy:function(a,b){return a.setFullYear(b)},yy:function(a,b){return a.setFullYear(2e3+b)},m:function(a,b){for(b-=1;0>b;)b+=12;for(b%=12,a.setMonth(b);a.getMonth()!=b;)a.setDate(a.getDate()-1);return a},d:function(a,b){return a.setDate(b)},p:function(a,b){return a.setHours(1==b?a.getHours()+12:a.getHours())}};if(r.M=r.MM=r.mm=r.m,r.dd=r.d,r.P=r.p,a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()),h.length==b.parts.length){for(var i=0,t=b.parts.length;t>i;i++){if(j=parseInt(h[i],10),e=b.parts[i],isNaN(j))switch(e){case"MM":l=$(m).filter(function(){var a=this.slice(0,h[i].length),b=h[i].slice(0,a.length);
return a==b}),j=$.inArray(l[0],m)+1;break;case"M":l=$(n).filter(function(){var a=this.slice(0,h[i].length),b=h[i].slice(0,a.length);return a==b}),j=$.inArray(l[0],n)+1;break;case"p":case"P":j=$.inArray(h[i].toLowerCase(),o)}p[e]=j}for(var u,i=0;i<q.length;i++)u=q[i],u in p&&!isNaN(p[u])&&r[u](a,p[u])}return a}function m(a){return a%4===0&&a%100!==0||a%400===0}function n(a,b){return[31,m(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]}var o=1e3,p=60*o,q=60*p,r=24*q,s=/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g;return fish.dateutil={addYears:c,addMonths:d,addDays:e,addHours:f,addMinutes:g,format:j,parse:l,getDaysInMonth:n,getStartOfDay:a,getEndOfDay:b}}),function($,a){function b(a,b){var d,e,f,g=a.nodeName.toLowerCase();return"area"===g?(d=a.parentNode,e=d.name,a.href&&e&&"map"===d.nodeName.toLowerCase()?(f=$("img[usemap=#"+e+"]")[0],!!f&&c(f)):!1):(/input|select|textarea|button|object/.test(g)?!a.disabled:"a"===g?a.href||b:b)&&c(a)}function c(a){return $.expr.filters.visible(a)&&!$(a).parents().andSelf().filter(function(){return"hidden"===$.css(this,"visibility")}).length}var d=0,e="ui-id-",f=/^ui-id-\d+$/;$.ui=$.ui||{},$.ui.version||($.extend($.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,TAB:9,DELETE:46,ENTER:13,ESCAPE:27,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_ENTER:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,COMMA:188,PERIOD:190,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40}}),$.fn.extend({_focus:$.fn.focus,focus:function(a,b){return"number"==typeof a?this.each(function(){var c=this;setTimeout(function(){$(c).focus(),b&&b.call(c)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;return a=$.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test($.css(this,"position"))&&/(auto|scroll)/.test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!a.length?$(document):a},zIndex:function(b){if(b!==a)return this.css("zIndex",b);if(this.length)for(var c,d,e=$(this[0]);e.length&&e[0]!==document;){if(c=e.css("position"),("absolute"===c||"relative"===c||"fixed"===c)&&(d=parseInt(e.css("zIndex"),10),!isNaN(d)&&0!==d))return d;e=e.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id=e+ ++d)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&$(this).removeAttr("id")})}}),$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(a){return function(b){return!!$.data(b,a)}}):function(a,b,c){return!!$.data(a,c[3])},focusable:function(a){return b(a,!isNaN($.attr(a,"tabindex")))},tabbable:function(a){var c=$.attr(a,"tabindex"),d=isNaN(c);return(d||c>=0)&&b(a,!d)}}),$(function(){var a=document.body,b=a.appendChild(b=document.createElement("div"));b.offsetHeight,$.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),$.support.minHeight=100===b.offsetHeight,$.support.selectstart="onselectstart"in b,a.removeChild(b).style.display="none"}),function(){var a=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];$.ui.ie=a.length?!0:!1,$.ui.ie6=6===parseFloat(a[1],10)}(),$.fn.extend({disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),$.extend($.ui,{plugin:{add:function(a,b,c){var d,e=$.ui[a].prototype;for(d in c)e.plugins[d]=e.plugins[d]||[],e.plugins[d].push([b,c[d]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},contains:$.contains,hasScroll:function(a,b){if("hidden"===$(a).css("overflow"))return!1;var c=b&&"left"===b?"scrollLeft":"scrollTop",d=!1;return a[c]>0?!0:(a[c]=1,d=a[c]>0,a[c]=0,d)},isOverAxis:function(a,b,c){return a>b&&b+c>a},isOver:function(a,b,c,d,e,f){return $.ui.isOverAxis(a,c,e)&&$.ui.isOverAxis(b,d,f)}}),$.support.offsetFractions=!0)}(jQuery),function($,a){var b=0,c=Array.prototype.slice,d=$.cleanData;$.cleanData=function(a){for(var b,c=0;null!=(b=a[c]);c++)try{$(b).triggerHandler("remove")}catch(e){}d(a)},$.widget=function(a,b,c){var d,e,f,g,h=a.split(".")[0];a=a.split(".")[1],d=h+"-"+a,c||(c=b,b=$.Widget),$.expr[":"][d.toLowerCase()]=function(a){return!!$.data(a,d)},$[h]=$[h]||{},e=$[h][a],f=$[h][a]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new f(a,b)},$.extend(f,e,{version:c.version,_proto:$.extend({},c),_childConstructors:[]}),g=new b,g.options=$.widget.extend({},g.options),$.each(c,function(a,d){$.isFunction(d)&&(c[a]=function(){var c=function(){return b.prototype[a].apply(this,arguments)},e=function(c){return b.prototype[a].apply(this,c)};return function(){var a,b=this._super,f=this._superApply;return this._super=c,this._superApply=e,a=d.apply(this,arguments),this._super=b,this._superApply=f,a}}())}),f.prototype=$.widget.extend(g,{widgetEventPrefix:e?g.widgetEventPrefix:a},c,{constructor:f,namespace:h,widgetName:a,widgetBaseClass:d,widgetFullName:d}),e?($.each(e._childConstructors,function(a,b){var c=b.prototype;$.widget(c.namespace+"."+c.widgetName,f,b._proto)}),delete e._childConstructors):b._childConstructors.push(f),$.widget.bridge(a,f)},$.widget.extend=function(b){for(var d,e,f=c.call(arguments,1),g=0,h=f.length;h>g;g++)for(d in f[g])e=f[g][d],f[g].hasOwnProperty(d)&&e!==a&&(b[d]=$.isPlainObject(e)?$.isPlainObject(b[d])?$.widget.extend({},b[d],e):$.widget.extend({},e):e);return b},$.widget.bridge=function(b,d){var e=d.prototype.widgetFullName||b;$.fn[b]=function(f){var g="string"==typeof f,h=c.call(arguments,1),i=this;return f=!g&&h.length?$.widget.extend.apply(null,[f].concat(h)):f,this.each(g?function(){var c,d=$.data(this,e);return d?$.isFunction(d[f])&&"_"!==f.charAt(0)?(c=d[f].apply(d,h),c!==d&&c!==a?(i=c&&c.jquery?i.pushStack(c.get()):c,!1):void 0):$.error("no such method '"+f+"' for "+b+" widget instance"):$.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+f+"'")}:function(){var a=$.data(this,e);a?a.option(f||{})._init():$.data(this,e,new d(f,this))}),i}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,c){c=$(c||this.defaultElement||this)[0],this.element=$(c),this.uuid=b++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=$.widget.extend({},this.options,this._getCreateOptions(),a),this.bindings=$(),this.hoverable=$(),this.focusable=$(),c!==this&&($.data(c,this.widgetName,this),$.data(c,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===c&&this.destroy()}}),this.document=$(c.style?c.ownerDocument:c.document||c),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),$(c).removeClass("init"),this._init(),this._formSupport(),this._validateHandler()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,_formHandler:$.noop,_validateHandler:$.noop,_formSupport:function(){var a,b=this,c=this.element;c.is("form")||(a=c.closest("form"),a[0]&&($.data(this.element[0],"uuid",this),a.on("reset.form",function(){setTimeout(function(){b._update&&b._update()},0)}).on("clear.form",function(){b._update&&b._update(null)}).on("setvalue"+this.uuid+".form",function(a,c){b._update&&b._update(c)}).on("disable.form",function(){b.disable()}).on("enable.form",function(){b.enable()}),this._formHandler(a)))},_getValidFlag:function(){var a=this.element[0],b=a.form||$(a).closest(".ui-validator");return"novalidate"===$(b).attr("novalidate")},destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(b,c){var d,e,f,g=b;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof b)if(g={},d=b.split("."),b=d.shift(),d.length){for(e=g[b]=$.widget.extend({},this.options[b]),f=0;f<d.length-1;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(b=d.pop(),c===a)return e[b]===a?null:e[b];e[b]=c}else{if(c===a)return this.options[b]===a?null:this.options[b];g[b]=c}return this._setOptions(g),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(a,b,c){var d,e=this;"boolean"!=typeof a&&(c=b,b=a,a=!1),c?(b=d=$(b),this.bindings=this.bindings.add(b)):(c=b,b=this.element,d=this.widget()),$.each(c,function(c,f){function g(){return a||e.options.disabled!==!0&&!$(this).hasClass("ui-state-disabled")?("string"==typeof f?e[f]:f).apply(e,arguments):void 0}"string"!=typeof f&&(g.guid=f.guid=f.guid||g.guid||$.guid++);var h=c.match(/^(\w+)\s*(.*)$/),i=h[1]+e.eventNamespace,j=h[2];j?d.delegate(j,i,g):b.bind(i,g)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(a){$(a.currentTarget).addClass("ui-state-hover")},mouseleave:function(a){$(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(a){$(a.currentTarget).addClass("ui-state-focus")},focusout:function(a){$(a.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,b,c){var d,e,f=this.options[a];if(c=c||{},b=$.Event(b),b.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),b.target=this.element[0],e=b.originalEvent)for(d in e)d in b||(b[d]=e[d]);return this.element.trigger(b,c),!($.isFunction(f)&&f.apply(this.element[0],[b].concat(c))===!1||b.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(a,b){$.Widget.prototype["_"+a]=function(c,d,e){"string"==typeof d&&(d={effect:d});var f,g=d?d===!0||"number"==typeof d?b:d.effect||b:a;d=d||{},"number"==typeof d&&(d={duration:d}),f=!$.isEmptyObject(d),d.complete=e,d.delay&&c.delay(d.delay),f&&$.effects&&($.effects.effect[g]||$.uiBackCompat!==!1&&$.effects[g])?c[a](d):g!==a&&c[g]?c[g](d.duration,d.easing,e):c.queue(function(b){$(this)[a](),e&&e.call(c[0]),b()})}}),$.uiBackCompat!==!1&&($.Widget.prototype._getCreateOptions=function(){return $.metadata&&$.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function($){var a=!1;$(document).mouseup(function(){a=!1}),$.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){return!0===$.data(b.target,a.widgetName+".preventClickEvent")?($.removeData(b.target,a.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!a){this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var c=this,d=1===b.which,e="string"==typeof this.options.cancel&&b.target.nodeName?$(b.target).closest(this.options.cancel).length:!1;return d&&!e&&this._mouseCapture(b)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted)?(b.preventDefault(),!0):(!0===$.data(b.target,this.widgetName+".preventClickEvent")&&$.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return c._mouseMove(a)},this._mouseUpDelegate=function(a){return c._mouseUp(a)},$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),a=!0,!0)):!0}},_mouseMove:function(a){return!$.ui.ie||document.documentMode>=9||a.button?this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted):this._mouseUp(a)},_mouseUp:function(a){return $(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&$.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function($,a){function b(a,b,c){return[parseInt(a[0],10)*(l.test(a[0])?b/100:1),parseInt(a[1],10)*(l.test(a[1])?c/100:1)]}function c(a,b){return parseInt($.css(a,b),10)||0}$.ui=$.ui||{};var d,e=Math.max,f=Math.abs,g=Math.round,h=/left|center|right/,i=/top|center|bottom/,j=/[\+\-]\d+%?/,k=/^\w+/,l=/%$/,m=$.fn.position;$.position={scrollbarWidth:function(){if(d!==a)return d;var b,c,e=$("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),f=e.children()[0];return $("body").append(e),b=f.offsetWidth,e.css("overflow","scroll"),c=f.offsetWidth,b===c&&(c=e[0].clientWidth),e.remove(),d=b-c},getScrollInfo:function(a){var b=a.isWindow?"":a.element.css("overflow-x"),c=a.isWindow?"":a.element.css("overflow-y"),d="scroll"===b||"auto"===b&&a.width<a.element[0].scrollWidth,e="scroll"===c||"auto"===c&&a.height<a.element[0].scrollHeight;return{width:d?$.position.scrollbarWidth():0,height:e?$.position.scrollbarWidth():0}},getWithinInfo:function(a){var b=$(a||window),c=$.isWindow(b[0]);return{element:b,isWindow:c,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:c?b.width():b.outerWidth(),height:c?b.height():b.outerHeight()}}},$.fn.position=function(a){if(!a||!a.of)return m.apply(this,arguments);a=$.extend({},a);var d,l,n,o,p,q=$(a.of),r=$.position.getWithinInfo(a.within),s=$.position.getScrollInfo(r),t=q[0],u=(a.collision||"flip").split(" "),v={};return 9===t.nodeType?(l=q.width(),n=q.height(),o={top:0,left:0}):$.isWindow(t)?(l=q.width(),n=q.height(),o={top:q.scrollTop(),left:q.scrollLeft()}):t.preventDefault?(a.at="left top",l=n=0,o={top:t.pageY,left:t.pageX}):(l=q.outerWidth(),n=q.outerHeight(),o=q.offset()),p=$.extend({},o),$.each(["my","at"],function(){var b,c,d=(a[this]||"").split(" ");1===d.length&&(d=h.test(d[0])?d.concat(["center"]):i.test(d[0])?["center"].concat(d):["center","center"]),d[0]=h.test(d[0])?d[0]:"center",d[1]=i.test(d[1])?d[1]:"center",b=j.exec(d[0]),c=j.exec(d[1]),v[this]=[b?b[0]:0,c?c[0]:0],a[this]=[k.exec(d[0])[0],k.exec(d[1])[0]]}),1===u.length&&(u[1]=u[0]),"right"===a.at[0]?p.left+=l:"center"===a.at[0]&&(p.left+=l/2),"bottom"===a.at[1]?p.top+=n:"center"===a.at[1]&&(p.top+=n/2),d=b(v.at,l,n),p.left+=d[0],p.top+=d[1],this.each(function(){var h,i,j=$(this),k=j.outerWidth(),m=j.outerHeight(),t=c(this,"marginLeft"),w=c(this,"marginTop"),x=k+t+c(this,"marginRight")+s.width,y=m+w+c(this,"marginBottom")+s.height,z=$.extend({},p),A=b(v.my,j.outerWidth(),j.outerHeight());"right"===a.my[0]?z.left-=k:"center"===a.my[0]&&(z.left-=k/2),"bottom"===a.my[1]?z.top-=m:"center"===a.my[1]&&(z.top-=m/2),z.left+=A[0],z.top+=A[1],$.support.offsetFractions||(z.left=g(z.left),z.top=g(z.top)),h={marginLeft:t,marginTop:w},$.each(["left","top"],function(b,c){$.ui.position[u[b]]&&$.ui.position[u[b]][c](z,{targetWidth:l,targetHeight:n,elemWidth:k,elemHeight:m,collisionPosition:h,collisionWidth:x,collisionHeight:y,offset:[d[0]+A[0],d[1]+A[1]],my:a.my,at:a.at,within:r,elem:j})}),$.fn.bgiframe&&j.bgiframe(),a.using&&(i=function(b){var c=o.left-z.left,d=c+l-k,g=o.top-z.top,h=g+n-m,i={target:{element:q,left:o.left,top:o.top,width:l,height:n},element:{element:j,left:z.left,top:z.top,width:k,height:m},horizontal:0>d?"left":c>0?"right":"center",vertical:0>h?"top":g>0?"bottom":"middle"};k>l&&f(c+d)<l&&(i.horizontal="center"),m>n&&f(g+h)<n&&(i.vertical="middle"),i.important=e(f(c),f(d))>e(f(g),f(h))?"horizontal":"vertical",a.using.call(this,b,i)}),j.offset($.extend(z,{using:i}))})},$.ui.position={fit:{left:function(a,b){var c,d=b.within,f=d.isWindow?d.scrollLeft:d.offset.left,g=d.width,h=a.left-b.collisionPosition.marginLeft,i=f-h,j=h+b.collisionWidth-g-f;b.collisionWidth>g?i>0&&0>=j?(c=a.left+i+b.collisionWidth-g-f,a.left+=i-c):a.left=j>0&&0>=i?f:i>j?f+g-b.collisionWidth:f:i>0?a.left+=i:j>0?a.left-=j:a.left=e(a.left-h,a.left)},top:function(a,b){var c,d=b.within,f=d.isWindow?d.scrollTop:d.offset.top,g=b.within.height,h=a.top-b.collisionPosition.marginTop,i=f-h,j=h+b.collisionHeight-g-f;b.collisionHeight>g?i>0&&0>=j?(c=a.top+i+b.collisionHeight-g-f,a.top+=i-c):a.top=j>0&&0>=i?f:i>j?f+g-b.collisionHeight:f:i>0?a.top+=i:j>0?a.top-=j:a.top=e(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,g=e.offset.left+e.scrollLeft,h=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-h-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-h-g,(0>c||c<f(k))&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||f(d)<l)&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,g=e.offset.top+e.scrollTop,h=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-h-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-h-g,a.top+n+o+p>k&&(0>d||d<f(k))&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,a.top+n+o+p>l&&(c>0||f(c)<l)&&(a.top+=n+o+p))}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments),$.ui.position.fit.left.apply(this,arguments)},top:function(){$.ui.position.flip.top.apply(this,arguments),$.ui.position.fit.top.apply(this,arguments)}}},function(){var a,b,c,d,e,f=document.getElementsByTagName("body")[0],g=document.createElement("div");a=document.createElement(f?"div":"body"),c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},f&&$.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(e in c)a.style[e]=c[e];a.appendChild(g),b=f||document.documentElement,b.insertBefore(a,b.firstChild),g.style.cssText="position: absolute; left: 10.7432222px;",d=$(g).offset().left,$.support.offsetFractions=d>10&&11>d,a.innerHTML="",b.removeChild(a)}(),$.uiBackCompat!==!1&&!function($){var b=$.fn.position;$.fn.position=function(c){if(!c||!c.offset)return b.call(this,c);var d=c.offset.split(" "),e=c.at.split(" ");return 1===d.length&&(d[1]=d[0]),/^\d/.test(d[0])&&(d[0]="+"+d[0]),/^\d/.test(d[1])&&(d[1]="+"+d[1]),1===e.length&&(/left|center|right/.test(e[0])?e[1]="center":(e[1]=e[0],e[0]="center")),b.call(this,$.extend(c,{at:e[0]+d[0]+" "+e[1]+d[1],offset:a}))}}(jQuery)}(jQuery),function($){$.widget("ui.draggable",$.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(a){var b=this.options;return this.helper||b.disabled||$(a.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(a),this.handle?($(b.iframeFix===!0?"iframe":b.iframeFix).each(function(){$('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css($(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(a){var b=this.options;return this.helper=this._createHelper(a),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),$.ui.ddmanager&&($.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},$.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),b.containment&&this._setContainment(),this._trigger("start",a)===!1?(this._clear(),!1):(this._cacheHelperProportions(),$.ui.ddmanager&&!b.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,a),this._mouseDrag(a,!0),$.ui.ddmanager&&$.ui.ddmanager.dragStart(this,a),!0)},_mouseDrag:function(a,b){if(this.position=this._generatePosition(a),this.positionAbs=this._convertPositionTo("absolute"),!b){var c=this._uiHash();if(this._trigger("drag",a,c)===!1)return this._mouseUp({}),!1;this.position=c.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),$.ui.ddmanager&&$.ui.ddmanager.drag(this,a),!1},_mouseStop:function(a){var b=!1;$.ui.ddmanager&&!this.options.dropBehaviour&&(b=$.ui.ddmanager.drop(this,a)),this.dropped&&(b=this.dropped,this.dropped=!1);for(var c=this.element[0],d=!1;c&&(c=c.parentNode);)c==document&&(d=!0);if(!d&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!b||"valid"==this.options.revert&&b||this.options.revert===!0||$.isFunction(this.options.revert)&&this.options.revert.call(this.element,b)){var e=this;$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){e._trigger("stop",a)!==!1&&e._clear()})}else this._trigger("stop",a)!==!1&&this._clear();return!1},_mouseUp:function(a){return $("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),$.ui.ddmanager&&$.ui.ddmanager.dragStop(this,a),$.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(a){var b=this.options.handle&&$(this.options.handle,this.element).length?!1:!0;return $(this.options.handle,this.element).find("*").andSelf().each(function(){this==a.target&&(b=!0)}),b},_createHelper:function(a){var b=this.options,c=$.isFunction(b.helper)?$(b.helper.apply(this.element[0],[a])):"clone"==b.helper?this.element.clone().removeAttr("id"):this.element;return c.parents("body").length||c.appendTo("parent"==b.appendTo?this.element[0].parentNode:b.appendTo),c[0]==this.element[0]||/(fixed|absolute)/.test(c.css("position"))||c.css("position","absolute"),c},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" ")),$.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left"in a&&(this.offset.click.left=a.left+this.margins.left),"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top"in a&&(this.offset.click.top=a.top+this.margins.top),"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&$.ui.ie)&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if("parent"==a.containment&&(a.containment=this.helper[0].parentNode),("document"==a.containment||"window"==a.containment)&&(this.containment=["document"==a.containment?0:$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==a.containment?0:$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==a.containment?0:$(window).scrollLeft())+$("document"==a.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==a.containment?0:$(window).scrollTop())+($("document"==a.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(a.containment)||a.containment.constructor==Array)a.containment.constructor==Array&&(this.containment=a.containment);else{var b=$(a.containment),c=b[0];if(!c)return;var d=(b.offset(),"hidden"!=$(c).css("overflow"));this.containment=[(parseInt($(c).css("borderLeftWidth"),10)||0)+(parseInt($(c).css("paddingLeft"),10)||0),(parseInt($(c).css("borderTopWidth"),10)||0)+(parseInt($(c).css("paddingTop"),10)||0),(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt($(c).css("borderLeftWidth"),10)||0)-(parseInt($(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt($(c).css("borderTopWidth"),10)||0)-(parseInt($(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=b}},_convertPositionTo:function(a,b){b||(b=this.position);var c="absolute"==a?1:-1,d=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),e=/(html|body)/i.test(d[0].tagName);return{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop())*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())*c}},_generatePosition:function(a){var b=this.options,c="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,d=/(html|body)/i.test(c[0].tagName),e=a.pageX,f=a.pageY;if(this.originalPosition){var g;if(this.containment){if(this.relative_container){var h=this.relative_container.offset();g=[this.containment[0]+h.left,this.containment[1]+h.top,this.containment[2]+h.left,this.containment[3]+h.top]}else g=this.containment;a.pageX-this.offset.click.left<g[0]&&(e=g[0]+this.offset.click.left),a.pageY-this.offset.click.top<g[1]&&(f=g[1]+this.offset.click.top),a.pageX-this.offset.click.left>g[2]&&(e=g[2]+this.offset.click.left),a.pageY-this.offset.click.top>g[3]&&(f=g[3]+this.offset.click.top)}if(b.grid){var i=b.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/b.grid[1])*b.grid[1]:this.originalPageY;f=g?i-this.offset.click.top<g[1]||i-this.offset.click.top>g[3]?i-this.offset.click.top<g[1]?i+b.grid[1]:i-b.grid[1]:i:i;var j=b.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/b.grid[0])*b.grid[0]:this.originalPageX;e=g?j-this.offset.click.left<g[0]||j-this.offset.click.left>g[2]?j-this.offset.click.left<g[0]?j+b.grid[0]:j-b.grid[0]:j:j}}return{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():d?0:c.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():d?0:c.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(a,b,c){return c=c||this._uiHash(),$.ui.plugin.call(this,a,[b,c]),"drag"==a&&(this.positionAbs=this._convertPositionTo("absolute")),$.Widget.prototype._trigger.call(this,a,b,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),$.ui.plugin.add("draggable","connectToSortable",{start:function(a,b){var c=$(this).data("draggable"),d=c.options,e=$.extend({},b,{item:c.element});c.sortables=[],$(d.connectToSortable).each(function(){var b=$.data(this,"sortable");b&&!b.options.disabled&&(c.sortables.push({instance:b,shouldRevert:b.options.revert}),b.refreshPositions(),b._trigger("activate",a,e))})},stop:function(a,b){var c=$(this).data("draggable"),d=$.extend({},b,{item:c.element});$.each(c.sortables,function(){this.instance.isOver?(this.instance.isOver=0,c.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(a),this.instance.options.helper=this.instance.options._helper,"original"==c.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",a,d))})},drag:function(a,b){var c=$(this).data("draggable"),d=this;$.each(c.sortables,function(){var e=!1,f=this;this.instance.positionAbs=c.positionAbs,this.instance.helperProportions=c.helperProportions,this.instance.offset.click=c.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(e=!0,$.each(c.sortables,function(){return this.instance.positionAbs=c.positionAbs,this.instance.helperProportions=c.helperProportions,this.instance.offset.click=c.offset.click,this!=f&&this.instance._intersectsWith(this.instance.containerCache)&&$.ui.contains(f.instance.element[0],this.instance.element[0])&&(e=!1),e
})),e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=$(d).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return b.helper[0]},a.target=this.instance.currentItem[0],this.instance._mouseCapture(a,!0),this.instance._mouseStart(a,!0,!0),this.instance.offset.click.top=c.offset.click.top,this.instance.offset.click.left=c.offset.click.left,this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top,c._trigger("toSortable",a),c.dropped=this.instance.element,c.currentItem=c.element,this.instance.fromOutside=c),this.instance.currentItem&&this.instance._mouseDrag(a)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",a,this.instance._uiHash(this.instance)),this.instance._mouseStop(a,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),c._trigger("fromSortable",a),c.dropped=!1)})}}),$.ui.plugin.add("draggable","cursor",{start:function(){var a=$("body"),b=$(this).data("draggable").options;a.css("cursor")&&(b._cursor=a.css("cursor")),a.css("cursor",b.cursor)},stop:function(){var a=$(this).data("draggable").options;a._cursor&&$("body").css("cursor",a._cursor)}}),$.ui.plugin.add("draggable","opacity",{start:function(a,b){var c=$(b.helper),d=$(this).data("draggable").options;c.css("opacity")&&(d._opacity=c.css("opacity")),c.css("opacity",d.opacity)},stop:function(a,b){var c=$(this).data("draggable").options;c._opacity&&$(b.helper).css("opacity",c._opacity)}}),$.ui.plugin.add("draggable","scroll",{start:function(){var a=$(this).data("draggable");a.scrollParent[0]!=document&&"HTML"!=a.scrollParent[0].tagName&&(a.overflowOffset=a.scrollParent.offset())},drag:function(a){var b=$(this).data("draggable"),c=b.options,d=!1;b.scrollParent[0]!=document&&"HTML"!=b.scrollParent[0].tagName?(c.axis&&"x"==c.axis||(b.overflowOffset.top+b.scrollParent[0].offsetHeight-a.pageY<c.scrollSensitivity?b.scrollParent[0].scrollTop=d=b.scrollParent[0].scrollTop+c.scrollSpeed:a.pageY-b.overflowOffset.top<c.scrollSensitivity&&(b.scrollParent[0].scrollTop=d=b.scrollParent[0].scrollTop-c.scrollSpeed)),c.axis&&"y"==c.axis||(b.overflowOffset.left+b.scrollParent[0].offsetWidth-a.pageX<c.scrollSensitivity?b.scrollParent[0].scrollLeft=d=b.scrollParent[0].scrollLeft+c.scrollSpeed:a.pageX-b.overflowOffset.left<c.scrollSensitivity&&(b.scrollParent[0].scrollLeft=d=b.scrollParent[0].scrollLeft-c.scrollSpeed))):(c.axis&&"x"==c.axis||(a.pageY-$(document).scrollTop()<c.scrollSensitivity?d=$(document).scrollTop($(document).scrollTop()-c.scrollSpeed):$(window).height()-(a.pageY-$(document).scrollTop())<c.scrollSensitivity&&(d=$(document).scrollTop($(document).scrollTop()+c.scrollSpeed))),c.axis&&"y"==c.axis||(a.pageX-$(document).scrollLeft()<c.scrollSensitivity?d=$(document).scrollLeft($(document).scrollLeft()-c.scrollSpeed):$(window).width()-(a.pageX-$(document).scrollLeft())<c.scrollSensitivity&&(d=$(document).scrollLeft($(document).scrollLeft()+c.scrollSpeed)))),d!==!1&&$.ui.ddmanager&&!c.dropBehaviour&&$.ui.ddmanager.prepareOffsets(b,a)}}),$.ui.plugin.add("draggable","snap",{start:function(){var a=$(this).data("draggable"),b=a.options;a.snapElements=[],$(b.snap.constructor!=String?b.snap.items||":data(draggable)":b.snap).each(function(){var b=$(this),c=b.offset();this!=a.element[0]&&a.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(a,b){for(var c=$(this).data("draggable"),d=c.options,e=d.snapTolerance,f=b.offset.left,g=f+c.helperProportions.width,h=b.offset.top,i=h+c.helperProportions.height,j=c.snapElements.length-1;j>=0;j--){var k=c.snapElements[j].left,l=k+c.snapElements[j].width,m=c.snapElements[j].top,n=m+c.snapElements[j].height;if(f>k-e&&l+e>f&&h>m-e&&n+e>h||f>k-e&&l+e>f&&i>m-e&&n+e>i||g>k-e&&l+e>g&&h>m-e&&n+e>h||g>k-e&&l+e>g&&i>m-e&&n+e>i){if("inner"!=d.snapMode){var o=Math.abs(m-i)<=e,p=Math.abs(n-h)<=e,q=Math.abs(k-g)<=e,r=Math.abs(l-f)<=e;o&&(b.position.top=c._convertPositionTo("relative",{top:m-c.helperProportions.height,left:0}).top-c.margins.top),p&&(b.position.top=c._convertPositionTo("relative",{top:n,left:0}).top-c.margins.top),q&&(b.position.left=c._convertPositionTo("relative",{top:0,left:k-c.helperProportions.width}).left-c.margins.left),r&&(b.position.left=c._convertPositionTo("relative",{top:0,left:l}).left-c.margins.left)}var s=o||p||q||r;if("outer"!=d.snapMode){var o=Math.abs(m-h)<=e,p=Math.abs(n-i)<=e,q=Math.abs(k-f)<=e,r=Math.abs(l-g)<=e;o&&(b.position.top=c._convertPositionTo("relative",{top:m,left:0}).top-c.margins.top),p&&(b.position.top=c._convertPositionTo("relative",{top:n-c.helperProportions.height,left:0}).top-c.margins.top),q&&(b.position.left=c._convertPositionTo("relative",{top:0,left:k}).left-c.margins.left),r&&(b.position.left=c._convertPositionTo("relative",{top:0,left:l-c.helperProportions.width}).left-c.margins.left)}!c.snapElements[j].snapping&&(o||p||q||r||s)&&c.options.snap.snap&&c.options.snap.snap.call(c.element,a,$.extend(c._uiHash(),{snapItem:c.snapElements[j].item})),c.snapElements[j].snapping=o||p||q||r||s}else c.snapElements[j].snapping&&c.options.snap.release&&c.options.snap.release.call(c.element,a,$.extend(c._uiHash(),{snapItem:c.snapElements[j].item})),c.snapElements[j].snapping=!1}}}),$.ui.plugin.add("draggable","stack",{start:function(){var a=$(this).data("draggable").options,b=$.makeArray($(a.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0)});if(b.length){var c=parseInt(b[0].style.zIndex)||0;$(b).each(function(a){this.style.zIndex=c+a}),this[0].style.zIndex=c+b.length}}}),$.ui.plugin.add("draggable","zIndex",{start:function(a,b){var c=$(b.helper),d=$(this).data("draggable").options;c.css("zIndex")&&(d._zIndex=c.css("zIndex")),c.css("zIndex",d.zIndex)},stop:function(a,b){var c=$(this).data("draggable").options;c._zIndex&&$(b.helper).css("zIndex",c._zIndex)}})}(jQuery),function($){$.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var a=this.options,b=a.accept;this.isover=0,this.isout=1,this.accept=$.isFunction(b)?b:function(a){return a.is(b)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},$.ui.ddmanager.droppables[a.scope]=$.ui.ddmanager.droppables[a.scope]||[],$.ui.ddmanager.droppables[a.scope].push(this),a.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var a=$.ui.ddmanager.droppables[this.options.scope],b=0;b<a.length;b++)a[b]==this&&a.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(a,b){"accept"==a&&(this.accept=$.isFunction(b)?b:function(a){return a.is(b)}),$.Widget.prototype._setOption.apply(this,arguments)},_activate:function(a){var b=$.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),b&&this._trigger("activate",a,this.ui(b))},_deactivate:function(a){var b=$.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),b&&this._trigger("deactivate",a,this.ui(b))},_over:function(a){var b=$.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!=this.element[0]&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",a,this.ui(b)))},_out:function(a){var b=$.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!=this.element[0]&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",a,this.ui(b)))},_drop:function(a,b){var c=b||$.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return!1;var d=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var a=$.data(this,"droppable");return a.options.greedy&&!a.options.disabled&&a.options.scope==c.options.scope&&a.accept.call(a.element[0],c.currentItem||c.element)&&$.ui.intersect(c,$.extend(a,{offset:a.element.offset()}),a.options.tolerance)?(d=!0,!1):void 0}),d?!1:this.accept.call(this.element[0],c.currentItem||c.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",a,this.ui(c)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),$.ui.intersect=function(a,b,c){if(!b.offset)return!1;var d=(a.positionAbs||a.position.absolute).left,e=d+a.helperProportions.width,f=(a.positionAbs||a.position.absolute).top,g=f+a.helperProportions.height,h=b.offset.left,i=h+b.proportions.width,j=b.offset.top,k=j+b.proportions.height;switch(c){case"fit":return d>=h&&i>=e&&f>=j&&k>=g;case"intersect":return h<d+a.helperProportions.width/2&&e-a.helperProportions.width/2<i&&j<f+a.helperProportions.height/2&&g-a.helperProportions.height/2<k;case"pointer":var l=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,m=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,n=$.ui.isOver(m,l,j,h,b.proportions.height,b.proportions.width);return n;case"touch":return(f>=j&&k>=f||g>=j&&k>=g||j>f&&g>k)&&(d>=h&&i>=d||e>=h&&i>=e||h>d&&e>i);default:return!1}},$.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,b){var c=$.ui.ddmanager.droppables[a.options.scope]||[],d=b?b.type:null,e=(a.currentItem||a.element).find(":data(droppable)").andSelf();a:for(var f=0;f<c.length;f++)if(!(c[f].options.disabled||a&&!c[f].accept.call(c[f].element[0],a.currentItem||a.element))){for(var g=0;g<e.length;g++)if(e[g]==c[f].element[0]){c[f].proportions.height=0;continue a}c[f].visible="none"!=c[f].element.css("display"),c[f].visible&&("mousedown"==d&&c[f]._activate.call(c[f],b),c[f].offset=c[f].element.offset(),c[f].proportions={width:c[f].element[0].offsetWidth,height:c[f].element[0].offsetHeight})}},drop:function(a,b){var c=!1;return $.each($.ui.ddmanager.droppables[a.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&$.ui.intersect(a,this,this.options.tolerance)&&(c=this._drop.call(this,b)||c),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,b)))}),c},dragStart:function(a,b){a.element.parentsUntil("body").bind("scroll.droppable",function(){a.options.refreshPositions||$.ui.ddmanager.prepareOffsets(a,b)})},drag:function(a,b){a.options.refreshPositions&&$.ui.ddmanager.prepareOffsets(a,b),$.each($.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var c=$.ui.intersect(a,this,this.options.tolerance),d=c||1!=this.isover?c&&0==this.isover?"isover":null:"isout";if(d){var e;if(this.options.greedy){var f=this.options.scope,g=this.element.parents(":data(droppable)").filter(function(){return $.data(this,"droppable").options.scope===f});g.length&&(e=$.data(g[0],"droppable"),e.greedyChild="isover"==d?1:0)}e&&"isover"==d&&(e.isover=0,e.isout=1,e._out.call(e,b)),this[d]=1,this["isout"==d?"isover":"isout"]=0,this["isover"==d?"_over":"_out"].call(this,b),e&&"isout"==d&&(e.isout=0,e.isover=1,e._over.call(e,b))}}})},dragStop:function(a,b){a.element.parentsUntil("body").unbind("scroll.droppable"),a.options.refreshPositions||$.ui.ddmanager.prepareOffsets(a,b)}}}(jQuery),function($){$.widget("ui.resizable",$.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var a=this,b=this.options;if(this.element.addClass("ui-resizable"),$.extend(this,{_aspectRatio:!!b.aspectRatio,aspectRatio:b.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:b.helper||b.ghost||b.animate?b.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap($('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=b.handles||($(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var c=this.handles.split(",");this.handles={};for(var d=0;d<c.length;d++){var e=$.trim(c[d]),f="ui-resizable-"+e,g=$('<div class="ui-resizable-handle '+f+'"></div>');g.css({zIndex:b.zIndex}),"se"==e&&g.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[e]=".ui-resizable-"+e,this.element.append(g)}}this._renderAxis=function(a){a=a||this.element;for(var b in this.handles){if(this.handles[b].constructor==String&&(this.handles[b]=$(this.handles[b],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var c=$(this.handles[b],this.element),d=0;d=/sw|ne|nw|se|n|s/.test(b)?c.outerHeight():c.outerWidth();var e=["padding",/ne|nw|n/.test(b)?"Top":/se|sw|s/.test(b)?"Bottom":/^e$/.test(b)?"Right":"Left"].join("");a.css(e,d),this._proportionallyResize()}$(this.handles[b]).length}},this._renderAxis(this.element),this._handles=$(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!a.resizing){if(this.className)var b=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);a.axis=b&&b[1]?b[1]:"se"}}),b.autoHide&&(this._handles.hide(),$(this.element).addClass("ui-resizable-autohide").mouseenter(function(){b.disabled||($(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){b.disabled||a.resizing||($(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var a=function(a){$(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){a(this.element);var b=this.element;this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()}return this.originalElement.css("resize",this.originalResizeStyle),a(this.originalElement),this},_mouseCapture:function(a){var b=!1;for(var c in this.handles)$(this.handles[c])[0]==a.target&&(b=!0);return!this.options.disabled&&b},_mouseStart:function(b){var c=this.options,d=this.element.position(),e=this.element;this.resizing=!0,this.documentScroll={top:$(document).scrollTop(),left:$(document).scrollLeft()},(e.is(".ui-draggable")||/absolute/.test(e.css("position")))&&e.css({position:"absolute",top:d.top,left:d.left}),this._renderProxy();var f=a(this.helper.css("left")),g=a(this.helper.css("top"));c.containment&&(f+=$(c.containment).scrollLeft()||0,g+=$(c.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:g},this.size=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()},this.originalSize=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()},this.originalPosition={left:f,top:g},this.sizeDiff={width:e.outerWidth()-e.width(),height:e.outerHeight()-e.height()},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio="number"==typeof c.aspectRatio?c.aspectRatio:this.originalSize.width/this.originalSize.height||1;var h=$(".ui-resizable-"+this.axis).css("cursor");return $("body").css("cursor","auto"==h?this.axis+"-resize":h),e.addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(a){var b=this.helper,c=(this.options,this.originalMousePosition),d=this.axis,e=a.pageX-c.left||0,f=a.pageY-c.top||0,g=this._change[d];if(!g)return!1;var h=g.apply(this,[a,e,f]);return this._updateVirtualBoundaries(a.shiftKey),(this._aspectRatio||a.shiftKey)&&(h=this._updateRatio(h,a)),h=this._respectSize(h,a),this._propagate("resize",a),b.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(h),this._trigger("resize",a,this.ui()),!1},_mouseStop:function(a){this.resizing=!1;var b=this.options,c=this;if(this._helper){var d=this._proportionallyResizeElements,e=d.length&&/textarea/i.test(d[0].nodeName),f=e&&$.ui.hasScroll(d[0],"left")?0:c.sizeDiff.height,g=e?0:c.sizeDiff.width,h={width:c.helper.width()-g,height:c.helper.height()-f},i=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,j=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;b.animate||this.element.css($.extend(h,{top:j,left:i})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!b.animate&&this._proportionallyResize()}return $("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",a),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var c,d,e,f,g,h=this.options;g={minWidth:b(h.minWidth)?h.minWidth:0,maxWidth:b(h.maxWidth)?h.maxWidth:1/0,minHeight:b(h.minHeight)?h.minHeight:0,maxHeight:b(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||a)&&(c=g.minHeight*this.aspectRatio,e=g.minWidth/this.aspectRatio,d=g.maxHeight*this.aspectRatio,f=g.maxWidth/this.aspectRatio,c>g.minWidth&&(g.minWidth=c),e>g.minHeight&&(g.minHeight=e),d<g.maxWidth&&(g.maxWidth=d),f<g.maxHeight&&(g.maxHeight=f)),this._vBoundaries=g},_updateCache:function(a){this.options;this.offset=this.helper.offset(),b(a.left)&&(this.position.left=a.left),b(a.top)&&(this.position.top=a.top),b(a.height)&&(this.size.height=a.height),b(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var c=(this.options,this.position),d=this.size,e=this.axis;return b(a.height)?a.width=a.height*this.aspectRatio:b(a.width)&&(a.height=a.width/this.aspectRatio),"sw"==e&&(a.left=c.left+(d.width-a.width),a.top=null),"nw"==e&&(a.top=c.top+(d.height-a.height),a.left=c.left+(d.width-a.width)),a},_respectSize:function(a,c){var d=(this.helper,this._vBoundaries),e=(this._aspectRatio||c.shiftKey,this.axis),f=b(a.width)&&d.maxWidth&&d.maxWidth<a.width,g=b(a.height)&&d.maxHeight&&d.maxHeight<a.height,h=b(a.width)&&d.minWidth&&d.minWidth>a.width,i=b(a.height)&&d.minHeight&&d.minHeight>a.height;h&&(a.width=d.minWidth),i&&(a.height=d.minHeight),f&&(a.width=d.maxWidth),g&&(a.height=d.maxHeight);var j=this.originalPosition.left+this.originalSize.width,k=this.position.top+this.size.height,l=/sw|nw|w/.test(e),m=/nw|ne|n/.test(e);h&&l&&(a.left=j-d.minWidth),f&&l&&(a.left=j-d.maxWidth),i&&m&&(a.top=k-d.minHeight),g&&m&&(a.top=k-d.maxHeight);var n=!a.width&&!a.height;return n&&!a.left&&a.top?a.top=null:n&&!a.top&&a.left&&(a.left=null),a},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var a=this.helper||this.element,b=0;b<this._proportionallyResizeElements.length;b++){var c=this._proportionallyResizeElements[b];if(!this.borderDif){var d=[c.css("borderTopWidth"),c.css("borderRightWidth"),c.css("borderBottomWidth"),c.css("borderLeftWidth")],e=[c.css("paddingTop"),c.css("paddingRight"),c.css("paddingBottom"),c.css("paddingLeft")];this.borderDif=$.map(d,function(a,b){var c=parseInt(a,10)||0,d=parseInt(e[b],10)||0;return c+d})}c.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var a=this.element,b=this.options;if(this.elementOffset=a.offset(),this._helper){this.helper=this.helper||$('<div style="overflow:hidden;"></div>');var c=$.ui.ie6?1:0,d=$.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+d,height:this.element.outerHeight()+d,position:"absolute",left:this.elementOffset.left-c+"px",top:this.elementOffset.top-c+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=(this.options,this.originalSize),d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=(this.options,this.originalSize),e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(a,b,c){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,b,c]))},sw:function(a,b,c){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,b,c]))},ne:function(a,b,c){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,b,c]))},nw:function(a,b,c){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,b,c]))}},_propagate:function(a,b){$.ui.plugin.call(this,a,[b,this.ui()]),"resize"!=a&&this._trigger(a,b,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),$.ui.plugin.add("resizable","alsoResize",{start:function(){var a=$(this).data("resizable"),b=a.options,c=function(a){$(a).each(function(){var a=$(this);a.data("resizable-alsoresize",{width:parseInt(a.outerWidth(),10),height:parseInt(a.outerHeight(),10),left:parseInt(a.css("left"),10),top:parseInt(a.css("top"),10)})})};"object"!=typeof b.alsoResize||b.alsoResize.parentNode?c(b.alsoResize):b.alsoResize.length?(b.alsoResize=b.alsoResize[0],c(b.alsoResize)):$.each(b.alsoResize,function(a){c(a)})},resize:function(a,b){var c=$(this).data("resizable"),d=c.options,e=c.originalSize,f=c.originalPosition,g={height:c.size.height-e.height||0,width:c.size.width-e.width||0,top:c.position.top-f.top||0,left:c.position.left-f.left||0},h=function(a,c){$(a).each(function(){var a=$(this),d=$(this).data("resizable-alsoresize"),e={},f=c&&c.length?c:a.parents(b.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(f,function(a,b){var c=(d[b]||0)+(g[b]||0);c&&c>=0&&(e[b]=c||null),"width"===b?e.outerWidth=c||null:"height"===b?e.outerHeight=c||null:e[b]=c||null}),a.css(e)})};"object"!=typeof d.alsoResize||d.alsoResize.nodeType?h(d.alsoResize):$.each(d.alsoResize,function(a,b){h(a,b)})},stop:function(){$(this).removeData("resizable-alsoresize")}}),$.ui.plugin.add("resizable","animate",{stop:function(a){var b=$(this).data("resizable"),c=b.options,d=b._proportionallyResizeElements,e=d.length&&/textarea/i.test(d[0].nodeName),f=e&&$.ui.hasScroll(d[0],"left")?0:b.sizeDiff.height,g=e?0:b.sizeDiff.width,h={width:b.size.width-g,height:b.size.height-f},i=parseInt(b.element.css("left"),10)+(b.position.left-b.originalPosition.left)||null,j=parseInt(b.element.css("top"),10)+(b.position.top-b.originalPosition.top)||null;b.element.animate($.extend(h,j&&i?{top:j,left:i}:{}),{duration:c.animateDuration,easing:c.animateEasing,step:function(){var c={width:parseInt(b.element.css("width"),10),height:parseInt(b.element.css("height"),10),top:parseInt(b.element.css("top"),10),left:parseInt(b.element.css("left"),10)};d&&d.length&&$(d[0]).css({width:c.width,height:c.height}),b._updateCache(c),b._propagate("resize",a)}})}}),$.ui.plugin.add("resizable","containment",{start:function(){var b=$(this).data("resizable"),c=b.options,d=b.element,e=c.containment,f=e instanceof $?e.get(0):/parent/.test(e)?d.parent().get(0):e;if(f)if(b.containerElement=$(f),/document/.test(e)||e==document)b.containerOffset={left:0,top:0},b.containerPosition={left:0,top:0},b.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};else{var g=$(f),h=[];$(["Top","Right","Left","Bottom"]).each(function(b,c){h[b]=a(g.css("padding"+c))}),b.containerOffset=g.offset(),b.containerPosition=g.position(),b.containerSize={height:g.innerHeight()-h[3],width:g.innerWidth()-h[1]};var i=b.containerOffset,j=b.containerSize.height,k=b.containerSize.width,l=$.ui.hasScroll(f,"left")?f.scrollWidth:k,m=$.ui.hasScroll(f)?f.scrollHeight:j;b.parentData={element:f,left:i.left,top:i.top,width:l,height:m}}},resize:function(a){var b=$(this).data("resizable"),c=b.options,d=(b.containerSize,b.containerOffset),e=(b.size,b.position),f=b._aspectRatio||a.shiftKey,g={top:0,left:0},h=b.containerElement;h[0]!=document&&/static/.test(h.css("position"))&&(g=d),e.left<(b._helper?d.left:0)&&(b.size.width=b.size.width+(b._helper?b.position.left-d.left:b.position.left-g.left),f&&(b.size.height=b.size.width/b.aspectRatio),b.position.left=c.helper?d.left:0),e.top<(b._helper?d.top:0)&&(b.size.height=b.size.height+(b._helper?b.position.top-d.top:b.position.top),f&&(b.size.width=b.size.height*b.aspectRatio),b.position.top=b._helper?d.top:0),b.offset.left=b.parentData.left+b.position.left,b.offset.top=b.parentData.top+b.position.top;var i=Math.abs((b._helper?b.offset.left-g.left:b.offset.left-g.left)+b.sizeDiff.width),j=Math.abs((b._helper?b.offset.top-g.top:b.offset.top-d.top)+b.sizeDiff.height),k=b.containerElement.get(0)==b.element.parent().get(0),l=/relative|absolute/.test(b.containerElement.css("position"));k&&l&&(i-=b.parentData.left),i+b.size.width>=b.parentData.width&&(b.size.width=b.parentData.width-i,f&&(b.size.height=b.size.width/b.aspectRatio)),j+b.size.height>=b.parentData.height&&(b.size.height=b.parentData.height-j,f&&(b.size.width=b.size.height*b.aspectRatio))},stop:function(){var a=$(this).data("resizable"),b=a.options,c=(a.position,a.containerOffset),d=a.containerPosition,e=a.containerElement,f=$(a.helper),g=f.offset(),h=f.outerWidth()-a.sizeDiff.width,i=f.outerHeight()-a.sizeDiff.height;a._helper&&!b.animate&&/relative/.test(e.css("position"))&&$(this).css({left:g.left-d.left-c.left,width:h,height:i}),a._helper&&!b.animate&&/static/.test(e.css("position"))&&$(this).css({left:g.left-d.left-c.left,width:h,height:i})}}),$.ui.plugin.add("resizable","ghost",{start:function(){var a=$(this).data("resizable"),b=a.options,c=a.size;a.ghost=a.originalElement.clone(),a.ghost.css({opacity:.25,display:"block",position:"relative",height:c.height,width:c.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof b.ghost?b.ghost:""),a.ghost.appendTo(a.helper)},resize:function(){{var a=$(this).data("resizable");a.options}a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){{var a=$(this).data("resizable");a.options}a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}}),$.ui.plugin.add("resizable","grid",{resize:function(a){{var b=$(this).data("resizable"),c=b.options,d=b.size,e=b.originalSize,f=b.originalPosition,g=b.axis;c._aspectRatio||a.shiftKey}c.grid="number"==typeof c.grid?[c.grid,c.grid]:c.grid;var h=Math.round((d.width-e.width)/(c.grid[0]||1))*(c.grid[0]||1),i=Math.round((d.height-e.height)/(c.grid[1]||1))*(c.grid[1]||1);/^(se|s|e)$/.test(g)?(b.size.width=e.width+h,b.size.height=e.height+i):/^(ne)$/.test(g)?(b.size.width=e.width+h,b.size.height=e.height+i,b.position.top=f.top-i):/^(sw)$/.test(g)?(b.size.width=e.width+h,b.size.height=e.height+i,b.position.left=f.left-h):(b.size.width=e.width+h,b.size.height=e.height+i,b.position.top=f.top-i,b.position.left=f.left-h)}});var a=function(a){return parseInt(a,10)||0},b=function(a){return!isNaN(parseInt(a,10))}}(jQuery),function($){$.widget("ui.selectable",$.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var a=this;this.element.addClass("ui-selectable"),this.dragged=!1;var b;this.refresh=function(){b=$(a.options.filter,a.element[0]),b.addClass("ui-selectee"),b.each(function(){var a=$(this),b=a.offset();$.data(this,"selectable-item",{element:this,$element:a,left:b.left,top:b.top,right:b.left+a.outerWidth(),bottom:b.top+a.outerHeight(),startselected:!1,selected:a.hasClass("ui-selected"),selecting:a.hasClass("ui-selecting"),unselecting:a.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=b.addClass("ui-selectee"),this._mouseInit(),this.helper=$("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(a){var b=this;if(this.opos=[a.pageX,a.pageY],!this.options.disabled){var c=this.options;this.selectees=$(c.filter,this.element[0]),this._trigger("start",a),$(c.appendTo).append(this.helper),this.helper.css({left:a.clientX,top:a.clientY,width:0,height:0}),c.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var c=$.data(this,"selectable-item");c.startselected=!0,a.metaKey||a.ctrlKey||(c.$element.removeClass("ui-selected"),c.selected=!1,c.$element.addClass("ui-unselecting"),c.unselecting=!0,b._trigger("unselecting",a,{unselecting:c.element}))}),$(a.target).parents().andSelf().each(function(){var c=$.data(this,"selectable-item");if(c){var d=!a.metaKey&&!a.ctrlKey||!c.$element.hasClass("ui-selected");return c.$element.removeClass(d?"ui-unselecting":"ui-selected").addClass(d?"ui-selecting":"ui-unselecting"),c.unselecting=!d,c.selecting=d,c.selected=d,d?b._trigger("selecting",a,{selecting:c.element}):b._trigger("unselecting",a,{unselecting:c.element}),!1}})}},_mouseDrag:function(a){var b=this;if(this.dragged=!0,!this.options.disabled){var c=this.options,d=this.opos[0],e=this.opos[1],f=a.pageX,g=a.pageY;if(d>f){var h=f;f=d,d=h}if(e>g){var h=g;g=e,e=h}return this.helper.css({left:d,top:e,width:f-d,height:g-e}),this.selectees.each(function(){var h=$.data(this,"selectable-item");if(h&&h.element!=b.element[0]){var i=!1;"touch"==c.tolerance?i=!(h.left>f||h.right<d||h.top>g||h.bottom<e):"fit"==c.tolerance&&(i=h.left>d&&h.right<f&&h.top>e&&h.bottom<g),i?(h.selected&&(h.$element.removeClass("ui-selected"),h.selected=!1),h.unselecting&&(h.$element.removeClass("ui-unselecting"),h.unselecting=!1),h.selecting||(h.$element.addClass("ui-selecting"),h.selecting=!0,b._trigger("selecting",a,{selecting:h.element}))):(h.selecting&&((a.metaKey||a.ctrlKey)&&h.startselected?(h.$element.removeClass("ui-selecting"),h.selecting=!1,h.$element.addClass("ui-selected"),h.selected=!0):(h.$element.removeClass("ui-selecting"),h.selecting=!1,h.startselected&&(h.$element.addClass("ui-unselecting"),h.unselecting=!0),b._trigger("unselecting",a,{unselecting:h.element}))),h.selected&&(a.metaKey||a.ctrlKey||h.startselected||(h.$element.removeClass("ui-selected"),h.selected=!1,h.$element.addClass("ui-unselecting"),h.unselecting=!0,b._trigger("unselecting",a,{unselecting:h.element}))))
}}),!1}},_mouseStop:function(a){var b=this;this.dragged=!1;this.options;return $(".ui-unselecting",this.element[0]).each(function(){var c=$.data(this,"selectable-item");c.$element.removeClass("ui-unselecting"),c.unselecting=!1,c.startselected=!1,b._trigger("unselected",a,{unselected:c.element})}),$(".ui-selecting",this.element[0]).each(function(){var c=$.data(this,"selectable-item");c.$element.removeClass("ui-selecting").addClass("ui-selected"),c.selecting=!1,c.selected=!0,c.startselected=!0,b._trigger("selected",a,{selected:c.element})}),this._trigger("stop",a),this.helper.remove(),!1}})}(jQuery),function($){$.widget("ui.sortable",$.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===a.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(a,b){"disabled"===a?(this.options[a]=b,this.widget().toggleClass("ui-sortable-disabled",!!b)):$.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(a,b){var c=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(a);{var d=null;$(a.target).parents().each(function(){return $.data(this,c.widgetName+"-item")==c?(d=$(this),!1):void 0})}if($.data(a.target,c.widgetName+"-item")==c&&(d=$(a.target)),!d)return!1;if(this.options.handle&&!b){var e=!1;if($(this.options.handle,d).find("*").andSelf().each(function(){this==a.target&&(e=!0)}),!e)return!1}return this.currentItem=d,this._removeCurrentsFromItems(),!0},_mouseStart:function(a,b,c){var d=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(a),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},$.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),d.containment&&this._setContainment(),d.cursor&&($("body").css("cursor")&&(this._storedCursor=$("body").css("cursor")),$("body").css("cursor",d.cursor)),d.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",d.opacity)),d.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",d.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",a,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!c)for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",a,this._uiHash(this));return $.ui.ddmanager&&($.ui.ddmanager.current=this),$.ui.ddmanager&&!d.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,a),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(a),!0},_mouseDrag:function(a){if(this.position=this._generatePosition(a),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var b=this.options,c=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<b.scrollSensitivity?this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop+b.scrollSpeed:a.pageY-this.overflowOffset.top<b.scrollSensitivity&&(this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop-b.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<b.scrollSensitivity?this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft+b.scrollSpeed:a.pageX-this.overflowOffset.left<b.scrollSensitivity&&(this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft-b.scrollSpeed)):(a.pageY-$(document).scrollTop()<b.scrollSensitivity?c=$(document).scrollTop($(document).scrollTop()-b.scrollSpeed):$(window).height()-(a.pageY-$(document).scrollTop())<b.scrollSensitivity&&(c=$(document).scrollTop($(document).scrollTop()+b.scrollSpeed)),a.pageX-$(document).scrollLeft()<b.scrollSensitivity?c=$(document).scrollLeft($(document).scrollLeft()-b.scrollSpeed):$(window).width()-(a.pageX-$(document).scrollLeft())<b.scrollSensitivity&&(c=$(document).scrollLeft($(document).scrollLeft()+b.scrollSpeed))),c!==!1&&$.ui.ddmanager&&!b.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,a)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var d=this.items.length-1;d>=0;d--){var e=this.items[d],f=e.item[0],g=this._intersectsWithPointer(e);if(g&&e.instance===this.currentContainer&&f!=this.currentItem[0]&&this.placeholder[1==g?"next":"prev"]()[0]!=f&&!$.contains(this.placeholder[0],f)&&("semi-dynamic"==this.options.type?!$.contains(this.element[0],f):!0)){if(this.direction=1==g?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(e))break;this._rearrange(a,e),this._trigger("change",a,this._uiHash());break}}return this._contactContainers(a),$.ui.ddmanager&&$.ui.ddmanager.drag(this,a),this._trigger("sort",a,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(a,b){if(a){if($.ui.ddmanager&&!this.options.dropBehaviour&&$.ui.ddmanager.drop(this,a),this.options.revert){var c=this,d=this.placeholder.offset();this.reverting=!0,$(this.helper).animate({left:d.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:d.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){c._clear(a)})}else this._clear(a,b);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),$.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?$(this.domPosition.prev).after(this.currentItem):$(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];return a=a||{},$(b).each(function(){var b=($(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[-=_](.+)/);b&&c.push((a.key||b[1]+"[]")+"="+(a.key&&a.expression?b[1]:b[2]))}),!c.length&&a.key&&c.push(a.key+"="),c.join("&")},toArray:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];return a=a||{},b.each(function(){c.push($(a.item||this).attr(a.attribute||"id")||"")}),c},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l=d+j>h&&i>d+j&&b+k>f&&g>b+k;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?l:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(a){var b="x"===this.options.axis||$.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height),c="y"===this.options.axis||$.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width),d=b&&c,e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return d?this.floating?f&&"right"==f||"down"==e?2:1:e&&("down"==e?2:1):!1},_intersectsWithSides:function(a){var b=$.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),c=$.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),d=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?"right"==e&&c||"left"==e&&!c:d&&("down"==d&&b||"up"==d&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!=a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!=a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){var b=[],c=[],d=this._connectWith();if(d&&a)for(var e=d.length-1;e>=0;e--)for(var f=$(d[e]),g=f.length-1;g>=0;g--){var h=$.data(f[g],this.widgetName);h&&h!=this&&!h.options.disabled&&c.push([$.isFunction(h.options.items)?h.options.items.call(h.element):$(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h])}c.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var e=c.length-1;e>=0;e--)c[e][0].each(function(){b.push(this)});return $(b)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(b){for(var c=0;c<a.length;c++)if(a[c]==b.item[0])return!1;return!0})},_refreshItems:function(a){this.items=[],this.containers=[this];var b=this.items,c=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):$(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(var e=d.length-1;e>=0;e--)for(var f=$(d[e]),g=f.length-1;g>=0;g--){var h=$.data(f[g],this.widgetName);h&&h!=this&&!h.options.disabled&&(c.push([$.isFunction(h.options.items)?h.options.items.call(h.element[0],a,{item:this.currentItem}):$(h.options.items,h.element),h]),this.containers.push(h))}for(var e=c.length-1;e>=0;e--)for(var i=c[e][1],j=c[e][0],g=0,k=j.length;k>g;g++){var l=$(j[g]);l.data(this.widgetName+"-item",i),b.push({item:l,instance:i,width:0,height:0,left:0,top:0})}},refreshPositions:function(a){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var b=this.items.length-1;b>=0;b--){var c=this.items[b];if(c.instance==this.currentContainer||!this.currentContainer||c.item[0]==this.currentItem[0]){var d=this.options.toleranceElement?$(this.options.toleranceElement,c.item):c.item;a||(c.width=d.outerWidth(),c.height=d.outerHeight());var e=d.offset();c.left=e.left,c.top=e.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var b=this.containers.length-1;b>=0;b--){var e=this.containers[b].element.offset();this.containers[b].containerCache.left=e.left,this.containers[b].containerCache.top=e.top,this.containers[b].containerCache.width=this.containers[b].element.outerWidth(),this.containers[b].containerCache.height=this.containers[b].element.outerHeight()}return this},_createPlaceholder:function(a){a=a||this;var b=a.options;if(!b.placeholder||b.placeholder.constructor==String){var c=b.placeholder;b.placeholder={element:function(){var b=$(document.createElement(a.currentItem[0].nodeName)).addClass(c||a.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return c||(b.style.visibility="hidden"),b},update:function(d,e){(!c||b.forcePlaceholderSize)&&(e.height()||e.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10)))}}}a.placeholder=$(b.placeholder.element.call(a.element,a.currentItem)),a.currentItem.after(a.placeholder),b.placeholder.update(a,a.placeholder)},_contactContainers:function(a){for(var b=null,c=null,d=this.containers.length-1;d>=0;d--)if(!$.contains(this.currentItem[0],this.containers[d].element[0]))if(this._intersectsWith(this.containers[d].containerCache)){if(b&&$.contains(this.containers[d].element[0],b.element[0]))continue;b=this.containers[d],c=d}else this.containers[d].containerCache.over&&(this.containers[d]._trigger("out",a,this._uiHash(this)),this.containers[d].containerCache.over=0);if(b)if(1===this.containers.length)this.containers[c]._trigger("over",a,this._uiHash(this)),this.containers[c].containerCache.over=1;else{for(var e=1e4,f=null,g=this.containers[c].floating?"left":"top",h=this.containers[c].floating?"width":"height",i=this.positionAbs[g]+this.offset.click[g],j=this.items.length-1;j>=0;j--)if($.contains(this.containers[c].element[0],this.items[j].item[0])&&this.items[j].item[0]!=this.currentItem[0]){var k=this.items[j].item.offset()[g],l=!1;Math.abs(k-i)>Math.abs(k+this.items[j][h]-i)&&(l=!0,k+=this.items[j][h]),Math.abs(k-i)<e&&(e=Math.abs(k-i),f=this.items[j],this.direction=l?"up":"down")}if(!f&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[c],f?this._rearrange(a,f,null,!0):this._rearrange(a,null,this.containers[c].element,!0),this._trigger("change",a,this._uiHash()),this.containers[c]._trigger("change",a,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[c]._trigger("over",a,this._uiHash(this)),this.containers[c].containerCache.over=1}},_createHelper:function(a){var b=this.options,c=$.isFunction(b.helper)?$(b.helper.apply(this.element[0],[a,this.currentItem])):"clone"==b.helper?this.currentItem.clone():this.currentItem;return c.parents("body").length||$("parent"!=b.appendTo?b.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]),c[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==c[0].style.width||b.forceHelperSize)&&c.width(this.currentItem.width()),(""==c[0].style.height||b.forceHelperSize)&&c.height(this.currentItem.height()),c},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" ")),$.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left"in a&&(this.offset.click.left=a.left+this.margins.left),"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top"in a&&(this.offset.click.top=a.top+this.margins.top),"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&$.ui.ie)&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if("parent"==a.containment&&(a.containment=this.helper[0].parentNode),("document"==a.containment||"window"==a.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,$("document"==a.containment?document:window).width()-this.helperProportions.width-this.margins.left,($("document"==a.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(a.containment)){var b=$(a.containment)[0],c=$(a.containment).offset(),d="hidden"!=$(b).css("overflow");this.containment=[c.left+(parseInt($(b).css("borderLeftWidth"),10)||0)+(parseInt($(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt($(b).css("borderTopWidth"),10)||0)+(parseInt($(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt($(b).css("borderLeftWidth"),10)||0)-(parseInt($(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt($(b).css("borderTopWidth"),10)||0)-(parseInt($(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(a,b){b||(b=this.position);var c="absolute"==a?1:-1,d=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),e=/(html|body)/i.test(d[0].tagName);return{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop())*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())*c}},_generatePosition:function(a){var b=this.options,c="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,d=/(html|body)/i.test(c[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var e=a.pageX,f=a.pageY;if(this.originalPosition&&(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(e=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(f=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(e=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(f=this.containment[3]+this.offset.click.top)),b.grid)){var g=this.originalPageY+Math.round((f-this.originalPageY)/b.grid[1])*b.grid[1];f=this.containment?g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3]?g-this.offset.click.top<this.containment[1]?g+b.grid[1]:g-b.grid[1]:g:g;var h=this.originalPageX+Math.round((e-this.originalPageX)/b.grid[0])*b.grid[0];e=this.containment?h-this.offset.click.left<this.containment[0]||h-this.offset.click.left>this.containment[2]?h-this.offset.click.left<this.containment[0]?h+b.grid[0]:h-b.grid[0]:h:h}return{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():d?0:c.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():d?0:c.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e==this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){this.reverting=!1;var c=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var d in this._storedCSS)("auto"==this._storedCSS[d]||"static"==this._storedCSS[d])&&(this._storedCSS[d]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!b&&c.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||b||c.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(b||(c.push(function(a){this._trigger("remove",a,this._uiHash())}),c.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),c.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer))));for(var d=this.containers.length-1;d>=0;d--)b||c.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[d])),this.containers[d].containerCache.over&&(c.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[d])),this.containers[d].containerCache.over=0);if(this._storedCursor&&$("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!b){this._trigger("beforeStop",a,this._uiHash());for(var d=0;d<c.length;d++)c[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!b){for(var d=0;d<c.length;d++)c[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){$.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(a){var b=a||this;return{helper:b.helper,placeholder:b.placeholder||$([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:a?a.element:null}}})}(jQuery),jQuery.effects||function($,a){var b=$.uiBackCompat!==!1,c="ui-effects-";$.effects={effect:{}},function(jQuery,a){function b(a,b,c){var d=k[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function c(a){var b=i(),c=b._rgba=[];return a=a.toLowerCase(),n(h,function(d,e){var f,g=e.re.exec(a),h=g&&e.parse(g),i=e.space||"rgba";return h?(f=b[i](h),b[j[i].cache]=f[j[i].cache],c=b._rgba=f._rgba,!1):void 0}),c.length?("0,0,0,0"===c.join()&&jQuery.extend(c,e.transparent),b):e[a]}function d(a,b,c){return c=(c+1)%1,1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}var e,f="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),g=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],i=jQuery.Color=function(a,b,c,d){return new jQuery.Color.fn.parse(a,b,c,d)},j={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},k={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=i.support={},m=jQuery("<p>")[0],n=jQuery.each;m.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=m.style.backgroundColor.indexOf("rgba")>-1,n(j,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),i.fn=jQuery.extend(i.prototype,{parse:function(d,f,g,h){if(d===a)return this._rgba=[null,null,null,null],this;(d.jquery||d.nodeType)&&(d=jQuery(d).css(f),f=a);var k=this,l=jQuery.type(d),m=this._rgba=[];return f!==a&&(d=[d,f,g,h],l="array"),"string"===l?this.parse(c(d)||e._default):"array"===l?(n(j.rgba.props,function(a,c){m[c.idx]=b(d[c.idx],c)}),this):"object"===l?(d instanceof i?n(j,function(a,b){d[b.cache]&&(k[b.cache]=d[b.cache].slice())}):n(j,function(a,c){var e=c.cache;n(c.props,function(a,f){if(!k[e]&&c.to){if("alpha"===a||null==d[a])return;k[e]=c.to(k._rgba)}k[e][f.idx]=b(d[a],f,!0)}),k[e]&&$.inArray(null,k[e].slice(0,3))<0&&(k[e][3]=1,c.from&&(k._rgba=c.from(k[e])))}),this):void 0},is:function(a){var b=i(a),c=!0,d=this;return n(j,function(_,a){var e,f=b[a.cache];return f&&(e=d[a.cache]||a.to&&a.to(d._rgba)||[],n(a.props,function(_,a){return null!=f[a.idx]?c=f[a.idx]===e[a.idx]:void 0})),c}),c},_space:function(){var a=[],b=this;return n(j,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,c){var d=i(a),e=d._space(),f=j[e],g=0===this.alpha()?i("transparent"):this,h=g[f.cache]||f.to(g._rgba),l=h.slice();return d=d[f.cache],n(f.props,function(a,e){var f=e.idx,g=h[f],i=d[f],j=k[e.type]||{};null!==i&&(null===g?l[f]=i:(j.mod&&(i-g>j.mod/2?g+=j.mod:g-i>j.mod/2&&(g-=j.mod)),l[f]=b((i-g)*c+g,e)))}),this[e](l)},blend:function(a){if(1===this._rgba[3])return this;var b=this._rgba.slice(),c=b.pop(),d=i(a)._rgba;return i(jQuery.map(b,function(a,b){return(1-c)*d[b]+c*a}))},toRgbaString:function(){var a="rgba(",b=jQuery.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===b[3]&&(b.pop(),a="rgb("),a+b.join()+")"},toHslaString:function(){var a="hsla(",b=jQuery.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===b[3]&&(b.pop(),a="hsl("),a+b.join()+")"},toHexString:function(a){var b=this._rgba.slice(),c=b.pop();return a&&b.push(~~(255*c)),"#"+jQuery.map(b,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),i.fn.parse.prototype=i.fn,j.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===l||1===l?l:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},j.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],e=a[2],f=a[3],g=.5>=e?e*(1+c):e+c-e*c,h=2*e-g;return[Math.round(255*d(h,g,b+1/3)),Math.round(255*d(h,g,b)),Math.round(255*d(h,g,b-1/3)),f]},n(j,function(c,d){var e=d.props,f=d.cache,h=d.to,j=d.from;i.fn[c]=function(c){if(h&&!this[f]&&(this[f]=h(this._rgba)),c===a)return this[f].slice();var d,g=jQuery.type(c),k="array"===g||"object"===g?c:arguments,l=this[f].slice();return n(e,function(a,c){var d=k["object"===g?a:c.idx];null==d&&(d=l[c.idx]),l[c.idx]=b(d,c)}),j?(d=i(j(l)),d[f]=l,d):i(l)},n(e,function(a,b){i.fn[a]||(i.fn[a]=function(d){var e,f=jQuery.type(d),h="alpha"===a?this._hsla?"hsla":"rgba":c,i=this[h](),j=i[b.idx];return"undefined"===f?j:("function"===f&&(d=d.call(this,j),f=jQuery.type(d)),null==d&&b.empty?this:("string"===f&&(e=g.exec(d),e&&(d=j+parseFloat(e[2])*("+"===e[1]?1:-1))),i[b.idx]=d,this[h](i)))})})}),n(f,function(a,b){jQuery.cssHooks[b]={set:function(a,d){var e,f,g="";if("string"!==jQuery.type(d)||(e=c(d))){if(d=i(e||d),!l.rgba&&1!==d._rgba[3]){for(f="backgroundColor"===b?a.parentNode:a;(""===g||"transparent"===g)&&f&&f.style;)try{g=jQuery.css(f,"backgroundColor"),f=f.parentNode}catch(h){}d=d.blend(g&&"transparent"!==g?g:"_default")}d=d.toRgbaString()}try{a.style[b]=d}catch(j){}}},jQuery.fx.step[b]=function(a){a.colorInit||(a.start=i(a.elem,b),a.end=i(a.end),a.colorInit=!0),jQuery.cssHooks[b].set(a.elem,a.start.transition(a.end,a.pos))}}),jQuery.cssHooks.borderColor={expand:function(a){var b={};return n(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},e=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function b(){var a,b,c=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,d={};if(c&&c.length&&c[0]&&c[c[0]])for(b=c.length;b--;)a=c[b],"string"==typeof c[a]&&(d[$.camelCase(a)]=c[a]);else for(a in c)"string"==typeof c[a]&&(d[a]=c[a]);return d}function c(a,b){var c,d,f={};for(c in b)d=b[c],a[c]!==d&&(e[c]||($.fx.step[c]||!isNaN(parseFloat(d)))&&(f[c]=d));return f}var d=["add","remove","toggle"],e={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,a){$.fx.step[a]=function(b){("none"!==b.end&&!b.setAttr||1===b.pos&&!b.setAttr)&&(jQuery.style(b.elem,a,b.end),b.setAttr=!0)}}),$.effects.animateClass=function(a,e,f,g){var h=$.speed(e,f,g);return this.queue(function(){var e,f=$(this),g=f.attr("class")||"",i=h.children?f.find("*").andSelf():f;i=i.map(function(){var a=$(this);return{el:a,start:b.call(this)}}),e=function(){$.each(d,function(b,c){a[c]&&f[c+"Class"](a[c])})},e(),i=i.map(function(){return this.end=b.call(this.el[0]),this.diff=c(this.start,this.end),this}),f.attr("class",g),i=i.map(function(){var a=this,b=$.Deferred(),c=jQuery.extend({},h,{queue:!1,complete:function(){b.resolve(a)}});return this.el.animate(this.diff,c),b.promise()}),$.when.apply($,i.get()).done(function(){e(),$.each(arguments,function(){var a=this.el;
$.each(this.diff,function(b){a.css(b,"")})}),h.complete.call(f[0])})})},$.fn.extend({_addClass:$.fn.addClass,addClass:function(a,b,c,d){return b?$.effects.animateClass.call(this,{add:a},b,c,d):this._addClass(a)},_removeClass:$.fn.removeClass,removeClass:function(a,b,c,d){return b?$.effects.animateClass.call(this,{remove:a},b,c,d):this._removeClass(a)},_toggleClass:$.fn.toggleClass,toggleClass:function(b,c,d,e,f){return"boolean"==typeof c||c===a?d?$.effects.animateClass.call(this,c?{add:b}:{remove:b},d,e,f):this._toggleClass(b,c):$.effects.animateClass.call(this,{toggle:b},c,d,e)},switchClass:function(a,b,c,d,e){return $.effects.animateClass.call(this,{add:b,remove:a},c,d,e)}})}(),function(){function d(a,b,c,d){return $.isPlainObject(a)&&(b=a,a=a.effect),a={effect:a},null==b&&(b={}),$.isFunction(b)&&(d=b,c=null,b={}),("number"==typeof b||$.fx.speeds[b])&&(d=c,c=b,b={}),$.isFunction(c)&&(d=c,c=null),b&&$.extend(a,b),c=c||b.duration,a.duration=$.fx.off?0:"number"==typeof c?c:c in $.fx.speeds?$.fx.speeds[c]:$.fx.speeds._default,a.complete=d||b.complete,a}function e(a){return!a||"number"==typeof a||$.fx.speeds[a]?!0:"string"!=typeof a||$.effects.effect[a]?!1:b&&$.effects[a]?!1:!0}$.extend($.effects,{version:"1.9.2",save:function(a,b){for(var d=0;d<b.length;d++)null!==b[d]&&a.data(c+b[d],a[0].style[b[d]])},restore:function(b,d){var e,f;for(f=0;f<d.length;f++)null!==d[f]&&(e=b.data(c+d[f]),e===a&&(e=""),b.css(d[f],e))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper"))return a.parent();var b={width:a.outerWidth(!0),height:a.outerHeight(!0),"float":a.css("float")},c=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),d={width:a.width(),height:a.height()},e=document.activeElement;try{e.id}catch(f){e=document.body}return a.wrap(c),(a[0]===e||$.contains(a[0],e))&&$(e).focus(),c=a.parent(),"static"===a.css("position")?(c.css({position:"relative"}),a.css({position:"relative"})):($.extend(b,{position:a.css("position"),zIndex:a.css("z-index")}),$.each(["top","left","bottom","right"],function(c,d){b[d]=a.css(d),isNaN(parseInt(b[d],10))&&(b[d]="auto")}),a.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),a.css(d),c.css(b).show()},removeWrapper:function(a){var b=document.activeElement;return a.parent().is(".ui-effects-wrapper")&&(a.parent().replaceWith(a),(a[0]===b||$.contains(a[0],b))&&$(b).focus()),a},setTransition:function(a,b,c,d){return d=d||{},$.each(b,function(b,e){var f=a.cssUnit(e);f[0]>0&&(d[e]=f[0]*c+f[1])}),d}}),$.fn.extend({effect:function(){function a(a){function b(){$.isFunction(e)&&e.call(d[0]),$.isFunction(a)&&a()}var d=$(this),e=c.complete,f=c.mode;(d.is(":hidden")?"hide"===f:"show"===f)?b():g.call(d[0],c,b)}var c=d.apply(this,arguments),e=c.mode,f=c.queue,g=$.effects.effect[c.effect],h=!g&&b&&$.effects[c.effect];return $.fx.off||!g&&!h?e?this[e](c.duration,c.complete):this.each(function(){c.complete&&c.complete.call(this)}):g?f===!1?this.each(a):this.queue(f||"fx",a):h.call(this,{options:c,duration:c.duration,callback:c.complete,mode:c.mode})},_show:$.fn.show,show:function(a){if(e(a))return this._show.apply(this,arguments);var b=d.apply(this,arguments);return b.mode="show",this.effect.call(this,b)},_hide:$.fn.hide,hide:function(a){if(e(a))return this._hide.apply(this,arguments);var b=d.apply(this,arguments);return b.mode="hide",this.effect.call(this,b)},__toggle:$.fn.toggle,toggle:function(a){if(e(a)||"boolean"==typeof a||$.isFunction(a))return this.__toggle.apply(this,arguments);var b=d.apply(this,arguments);return b.mode="toggle",this.effect.call(this,b)},cssUnit:function(a){var b=this.css(a),c=[];return $.each(["em","px","%","pt"],function(a,d){b.indexOf(d)>0&&(c=[parseFloat(b),d])}),c}})}(),function(){var a={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(b,c){a[c]=function(a){return Math.pow(a,b+2)}}),$.extend(a,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),$.each(a,function(a,b){$.easing["easeIn"+a]=b,$.easing["easeOut"+a]=function(a){return 1-b(1-a)},$.easing["easeInOut"+a]=function(a){return.5>a?b(2*a)/2:1-b(-2*a+2)/2}})}()}(jQuery),function($){var a=/up|down|vertical/,b=/up|left|vertical|horizontal/;$.effects.effect.blind=function(c,d){var e,f,g,h=$(this),i=["position","top","bottom","left","right","height","width"],j=$.effects.setMode(h,c.mode||"hide"),k=c.direction||"up",l=a.test(k),m=l?"height":"width",n=l?"top":"left",o=b.test(k),p={},q="show"===j;h.parent().is(".ui-effects-wrapper")?$.effects.save(h.parent(),i):$.effects.save(h,i),h.show(),e=$.effects.createWrapper(h).css({overflow:"hidden"}),f=e[m](),g=parseFloat(e.css(n))||0,p[m]=q?f:0,o||(h.css(l?"bottom":"right",0).css(l?"top":"left","auto").css({position:"absolute"}),p[n]=q?g:f+g),q&&(e.css(m,0),o||e.css(n,g+f)),e.animate(p,{duration:c.duration,easing:c.easing,queue:!1,complete:function(){"hide"===j&&h.hide(),$.effects.restore(h,i),$.effects.removeWrapper(h),d()}})}}(jQuery),function($){$.effects.effect.bounce=function(a,b){var c,d,e,f=$(this),g=["position","top","bottom","left","right","height","width"],h=$.effects.setMode(f,a.mode||"effect"),i="hide"===h,j="show"===h,k=a.direction||"up",l=a.distance,m=a.times||5,n=2*m+(j||i?1:0),o=a.duration/n,p=a.easing,q="up"===k||"down"===k?"top":"left",r="up"===k||"left"===k,s=f.queue(),t=s.length;for((j||i)&&g.push("opacity"),$.effects.save(f,g),f.show(),$.effects.createWrapper(f),l||(l=f["top"===q?"outerHeight":"outerWidth"]()/3),j&&(e={opacity:1},e[q]=0,f.css("opacity",0).css(q,r?2*-l:2*l).animate(e,o,p)),i&&(l/=Math.pow(2,m-1)),e={},e[q]=0,c=0;m>c;c++)d={},d[q]=(r?"-=":"+=")+l,f.animate(d,o,p).animate(e,o,p),l=i?2*l:l/2;i&&(d={opacity:0},d[q]=(r?"-=":"+=")+l,f.animate(d,o,p)),f.queue(function(){i&&f.hide(),$.effects.restore(f,g),$.effects.removeWrapper(f),b()}),t>1&&s.splice.apply(s,[1,0].concat(s.splice(t,n+1))),f.dequeue()}}(jQuery),function($){$.effects.effect.clip=function(a,b){var c,d,e,f=$(this),g=["position","top","bottom","left","right","height","width"],h=$.effects.setMode(f,a.mode||"hide"),i="show"===h,j=a.direction||"vertical",k="vertical"===j,l=k?"height":"width",m=k?"top":"left",n={};$.effects.save(f,g),f.show(),c=$.effects.createWrapper(f).css({overflow:"hidden"}),d="IMG"===f[0].tagName?c:f,e=d[l](),i&&(d.css(l,0),d.css(m,e/2)),n[l]=i?e:0,n[m]=i?0:e/2,d.animate(n,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){i||f.hide(),$.effects.restore(f,g),$.effects.removeWrapper(f),b()}})}}(jQuery),function($){$.effects.effect.drop=function(a,b){var c,d=$(this),e=["position","top","bottom","left","right","opacity","height","width"],f=$.effects.setMode(d,a.mode||"hide"),g="show"===f,h=a.direction||"left",i="up"===h||"down"===h?"top":"left",j="up"===h||"left"===h?"pos":"neg",k={opacity:g?1:0};$.effects.save(d,e),d.show(),$.effects.createWrapper(d),c=a.distance||d["top"===i?"outerHeight":"outerWidth"](!0)/2,g&&d.css("opacity",0).css(i,"pos"===j?-c:c),k[i]=(g?"pos"===j?"+=":"-=":"pos"===j?"-=":"+=")+c,d.animate(k,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){"hide"===f&&d.hide(),$.effects.restore(d,e),$.effects.removeWrapper(d),b()}})}}(jQuery),function($){$.effects.effect.explode=function(a,b){function c(){s.push(this),s.length===k*l&&d()}function d(){m.css({visibility:"visible"}),$(s).remove(),o||m.hide(),b()}var e,f,g,h,i,j,k=a.pieces?Math.round(Math.sqrt(a.pieces)):3,l=k,m=$(this),n=$.effects.setMode(m,a.mode||"hide"),o="show"===n,p=m.show().css("visibility","hidden").offset(),q=Math.ceil(m.outerWidth()/l),r=Math.ceil(m.outerHeight()/k),s=[];for(e=0;k>e;e++)for(h=p.top+e*r,j=e-(k-1)/2,f=0;l>f;f++)g=p.left+f*q,i=f-(l-1)/2,m.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-f*q,top:-e*r}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:q,height:r,left:g+(o?i*q:0),top:h+(o?j*r:0),opacity:o?0:1}).animate({left:g+(o?0:i*q),top:h+(o?0:j*r),opacity:o?1:0},a.duration||500,a.easing,c)}}(jQuery),function($){$.effects.effect.fade=function(a,b){var c=$(this),d=$.effects.setMode(c,a.mode||"toggle");c.animate({opacity:d},{queue:!1,duration:a.duration,easing:a.easing,complete:b})}}(jQuery),function($){$.effects.effect.fold=function(a,b){var c,d,e=$(this),f=["position","top","bottom","left","right","height","width"],g=$.effects.setMode(e,a.mode||"hide"),h="show"===g,i="hide"===g,j=a.size||15,k=/([0-9]+)%/.exec(j),l=!!a.horizFirst,m=h!==l,n=m?["width","height"]:["height","width"],o=a.duration/2,p={},q={};$.effects.save(e,f),e.show(),c=$.effects.createWrapper(e).css({overflow:"hidden"}),d=m?[c.width(),c.height()]:[c.height(),c.width()],k&&(j=parseInt(k[1],10)/100*d[i?0:1]),h&&c.css(l?{height:0,width:j}:{height:j,width:0}),p[n[0]]=h?d[0]:j,q[n[1]]=h?d[1]:0,c.animate(p,o,a.easing).animate(q,o,a.easing,function(){i&&e.hide(),$.effects.restore(e,f),$.effects.removeWrapper(e),b()})}}(jQuery),function($){$.effects.effect.highlight=function(a,b){var c=$(this),d=["backgroundImage","backgroundColor","opacity"],e=$.effects.setMode(c,a.mode||"show"),f={backgroundColor:c.css("backgroundColor")};"hide"===e&&(f.opacity=0),$.effects.save(c,d),c.show().css({backgroundImage:"none",backgroundColor:a.color||"#ffff99"}).animate(f,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){"hide"===e&&c.hide(),$.effects.restore(c,d),b()}})}}(jQuery),function($){$.effects.effect.pulsate=function(a,b){var c,d=$(this),e=$.effects.setMode(d,a.mode||"show"),f="show"===e,g="hide"===e,h=f||"hide"===e,i=2*(a.times||5)+(h?1:0),j=a.duration/i,k=0,l=d.queue(),m=l.length;for((f||!d.is(":visible"))&&(d.css("opacity",0).show(),k=1),c=1;i>c;c++)d.animate({opacity:k},j,a.easing),k=1-k;d.animate({opacity:k},j,a.easing),d.queue(function(){g&&d.hide(),b()}),m>1&&l.splice.apply(l,[1,0].concat(l.splice(m,i+1))),d.dequeue()}}(jQuery),function($){$.effects.effect.puff=function(a,b){var c=$(this),d=$.effects.setMode(c,a.mode||"hide"),e="hide"===d,f=parseInt(a.percent,10)||150,g=f/100,h={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};$.extend(a,{effect:"scale",queue:!1,fade:!0,mode:d,complete:b,percent:e?f:100,from:e?h:{height:h.height*g,width:h.width*g,outerHeight:h.outerHeight*g,outerWidth:h.outerWidth*g}}),c.effect(a)},$.effects.effect.scale=function(a,b){var c=$(this),d=$.extend(!0,{},a),e=$.effects.setMode(c,a.mode||"effect"),f=parseInt(a.percent,10)||(0===parseInt(a.percent,10)?0:"hide"===e?0:100),g=a.direction||"both",h=a.origin,i={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()},j={y:"horizontal"!==g?f/100:1,x:"vertical"!==g?f/100:1};d.effect="size",d.queue=!1,d.complete=b,"effect"!==e&&(d.origin=h||["middle","center"],d.restore=!0),d.from=a.from||("show"===e?{height:0,width:0,outerHeight:0,outerWidth:0}:i),d.to={height:i.height*j.y,width:i.width*j.x,outerHeight:i.outerHeight*j.y,outerWidth:i.outerWidth*j.x},d.fade&&("show"===e&&(d.from.opacity=0,d.to.opacity=1),"hide"===e&&(d.from.opacity=1,d.to.opacity=0)),c.effect(d)},$.effects.effect.size=function(a,b){var c,d,e,f=$(this),g=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],i=["width","height","overflow"],j=["fontSize"],k=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],m=$.effects.setMode(f,a.mode||"effect"),n=a.restore||"effect"!==m,o=a.scale||"both",p=a.origin||["middle","center"],q=f.css("position"),r=n?g:h,s={height:0,width:0,outerHeight:0,outerWidth:0};"show"===m&&f.show(),c={height:f.height(),width:f.width(),outerHeight:f.outerHeight(),outerWidth:f.outerWidth()},"toggle"===a.mode&&"show"===m?(f.from=a.to||s,f.to=a.from||c):(f.from=a.from||("show"===m?s:c),f.to=a.to||("hide"===m?s:c)),e={from:{y:f.from.height/c.height,x:f.from.width/c.width},to:{y:f.to.height/c.height,x:f.to.width/c.width}},("box"===o||"both"===o)&&(e.from.y!==e.to.y&&(r=r.concat(k),f.from=$.effects.setTransition(f,k,e.from.y,f.from),f.to=$.effects.setTransition(f,k,e.to.y,f.to)),e.from.x!==e.to.x&&(r=r.concat(l),f.from=$.effects.setTransition(f,l,e.from.x,f.from),f.to=$.effects.setTransition(f,l,e.to.x,f.to))),("content"===o||"both"===o)&&e.from.y!==e.to.y&&(r=r.concat(j).concat(i),f.from=$.effects.setTransition(f,j,e.from.y,f.from),f.to=$.effects.setTransition(f,j,e.to.y,f.to)),$.effects.save(f,r),f.show(),$.effects.createWrapper(f),f.css("overflow","hidden").css(f.from),p&&(d=$.effects.getBaseline(p,c),f.from.top=(c.outerHeight-f.outerHeight())*d.y,f.from.left=(c.outerWidth-f.outerWidth())*d.x,f.to.top=(c.outerHeight-f.to.outerHeight)*d.y,f.to.left=(c.outerWidth-f.to.outerWidth)*d.x),f.css(f.from),("content"===o||"both"===o)&&(k=k.concat(["marginTop","marginBottom"]).concat(j),l=l.concat(["marginLeft","marginRight"]),i=g.concat(k).concat(l),f.find("*[width]").each(function(){var b=$(this),c={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()};n&&$.effects.save(b,i),b.from={height:c.height*e.from.y,width:c.width*e.from.x,outerHeight:c.outerHeight*e.from.y,outerWidth:c.outerWidth*e.from.x},b.to={height:c.height*e.to.y,width:c.width*e.to.x,outerHeight:c.height*e.to.y,outerWidth:c.width*e.to.x},e.from.y!==e.to.y&&(b.from=$.effects.setTransition(b,k,e.from.y,b.from),b.to=$.effects.setTransition(b,k,e.to.y,b.to)),e.from.x!==e.to.x&&(b.from=$.effects.setTransition(b,l,e.from.x,b.from),b.to=$.effects.setTransition(b,l,e.to.x,b.to)),b.css(b.from),b.animate(b.to,a.duration,a.easing,function(){n&&$.effects.restore(b,i)})})),f.animate(f.to,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){0===f.to.opacity&&f.css("opacity",f.from.opacity),"hide"===m&&f.hide(),$.effects.restore(f,r),n||("static"===q?f.css({position:"relative",top:f.to.top,left:f.to.left}):$.each(["top","left"],function(a,b){f.css(b,function(_,b){var c=parseInt(b,10),d=a?f.to.left:f.to.top;return"auto"===b?d+"px":c+d+"px"})})),$.effects.removeWrapper(f),b()}})}}(jQuery),function($){$.effects.effect.shake=function(a,b){var c,d=$(this),e=["position","top","bottom","left","right","height","width"],f=$.effects.setMode(d,a.mode||"effect"),g=a.direction||"left",h=a.distance||20,i=a.times||3,j=2*i+1,k=Math.round(a.duration/j),l="up"===g||"down"===g?"top":"left",m="up"===g||"left"===g,n={},o={},p={},q=d.queue(),r=q.length;for($.effects.save(d,e),d.show(),$.effects.createWrapper(d),n[l]=(m?"-=":"+=")+h,o[l]=(m?"+=":"-=")+2*h,p[l]=(m?"-=":"+=")+2*h,d.animate(n,k,a.easing),c=1;i>c;c++)d.animate(o,k,a.easing).animate(p,k,a.easing);d.animate(o,k,a.easing).animate(n,k/2,a.easing).queue(function(){"hide"===f&&d.hide(),$.effects.restore(d,e),$.effects.removeWrapper(d),b()}),r>1&&q.splice.apply(q,[1,0].concat(q.splice(r,j+1))),d.dequeue()}}(jQuery),function($){$.effects.effect.slide=function(a,b){var c,d=$(this),e=["position","top","bottom","left","right","width","height"],f=$.effects.setMode(d,a.mode||"show"),g="show"===f,h=a.direction||"left",i="up"===h||"down"===h?"top":"left",j="up"===h||"left"===h,k={};$.effects.save(d,e),d.show(),c=a.distance||d["top"===i?"outerHeight":"outerWidth"](!0),$.effects.createWrapper(d).css({overflow:"hidden"}),g&&d.css(i,j?isNaN(c)?"-"+c:-c:c),k[i]=(g?j?"+=":"-=":j?"-=":"+=")+c,d.animate(k,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){"hide"===f&&d.hide(),$.effects.restore(d,e),$.effects.removeWrapper(d),b()}})}}(jQuery),function($){$.effects.effect.transfer=function(a,b){var c=$(this),d=$(a.to),e="fixed"===d.css("position"),f=$("body"),g=e?f.scrollTop():0,h=e?f.scrollLeft():0,i=d.offset(),j={top:i.top-g,left:i.left-h,height:d.innerHeight(),width:d.innerWidth()},k=c.offset(),l=$('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(a.className).css({top:k.top-g,left:k.left-h,height:c.innerHeight(),width:c.innerWidth(),position:e?"fixed":"absolute"}).animate(j,a.duration,a.easing,function(){l.remove(),b()})}}(jQuery),function(a){"function"==typeof define&&define.amd?define("jquery.mousewheel",["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function($){function a(a){var f=a||window.event,g=h.call(arguments,1),i=0,k=0,l=0,m=0,n=0,o=0;if(a=$.event.fix(f),a.type="mousewheel","detail"in f&&(l=-1*f.detail),"wheelDelta"in f&&(l=f.wheelDelta),"wheelDeltaY"in f&&(l=f.wheelDeltaY),"wheelDeltaX"in f&&(k=-1*f.wheelDeltaX),"axis"in f&&f.axis===f.HORIZONTAL_AXIS&&(k=-1*l,l=0),i=0===l?k:l,"deltaY"in f&&(l=-1*f.deltaY,i=l),"deltaX"in f&&(k=f.deltaX,0===l&&(i=-1*k)),0!==l||0!==k){if(1===f.deltaMode){var p=$.data(this,"mousewheel-line-height");i*=p,l*=p,k*=p}else if(2===f.deltaMode){var q=$.data(this,"mousewheel-page-height");i*=q,l*=q,k*=q}if(m=Math.max(Math.abs(l),Math.abs(k)),(!e||e>m)&&(e=m,c(f,m)&&(e/=40)),c(f,m)&&(i/=40,k/=40,l/=40),i=Math[i>=1?"floor":"ceil"](i/e),k=Math[k>=1?"floor":"ceil"](k/e),l=Math[l>=1?"floor":"ceil"](l/e),j.settings.normalizeOffset&&this.getBoundingClientRect){var r=this.getBoundingClientRect();n=a.clientX-r.left,o=a.clientY-r.top}return a.deltaX=k,a.deltaY=l,a.deltaFactor=e,a.offsetX=n,a.offsetY=o,a.deltaMode=0,g.unshift(a,i,k,l),d&&clearTimeout(d),d=setTimeout(b,200),($.event.dispatch||$.event.handle).apply(this,g)}}function b(){e=null}function c(a,b){return j.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var d,e,f=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],g="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice;if($.event.fixHooks)for(var i=f.length;i;)$.event.fixHooks[f[--i]]=$.event.mouseHooks;var j=$.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var b=g.length;b;)this.addEventListener(g[--b],a,!1);else this.onmousewheel=a;$.data(this,"mousewheel-line-height",j.getLineHeight(this)),$.data(this,"mousewheel-page-height",j.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var b=g.length;b;)this.removeEventListener(g[--b],a,!1);else this.onmousewheel=null;$.removeData(this,"mousewheel-line-height"),$.removeData(this,"mousewheel-page-height")},getLineHeight:function(a){var b=$(a),c=b["offsetParent"in $.fn?"offsetParent":"parent"]();return c.length||(c=$("body")),parseInt(c.css("fontSize"),10)||parseInt(b.css("fontSize"),10)||16},getPageHeight:function(a){return $(a).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};$.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),function($){$.fn.extend({slimScroll:function(a){var b={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},c=$.extend(b,a);return this.each(function(){function b(a){if(i){var a=a||window.event,b=0;a.wheelDelta&&(b=-a.wheelDelta/120),a.detail&&(b=a.detail/3);var e=a.target||a.srcTarget||a.srcElement;$(e).closest("."+c.wrapperClass).is(u.parent())&&d(b,!0),a.preventDefault&&!s&&a.preventDefault(),s||(a.returnValue=!1)}}function d(a,b,d){s=!1;var e=a,f=u.outerHeight()-z.outerHeight();if(b&&(e=parseInt(z.css("top"))+a*parseInt(c.wheelStep)/100*z.outerHeight(),e=Math.min(Math.max(e,0),f),e=a>0?Math.ceil(e):Math.floor(e),z.css({top:e+"px"})),o=parseInt(z.css("top"))/(u.outerHeight()-z.outerHeight()),e=o*(u[0].scrollHeight-u.outerHeight()),d){e=a;var i=e/u[0].scrollHeight*u.outerHeight();i=Math.min(Math.max(i,0),f),z.css({top:i+"px"})}u.scrollTop(e),u.trigger("slimscrolling",~~e),g(),h()}function e(){window.addEventListener?(this.addEventListener("DOMMouseScroll",b,!1),this.addEventListener("mousewheel",b,!1)):document.attachEvent("onmousewheel",b)}function f(){n=Math.max(u.outerHeight()/u[0].scrollHeight*u.outerHeight(),r),z.css({height:n+"px"});var a=n==u.outerHeight()?"none":"block";z.css({display:a})}function g(){if(f(),clearTimeout(l),o==~~o){if(s=c.allowPageScroll,p!=o){var a=0==~~o?"top":"bottom";u.trigger("slimscroll",a)}}else s=!1;return p=o,n>=u.outerHeight()?void(s=!0):(z.stop(!0,!0).fadeIn("fast"),void(c.railVisible&&y.stop(!0,!0).fadeIn("fast")))}function h(){c.alwaysVisible||(l=setTimeout(function(){c.disableFadeOut&&i||j||k||(z.fadeOut("slow"),y.fadeOut("slow"))},1e3))}var i,j,k,l,m,n,o,p,q="<div></div>",r=30,s=!1,u=$(this);if(u.parent().hasClass(c.wrapperClass)){var v=u.scrollTop();if(z=u.parent().find("."+c.barClass),y=u.parent().find("."+c.railClass),f(),$.isPlainObject(a)){if("height"in a&&"auto"==a.height){u.parent().css("height","auto"),u.css("height","auto");var w=u.parent().parent().height();u.parent().css("height",w),u.css("height",w)}if("scrollTo"in a)v=parseInt(c.scrollTo);else if("scrollBy"in a)v+=parseInt(c.scrollBy);else if("destroy"in a)return z.remove(),y.remove(),void u.unwrap();d(v,!1,!0)}}else if(!($.isPlainObject(a)&&"destroy"in a)){c.height="auto"==c.height?u.parent().height():c.height;var x=$(q).addClass(c.wrapperClass).css({position:"relative",overflow:"hidden",width:c.width,height:c.height});u.css({overflow:"hidden",width:c.width,height:c.height});var y=$(q).addClass(c.railClass).css({width:c.size,height:"100%",position:"absolute",top:0,display:c.alwaysVisible&&c.railVisible?"block":"none","border-radius":c.railBorderRadius,background:c.railColor,opacity:c.railOpacity,zIndex:90}),z=$(q).addClass(c.barClass).css({background:c.color,width:c.size,position:"absolute",top:0,opacity:c.opacity,display:c.alwaysVisible?"block":"none","border-radius":c.borderRadius,BorderRadius:c.borderRadius,MozBorderRadius:c.borderRadius,WebkitBorderRadius:c.borderRadius,zIndex:99}),A="right"==c.position?{right:c.distance}:{left:c.distance};y.css(A),z.css(A),u.wrap(x),u.parent().append(z),u.parent().append(y),c.railDraggable&&z.bind("mousedown",function(a){var b=$(document);return k=!0,t=parseFloat(z.css("top")),pageY=a.pageY,b.bind("mousemove.slimscroll",function(a){currTop=t+a.pageY-pageY,z.css("top",currTop),d(0,z.position().top,!1)}),b.bind("mouseup.slimscroll",function(){k=!1,h(),b.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(a){return a.stopPropagation(),a.preventDefault(),!1}),y.hover(function(){g()},function(){h()}),z.hover(function(){j=!0},function(){j=!1}),u.hover(function(){i=!0,g(),h()},function(){i=!1,h()}),u.bind("touchstart",function(a){a.originalEvent.touches.length&&(m=a.originalEvent.touches[0].pageY)}),u.bind("touchmove",function(a){if(s||a.originalEvent.preventDefault(),a.originalEvent.touches.length){var b=(m-a.originalEvent.touches[0].pageY)/c.touchScrollStep;d(b,!0),m=a.originalEvent.touches[0].pageY}}),f(),"bottom"===c.start?(z.css({top:u.outerHeight()-z.outerHeight()}),d(0,!0)):"top"!==c.start&&(d($(c.start).position().top,null,!0),c.alwaysVisible||z.hide()),e()}}),this}}),$.fn.extend({slimscroll:$.fn.slimScroll})}(jQuery),!function($){fish.locale.en=$.extend(fish.locale.en,{alert:{ok:"OK",cancel:"Cancel",confirm:"Confirm",information:"Information",success:"Success",warn:"Warning",error:"Error",prompt:"Prompt"}})}(jQuery),!function(){fish.locale.en=$.extend(fish.locale.en,{blockUI:{loading:"Loading..."}})}(),!function(){fish.locale.en=$.extend(fish.locale.en,{datetimepicker:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridian:["am","pm"],suffix:["st","nd","rd","th"],today:"Today"}})}(),!function($){$.jgrid=$.jgrid||{},$.extend($.jgrid,{defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",pgtext:"Page {0} of {1}"},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}]},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(a){return 11>a||a>13?["st","nd","rd","th"][Math.min((a-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",parseRe:/[Tt\\\/:_;.,\t\s-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:!0},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0},idName:"id"}})}(jQuery),!function($){fish.locale.en=$.extend(fish.locale.en,{spinner:{name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}},messages:{}}})}(jQuery),!function($){fish.locale.en=$.extend(fish.locale.en,{validator:{msg:{defaultMsg:"This field is not valid.",loadingMsg:"Validating...",digits:"Please enter only digits.",required:"This field is required.",remote:"Please try another name.",integer:{nzp:"Please enter an integer.",p:"Please enter a positive integer.",pz:"Please enter a positive integer or 0.",n:"Please enter a negative integer.",nz:"Please enter a negative integer or 0."},match:{eq:"{0} must be equal to {1}.",neq:"{0} must be not equal to {1}.",lt:"{0} must be less than {1}.",gt:"{0} must be greater than {1}.",lte:"{0} must be less than or equal to {1}.",gte:"{0} must be greater than or equal to {1}."},range:{rg:"Please enter a number between {1} and {2}.",gte:"Please enter a number greater than or equal to {1}.",lte:"Please enter a number less than or equal to {1}."},checked:{eq:"Please check {1} items.",rg:"Please check between {1} and {2} items.",gte:"Please check at least {1} items.",lte:"Please check no more than {1} items."},length:{eq:"Please enter {1} characters.",rg:"Please enter a value between {1} and {2} characters long.",gte:"Please enter at least {1} characters.",lte:"Please enter no more than {1} characters."}},rules:{letters:[/^[a-z]+$/i,"{0} can only enter letters"],tel:[/^(?:(?:0\d{2,3}[\- ]?[1-9]\d{6,7})|(?:[48]00[\- ]?[1-9]\d{6}))$/,"Telephone format is incorrect"],mobile:[/^1[3-9]\d{9}$/,"Phone number format is incorrect"],email:[/^[\w\+\-]+(\.[\w\+\-]+)*@[a-z\d\-]+(\.[a-z\d\-]+)*\.([a-z]{2,4})$/i,"E-mail format is incorrect"],qq:[/^[1-9]\d{4,}$/,"QQ number format is incorrect"],date:[/^\d{4}-\d{1,2}-\d{1,2}$/,"Please enter the correct date[yyyy-mm-dd]"],time:[/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/,"Enter the correct time[hh:ii(:ss)]"],datetime:[/^\d{4}-\d{1,2}-\d{1,2} ([01]\d|2[0-3])(:[0-5]\d){1,2}$/,"Please enter the correct datetime[yyyy-mm-dd hh:ii(:ss)]"],ID_card:[/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[A-Z])$/,"Please enter the correct ID number"],url:[/^(https?|ftp):\/\/[^\s]+$/i,"URL format is incorrect"],postcode:[/^[1-9]\d{5}$/,"ZIP format is incorrect"],chinese:[/^[\u0391-\uFFE5]+$/,"Please enter the Chinese"],username:[/^\w{3,12}$/,"Please enter 3-12 digits, letters, underscores"],password:[/^[0-9a-zA-Z]{6,16}$/,"Password from 6-16 digits, letters"],accept:function(a,b){if(!b)return!0;var c=b[0];return"*"===c||new RegExp(".(?:"+(c||"png|jpg|jpeg|gif")+")$","i").test(a.value)||this.renderMsg("{1} suffix only accept",c.replace("|",","))}}}})}(jQuery),!function(a){"function"==typeof define&&define.amd?define("fish.accordion",a):a()}(function(){"use strict";var a=0,b={},c={};b.height=b.paddingTop=b.paddingBottom=b.borderTopWidth=b.borderBottomWidth="hide",c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="show",$.widget("ui.accordion",{widgetEventPrefix:"",options:{active:0,animate:null,collapsible:!1,event:"click",header:"> li > :first-child,.panel-heading",heightStyle:"auto",icons:{activeHeader:"arrow-down",header:"arrow-left"},activate:null,beforeActivate:null},_create:function(){var b=this.accordionId="ui-accordion-"+(this.element.attr("id")||++a),c=this.options;
this.prevShow=this.prevHide=$(),this.element.addClass("ui-accordion"),this.headers=this.element.find(c.header).addClass("ui-accordion-header"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content").hide(),c.collapsible||c.active!==!1&&null!=c.active||(c.active=0),c.active<0&&(c.active+=this.headers.length),this.active=this._findActive(c.active).addClass("ui-accordion-header-active"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(a){var c=$(this),d=c.attr("id"),e=c.parent().next(),f=e.attr("id");d||(d=b+"-header-"+a,c.attr("id",d)),f||(f=b+"-panel-"+a,e.attr("id",f)),c.attr("aria-controls",f),e.attr("aria-labelledby",d)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._setupEvents(c.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():$()}},_createIcons:function(){var a=this.options.icons;a&&($("<span>").addClass("ui-accordion-header-icon "+a.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(a.header).addClass(a.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion").removeAttr("role"),this.headers.removeClass("ui-accordion-header").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-accordion-content ui-accordion-content-active").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){return"active"===a?void this._activate(b):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||this.options.active!==!1||this._activate(0),void("disabled"===a&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b)))},refresh:function(){var a,b,c=this.options.heightStyle,d=this.element.parent();"fill"===c?(a=d.height(),this.element.siblings(":visible").each(function(){var b=$(this),c=b.css("position");"absolute"!==c&&"fixed"!==c&&(a-=b.outerHeight(!0))}),b&&d.css("overflow",b),this.headers.each(function(){a-=$(this).outerHeight(!0)}),this.headers.next().each(function(){$(this).height(Math.max(0,a-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")):"auto"===c&&(a=0,this.headers.next().each(function(){a=Math.max(a,$(this).css("height","").height())}).height(a))},_activate:function(a){var b=this._findActive(a)[0];b!==this.active[0]&&(b=b||this.active[0],this._eventHandler({target:b,currentTarget:b,preventDefault:$.noop}))},_findActive:function(a){return"number"==typeof a?this.headers.eq(a):$()},_setupEvents:function(a){var b={};a&&($.each(a.split(" "),function(a,c){b[c]="_eventHandler"}),this._on(this.headers,b))},_eventHandler:function(a){var b=this.options,c=this.active,d=$(a.currentTarget),e=d[0]===c[0],f=e&&b.collapsible,g=f?$():d.next(),h=c.next(),i={oldHeader:c,oldPanel:h,newHeader:f?$():d,newPanel:g};a.preventDefault(),e&&!b.collapsible||this._trigger("beforeActivate",a,i)===!1||(b.active=f?!1:this.headers.index(d),this.active=e?$():d,this._toggle(i),c.removeClass("ui-accordion-header-active"),b.icons&&c.children(".ui-accordion-header-icon").removeClass(b.icons.activeHeader).addClass(b.icons.header),e||(d.addClass("ui-accordion-header-active"),b.icons&&d.children(".ui-accordion-header-icon").removeClass(b.icons.header).addClass(b.icons.activeHeader),d.next().addClass("ui-accordion-content-active")))},_toggle:function(a){var b=a.newPanel,c=this.prevShow.length?this.prevShow:a.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=b,this.prevHide=c,this.options.animate?this._animate(b,c,a):(c.hide(),b.show(),this._toggleComplete(a)),c.attr({"aria-expanded":"false","aria-hidden":"true"}),c.prev().attr("aria-selected","false"),b.length&&c.length?c.prev().attr("tabIndex",-1):b.length&&this.headers.filter(function(){return 0===$(this).attr("tabIndex")}).attr("tabIndex",-1),b.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(a,d,e){var f,g,h,i=this,j=0,k=a.length&&(!d.length||a.index()<d.index()),l=this.options.animate||{},m=k&&l.down||l,n=function(){i._toggleComplete(e)};return"number"==typeof m&&(h=m),"string"==typeof m&&(g=m),g=g||m.easing||l.easing,h=h||m.duration||l.duration,d.length?a.length?(f=a.show().outerHeight(),d.animate(b,{duration:h,easing:g,step:function(a,b){b.now=Math.round(a)}}),void a.hide().animate(c,{duration:h,easing:g,complete:n,step:function(a,b){b.now=Math.round(a),"height"!==b.prop?j+=b.now:"content"!==i.options.heightStyle&&(b.now=Math.round(f-d.outerHeight()-j),j=0)}})):d.animate(b,h,g,n):a.animate(c,h,g,n)},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev(),b.length&&(b.parent()[0].className=b.parent()[0].className),this._trigger("activate",null,a)}})}),!function(a){"function"==typeof define&&define.amd?define("fish.affix",a):a()}(function(){"use strict";$.widget("ui.affix",{options:{offset:0,target:window},widgetEventPrefix:"",_create:function(){this.$target=$(this.options.target).on("scroll",$.proxy(this._checkPosition,this)).on("click",$.proxy(this._checkPositionWithEventLoop,this)),this.$element=$(this.element),this.pinnedOffset=null,this._checkPosition()},_getPinnedOffset:function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass("affix affix-top affix-bottom").addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},_checkPositionWithEventLoop:function(){setTimeout($.proxy(this._checkPosition,this),1)},_checkPosition:function(){if(this.$element.is(":visible")){var a=$(document).height(),b=this.$target.scrollTop(),c=this.$element.offset(),d=this.options.offset,e=d.top,f=d.bottom;"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var g=null!=this.unpin&&b+this.unpin<=c.top?!1:null!=f&&c.top+this.$element.height()>=a-f?"bottom":null!=e&&e>=b?"top":!1;if(this.affixed!==g){null!=this.unpin&&this.$element.css("top","");var h="affix"+(g?"-"+g:"");this._trigger(h)&&(this.affixed=g,this.unpin="bottom"==g?this._getPinnedOffset():null,this.$element.removeClass("affix affix-top affix-bottom").addClass(h),this._trigger(h.replace("affix","affixed")),"bottom"==g&&this.$element.offset({top:a-this.$element.height()-f}))}}}})}),!function(a){"function"==typeof define&&define.amd?define("fish.alert",["fish.dialog"],a):a()}(function(){"use strict";function a(a,b,d){if(!g[a]){var h=$.extend({title:fish.getResource("alert.information"),btnOk:fish.getResource("alert.ok")},b);g[a]=Handlebars.compile(f[a]||f.info)(h)}var i=$('<div class="ui-dialog">').attr("id","ui-alert-"+e++).append(g[a]),j=(d.useIcon?c(a).get(0).outerHTML:"")+"<span>"+(d.content||"")+"</span>";i.find(".modal-body").html(j),i.find("button").on("click",function(){i.dialog("close")}),i.appendTo("body").dialog(d),i.on("dialogclose",function(){_.defer(function(){i.dialog("destroy")})})}function b(a,b){var c;switch($.type(b[0])){case"undefined":case"string":c={content:b[0]||"",title:b[1]||""},c=$.extend({},a,c);break;case"object":c=$.extend({},a,b[0])}return c}function c(a){var b=$("<span>");switch(a){case"info":b.addClass("glyphicon glyphicon-send");break;case"suc":b.addClass("glyphicon glyphicon-ok");break;case"warn":b.addClass("glyphicon glyphicon-flash");break;case"error":b.addClass("glyphicon glyphicon-remove")}return b}var d={},e=0,f={},g={},h={autoOpen:!0,buttons:{},closeOnEscape:!0,draggable:!0,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:400,resizable:!1,modal:!0,closeOnClickOverlay:!0,useIcon:!0,show:{effect:"fade",duration:300}};f.info='<div class="modal-header"><h4 class="modal-title">{{title}}</h4></div><div class="modal-body"></div><div class="modal-footer"><button type="button" class="btn btn-primary">{{btnOk}}</button></div>',f.confirm='<div class="modal-header"><h4 class="modal-title">{{title}}</h4></div><div class="modal-body"></div><div class="modal-footer"></div>',f.prompt='<div class="modal-header"><h4 class="modal-title">{{title}}</h4></div><div class="modal-body"><div></div><input type="text" class="form-control"></div><div class="modal-footer"></div>',d.showInfo=function(){var c=b(h,arguments);c.dialogClass=" ui-alert ui-alert-info",a("info",{title:fish.getResource("alert.information")},c)},d.showSuccess=function(){var c=b(h,arguments);c.dialogClass=" ui-alert ui-alert-suc",a("suc",{title:fish.getResource("alert.success")},c)},d.showWarn=function(){var c=b(h,arguments);c.dialogClass=" ui-alert ui-alert-warn",a("warn",{title:fish.getResource("alert.warn")},c)},d.showError=function(){var c=b(h,arguments);c.dialogClass=" ui-alert ui-alert-error",c.closeOnEscape=!1,c.backdrop=!1,a("error",{title:fish.getResource("alert.error")},c)},d.showConfirm=function(){var a={};switch($.type(arguments[0])){case"undefined":case"string":var b,c,d;"function"==$.type(arguments[1])?(c=arguments[1],d=arguments[2]):$.type("string"==arguments[1])&&(b=arguments[1],c=arguments[2],d=arguments[3]),a={content:arguments[0]||"",title:b||""},a=$.extend({},h,a),a.buttons=[{label:fish.getResource("alert.confirm"),callback:c||$.noop},{label:fish.getResource("alert.cancel"),callback:d||$.noop}];break;case"object":a=$.extend({},h,arguments[0])}a.dialogClass=" ui-alert ui-alert-confirm",a.backdrop=!1,a.closeOnEscape=!1;var i={title:fish.getResource("alert.confirm")};g.confirm=Handlebars.compile(f.confirm)(i);var j=$("<div>").attr("id","ui-alert-"+e++).append(g.confirm);$.each(a.buttons,function(a,b){var c=$('<button type="button">').addClass("btn btn-primary ui-alert-confirm"+a).text(b.label);c.on("click",function(){j.dialog("close"),b.callback&&b.callback.call(j)}),j.find(".modal-footer").append(c)}),j.find(".modal-body").html(a.content||""),j.appendTo("body").dialog(a),j.on("dialogclose",function(){setTimeout(function(){j.dialog("destroy")},0)})},d.showConfirm2=function(a){a=$.event.fix(a);var b=a.target;return b.confirmResult?(b.confirmResult=!1,!0):(d.showConfirm(arguments[1],arguments[2],function(){return b.confirmResult=!0,b.click&&b.click(a),!1}),!1)},d.showPrompt=function(a,b,c){"function"==$.type(b)&&(c=b,b="");var d={content:a||"",title:b||""};d=$.extend({},h,d),d.buttons=[{label:fish.getResource("alert.confirm"),callback:c||$.noop},{label:fish.getResource("alert.cancel"),callback:$.noop}],d.dialogClass=" ui-alert ui-alert-prompt",d.backdrop=!1,d.closeOnEscape=!1,g.prompt||(g.prompt=Handlebars.compile(f.prompt)({title:fish.getResource("alert.prompt")}));var i=$("<div>").attr("id","ui-alert-"+e++).append(g.prompt);$.each(d.buttons,function(a,b){var c=$('<button type="button">').addClass("btn btn-primary ui-alert-confirm"+a).text(b.label);c.on("click",function(){i.dialog("close"),b.callback&&b.callback.call(i,$.trim(i.find("input").val())||"")}),i.find(".modal-footer").append(c)}),i.find(".modal-body").children().first().html(d.content||""),i.appendTo("body").dialog(d),i.on("dialogclose",function(){setTimeout(function(){i.dialog("destroy")},0)})};var i=null,j={};d.toast={config:{}},d.showToast=function(a,b){b=$.extend({duration:5e3,sticky:!1,type:""},b),"number"==typeof b.duration||(b.duration=5e3),"boolean"==typeof b.sticky||(b.sticky=!1),"string"==typeof b.type||(b.type=""),i||(j=d.toast.config,i=$("<ul></ul>").addClass("ui-alert-toast").appendTo(document.body).hide(),"number"==typeof j.width||(j.width=500),"string"==typeof j.align||(j.align="center"),"boolean"==typeof j.closeForStickyOnly||(j.closeForStickyOnly=!1),i.width(j.width),"left"===j.align||"right"===j.align?i.css("margin","5px").css(j.align,"0"):i.css({left:"50%",margin:"5px 0 0 -"+j.width/2+"px"}));var c=$("<li></li>").hide().html(a).appendTo(i),e=$("<button>&times;</button>").addClass("close").prependTo(c),f=null,g=function(){clearTimeout(f),c.animate({height:0,opacity:0},"fast",function(){c.remove(),i.children().length||i.removeClass("active").hide()})};e.on("click",g),j.closeForStickyOnly&&!b.sticky&&e.hide(),""!==b.type&&c.addClass(b.type),!i.hasClass("active")&&i.addClass("active").show(),!b.sticky&&b.duration>0&&(f=setTimeout(function(){g()},b.duration)),c.fadeIn("normal")},$.extend(fish,d)}),!function(a){"function"==typeof define&&define.amd?define("fish.autocomplete",["fish.menu"],a):a()}(function(){"use strict";$.widget("ui.autocomplete",{widgetEventPrefix:"",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var a,b,c,d=this.element[0].nodeName.toLowerCase(),e="textarea"===d,f="input"===d;this.isMultiLine=e?!0:f?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[e||f?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input ui-widget-create").attr("autocomplete","off"),this._on(this.element,{keydown:function(d){if(this.element.prop("readOnly"))return a=!0,c=!0,void(b=!0);a=!1,c=!1,b=!1;var e=$.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:a=!0,this._move("previousPage",d);break;case e.PAGE_DOWN:a=!0,this._move("nextPage",d);break;case e.UP:a=!0,this._keyEvent("previous",d);break;case e.DOWN:a=!0,this._keyEvent("next",d);break;case e.ENTER:case e.NUMPAD_ENTER:this.menu.active&&(a=!0,d.preventDefault(),this.menu.select(d));break;case e.TAB:this.menu.active&&this.menu.select(d);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(d),d.preventDefault());break;default:b=!0,this._searchTimeout(d)}},keypress:function(c){if(a)return a=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&c.preventDefault());if(!b){var d=$.ui.keyCode;switch(c.keyCode){case d.PAGE_UP:this._move("previousPage",c);break;case d.PAGE_DOWN:this._move("nextPage",c);break;case d.UP:this._keyEvent("previous",c);break;case d.DOWN:this._keyEvent("next",c)}}},input:function(a){return c?(c=!1,void a.preventDefault()):void this._searchTimeout(a)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),void this._change(a))}}),this._initSource(),this.menu=$("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(a){a.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var b=this.menu.element[0];$(a.target).closest(".ui-menu-item").length||this._delay(function(){var a=this;this.document.one("mousedown",function(c){c.target===a.element[0]||c.target===b||$.contains(b,c.target)||a.close()})})},menufocus:function(a,b){if(this.isNewMenu&&(this.isNewMenu=!1,a.originalEvent&&/^mouse/.test(a.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){$(a.target).trigger(a.originalEvent)});var c=b.item.data("ui-autocomplete-item");!1!==this._trigger("focus",a,{item:c})?a.originalEvent&&/^key/.test(a.originalEvent.type)&&this._value(c.value):this.liveRegion.text(c.value)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d,this.selectedItem=c})),!1!==this._trigger("select",a,{item:c})&&this._value(c.value),this.term=this._value(),this.close(a),this.selectedItem=c}}),this.liveRegion=$("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this._appendTo()),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?$(a):this.document.find(a).eq(0)),a||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),a},_initSource:function(){var a,b,c=this;$.isArray(this.options.source)?(a=this.options.source,this.source=function(b,c){c($.ui.autocomplete.filter(a,b.term))}):"string"==typeof this.options.source?(b=this.options.source,this.source=function(a,d){c.xhr&&c.xhr.abort(),c.xhr=$.ajax({url:b,data:a,dataType:"json",success:function(a){d(a)},error:function(){d([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=++this.requestIndex;return $.proxy(function(b){a===this.requestIndex&&this.__response(b),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:$.map(a,function(a){return"string"==typeof a?{label:a,value:a}:$.extend({label:a.label||a.value,value:a.value||a.label},a)})},_suggest:function(a){var b=this.menu.element.empty();this._renderMenu(b,a),this.isNewMenu=!0,this.menu.refresh(),b.show(),this._resizeMenu(),b.position($.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,b){var c=this;$.each(b,function(b,d){c._renderItemData(a,d)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(a,b){return $("<li>").append($("<a>").text(b.label)).appendTo(a)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this._value(this.term),void this.menu.blur()):void this.menu[a](b):void this.search(null,b)},widget:function(){return this.menu.element},value:function(){return this.valueMethod.apply(this.element,arguments)},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,b),b.preventDefault())}}),$.extend($.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(a,b){var c=new RegExp($.ui.autocomplete.escapeRegex(b),"i");return $.grep(a,function(a){return c.test(a.label||a.value||a)})}}),$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments),this.options.disabled||this.cancelSearch||(b=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(b))}})}),!function(a){"function"==typeof define&&define.amd?define("fish.base64",a):a()}(function(){"use strict";var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=function(a){for(var b={},c=0,d=a.length;d>c;c++)b[a.charAt(c)]=c;return b}(a),c=String.fromCharCode,d=function(a){if(a.length<2){var b=a.charCodeAt(0);return 128>b?a:2048>b?c(192|b>>>6)+c(128|63&b):c(224|b>>>12&15)+c(128|b>>>6&63)+c(128|63&b)}var b=65536+1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320);return c(240|b>>>18&7)+c(128|b>>>12&63)+c(128|b>>>6&63)+c(128|63&b)},e=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,f=function(a){return a.replace(e,d)},g=function(b){var c=[0,2,1][b.length%3],d=b.charCodeAt(0)<<16|(b.length>1?b.charCodeAt(1):0)<<8|(b.length>2?b.charCodeAt(2):0),e=[a.charAt(d>>>18),a.charAt(d>>>12&63),c>=2?"=":a.charAt(d>>>6&63),c>=1?"=":a.charAt(63&d)];return e.join("")},h=window.btoa?function(a){return window.btoa(a)}:function(a){return a.replace(/[\s\S]{1,3}/g,g)},i=function(a){return h(f(a))},j=function(a,b){return b?i(a).replace(/[+\/]/g,function(a){return"+"==a?"-":"_"}).replace(/=/g,""):i(a)},k=function(a){return j(a,!0)},l=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),m=function(a){switch(a.length){case 4:var b=(7&a.charCodeAt(0))<<18|(63&a.charCodeAt(1))<<12|(63&a.charCodeAt(2))<<6|63&a.charCodeAt(3),d=b-65536;return c((d>>>10)+55296)+c((1023&d)+56320);case 3:return c((15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2));default:return c((31&a.charCodeAt(0))<<6|63&a.charCodeAt(1))}},n=function(a){return a.replace(l,m)},o=function(a){var d=a.length,e=d%4,f=(d>0?b[a.charAt(0)]<<18:0)|(d>1?b[a.charAt(1)]<<12:0)|(d>2?b[a.charAt(2)]<<6:0)|(d>3?b[a.charAt(3)]:0),g=[c(f>>>16),c(f>>>8&255),c(255&f)];return g.length-=[0,0,2,1][e],g.join("")},p=window.atob?function(a){return window.atob(a)}:function(a){return a.replace(/[\s\S]{1,4}/g,o)},q=function(a){return n(p(a))},r=function(a){return q(a.replace(/[-_]/g,function(a){return"-"==a?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};fish.Base64={atob:p,btoa:h,fromBase64:r,toBase64:j,utob:f,encode:j,encodeURI:k,btou:n,decode:r}}),!function(a){"function"==typeof define&&define.amd?define("fish.blockui",a):a()}(function(){"use strict";function a(a,e){var f,g=a==window,h=$(a),i=h.data("blockUI.isBlocked");if(e=$.extend({},$.blockUI.defaults,e),f=e.message,!e.ignoreIfBlocked||!i){g&&i&&b(window,{fadeOut:0});var j={full:g,baseZ:e.baseZ++,baseZ2:e.baseZ+10};f?j.msg=f:j.iconOnly=!0,d=d.replace(/\>\s+\</g,"><").replace(/\>\s+\{\{/g,">{{").replace(/\}\}\s+\</g,"}}<");var k=Handlebars.compile(d)(j),l=$(g?"body":a);l.append(k);var m;if(g?(m=l.find(".blockPage"),m.css("margin-left",-(m.outerWidth()/2)+"px")):(m=l.find(".blockElement"),c(m[0])),h.data("blockUI.isBlocked",!0),e.timeout){var n=setTimeout(function(){h.unblockUI(e)},e.timeout);h.data("blockUI.timeout",n)}}}function b(a){var b=a==window,c=$(a),d=c.data("blockUI.timeout");d&&(clearTimeout(d),c.removeData("blockUI.timeout")),c.data("blockUI.isBlocked",!1);var e=$(b?"body":a),f=e.find(">.blockUI");f.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),c.data("blockUI.static")&&c.css("position","static")}function c(a){var b=a.parentNode,c=a.style,d=(b.offsetWidth-a.offsetWidth)/2-parseInt($.css(b,"borderLeftWidth"),10)||0,e=(b.offsetHeight-a.offsetHeight)/2-parseInt($.css(b,"borderTopWidth"),10)||0;c.left=d>0?d+"px":"0",c.top=e>0?e+"px":"0"}$.blockUI=function(b){a(window,b)},$.unblockUI=function(){b(window)},$.fn.blockUI=function(b){if(this[0]===window)return $.blockUI(b),this;var c=$.extend({},$.blockUI.defaults,b||{});return this.each(function(){var a=$(this);c.ignoreIfBlocked&&a.data("blockUI.isBlocked")||a.unblockUI()}),this.each(function(){"static"==$.css(this,"position")&&(this.style.position="relative",$(this).data("blockUI.static",!0)),this.style.zoom=1,a(this,b)})},$.fn.unblockUI=function(){return this[0]===window?($.unblockUI(),this):this.each(function(){b(this)})};var d='<div class="blockUI blockOverlay ui-widget-overlay" style="position: {{#if full}}fixed{{else}}absolute{{/if}}; z-index: {{baseZ}}"></div><div class="blockUI {{opts.blockMsgClass}} {{#if full}}blockPage{{else}}blockElement{{/if}}" style="position: {{#if full}}fixed{{else}}absolute{{/if}}; z-index: {{baseZ2}}"><span class="loading"></span><span class="blockUI-content {{#if iconOnly}}blockUI-iconOnly{{/if}}">{{msg}}</span></div>';$.blockUI.defaults={message:fish.getResource("blockUI.loading")||"Please wait...",baseZ:1e3,timeout:0,blockMsgClass:"",ignoreIfBlocked:!1}}),!function(a){"function"==typeof define&&define.amd?define("fish.carousel",a):a()}(function(){"use strict";var a='<div class="left carousel-control" role="button" data-slide="prev"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span><span class="sr-only">Previous</span></div>',b='<div class="right carousel-control" role="button" data-slide="next"><span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span><span class="sr-only">Next</span></div>';$.widget("ui.carousel",{options:{items:1,interval:3e3,autoPlay:!1,loop:!0,navigation:!0,pagination:!0},_create:function(){this.element.attr("role","carousel"),this.$container=this.element.find(".carousel-inner"),this.$items=this.$container.find(".item"),this.itemsAmount=this.$items.length,this.itemWidth=Math.round(this.element.width()/this.options.items),this.options.pagination&&this._buildPagination(),this.options.navigation&&this._buildNavigation(),this._delegateEvent()},_init:function(){var a,b=this,c=0,d=0,e=this.itemsAmount-this.options.items;for(this.$container.css({width:this.itemsAmount*this.itemWidth*2,left:0}),this.$items.each(function(a){var d=$(this);d.css({width:b.itemWidth}).data("item",Number(a)),(a%b.options.items===0||a===e)&&(a>e||(c+=1)),d.data("slidePage",c)}),this.positionsInArray=[0],a=0;a<this.itemsAmount;a+=1)d+=this.itemWidth,this.positionsInArray.push(-d);this.currentItem=0,this.currentPage=1,this.maximumPage=c,this.maximumItem=this.options.items>this.itemsAmount?0:this.itemsAmount-this.options.items,this.play()},_buildNavigation:function(){this.$prev=$(a),this.$next=$(b),this.element.append(this.$prev).append(this.$next)},_buildPagination:function(){var a,b,c,d,e=0;for(this.$indicators=$('<ol class="carousel-indicators"></ol>'),b=this.itemsAmount-this.itemsAmount%this.options.items,d=0;d<this.itemsAmount;d++)d%this.options.items===0&&(a=$("<li></li>"),e++,0===d&&a.addClass("active"),b===d&&(c=this.itemsAmount-this.options.items),a.data("slideTo",b===d?c:d),a.data("slidePage",e),this.$indicators.append(a));this.element.append(this.$indicators)},_delegateEvent:function(){var a=this;this.options.pagination&&this._on(this.$indicators,{click:"_onIndicatorsClick"}),this.options.navigation&&(this._on(this.$prev,{click:function(b){a.prev(),b.preventDefault()}}),this._on(this.$next,{click:function(b){a.next(),b.preventDefault()}})),this.options.autoPlay&&(this.element.on("mouseover",function(){a.pause()}),this.element.on("mouseout",function(){a.play()}))},_destroy:function(){var a=this.element;a.removeClass("carousel slide "+this.options.carouselClass).removeAttr("role"),a.find("ol").remove(),this.options.showControl&&a.find(".carousel-control").remove(),this.pause(),this._off(this.element)},next:function(){if(this.sliding)return!1;if(this.currentPage+=1,this.currentPage===this.maximumPage)this.currentItem=this.maximumItem;else if(this.currentPage>this.maximumPage){if(1!=this.options.loop)return this.currentItem=this.maximumItem,this.currentPage=this.maximumPage,!1;this.currentItem=0,this.currentPage=0}else this.currentItem+=this.options.items;this.to(this.currentItem)},prev:function(){if(this.sliding)return!1;if(this.currentPage-=1,1===this.currentPage)this.currentItem=0;else if(this.currentPage<1){if(this.options.loop!==!0)return this.currentItem=0,this.currentPage=0,!1;this.currentItem=this.maximumItem,this.currentPage=this.maximumPage}else this.currentItem-=this.options.items;this.to(this.currentItem)},to:function(a){return this.sliding?!1:(this._trigger("beforeSlide"),a>=this.maximumItem?a=this.maximumItem:0>=a&&(a=0),this.currentItem=a,this.currentPage=this.$items.eq(this.currentItem).data("slidePage"),void this._slide(this.positionsInArray[this.currentItem]))},play:function(){var a=this;return this.playStatus="play",this.options.autoPlay===!1?!1:(clearInterval(this.playInterval),void(this.playInterval=setInterval(function(){a.next()},this.options.interval)))},pause:function(){this.playStatus="stop",clearInterval(this.playInterval)},_onIndicatorsClick:function(a){if("LI"==a.target.nodeName){var b=$(a.target);if(b.hasClass("active"))return;this.to(b.data("slideTo"))}},_slide:function(a){var b=this;this.sliding=!0,this.$container.stop(!0,!1).animate({left:a},300,function(){b.sliding=!1,b._afterSlide()})},_afterSlide:function(){this._trigger("afterSlide"),this._checkPagination(),this._checkNavigation()},_checkPagination:function(){var a;return this.options.pagination===!1?!1:(a=this.$indicators.find(".active"),void(a.data("slidePage")!==this.currentPage&&(a.removeClass("active"),$(this.$indicators.children()[this.currentPage-1]).addClass("active"))))},_checkNavigation:function(){return this.options.navigation===!1||this.options.loop?!1:void(0===this.currentItem&&0===this.maximumItem?(this.$prev.addClass("disabled"),this.$next.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.$prev.addClass("disabled"),this.$next.removeClass("disabled")):this.currentItem===this.maximumItem?(this.$prev.removeClass("disabled"),this.$next.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.$prev.removeClass("disabled"),this.$next.removeClass("disabled")))}})}),!function(a){"function"==typeof define&&define.amd?define("fish.combobox",a):a()}(function(){"use strict";var a='<div class="input-group combobox-container"> <input type="text" autocomplete="off" class="form-control"/> <span class="input-group-addon"> <span class="caret" /><span class="glyphicon glyphicon-remove" style="display: none;" /></span></div>',b='<ul class="typeahead-long dropdown-menu"></ul>',c='<li><a href="javascript:void(0);"></a></li>';$.widget("ui.combobox",{widgetEventPrefix:"",options:{text:null,value:null,dataTextField:"name",dataValueField:"value",dataSource:[],placeholder:""},_create:function(){this.$container=$(a),this.element.hide().before(this.$container),this.$input=this.$container.find("input").first(),this.$button=this.$container.find(".input-group-addon"),this.$caret=this.$button.find(".caret"),this.$remove=this.$button.find(".glyphicon-remove"),this.$menu=$(b).appendTo("body"),this._delegateEvent()},_init:function(){this.shown=!1,this.selected=!1,this.options.dataSource&&0!==this.options.dataSource.length||(this.options.dataSource=this._parse()),this.selected||this.value(this.options.value),this.transferAttributes()},_validateHandler:function(){var a=this.element,b=this;a.on("change.valid blur.valid",function(){b._getValidFlag()&&a.isValid()}),this.$input.on("focus.valid",function(){a.hasClass("n-invalid")&&a.resetElement()
})},_setOption:function(a,b){this._super(a,b),"disabled"===a&&(this.$input.prop("disabled",b),this.$button.attr("disabled",b))},text:function(a){return void 0===a?this.$input.val():void this.$input.val(a)},value:function(a){var b,c=this.options;return void 0===a?this.element.val():(b=_.find(c.dataSource,function(b){return b[c.dataValueField]===a?!0:void 0}),void this._select(b))},clear:function(){this._select(null)},_destroy:function(){this.element.prev().remove(),this.element.show()},_parse:function(){var a,b,c=this,d=[];return this.element.is("select")&&this.element.find("option").each(function(){return b=$(this),a={},""===b.val()?void(c.options.placeholder=b.text()):(a[c.options.dataTextField]=b.text(),a[c.options.dataValueField]=b.val(),d.push(a),void(b.prop("selected")&&(c.options.text=a[c.options.dataTextField],c.options.value=a[c.options.dataValueField],c._setSelected(!0),c.$input.val(c.options.text))))}),d},transferAttributes:function(){this.options.placeholder=this.options.placeholder||this.element.attr("data-placeholder"),this.$input.attr("placeholder",this.options.placeholder),this.$input.attr("title",this.element.attr("title")),this.$input.attr("tabindex",this.element.attr("tabindex")),this.element.removeAttr("tabindex"),void 0!==this.element.attr("disabled")&&this.disable()},_setDataSource:function(a){this.options.dataSource=a},show:function(){var a=$.extend({},this.$input.position(),{height:this.$input[0].offsetHeight}),b=this.$input.offset(),c=b.top-$(document).scrollTop()+a.height+this.$menu.height(),d=c>$(window).height()?-this.$menu.outerHeight():a.top+a.height;this.$menu.insertAfter(this.$input).css({top:d,left:a.left}).show(),this.$menu.on("mousedown",$.proxy(this._scrollSafety,this)),this.shown=!0,this._trigger("open")},hide:function(){this.$menu.hide(),this.$menu.off("mousedown",$.proxy(this._scrollSafety,this)),this.shown=!1,this._trigger("close")},lookup:function(){var a=this,b=this.$input.val(),c=$.grep(this.options.dataSource,function(c){return a.matcher(c,b)});return c=this.sorter(c,b),c.length?this.render(c,b).show():this.shown?this.hide():this},matcher:function(a,b){return~a[this.options.dataTextField].toLowerCase().indexOf(b.toLowerCase())},sorter:function(a,b){for(var c,d=[],e=[],f=[];c=a.shift();)c[this.options.dataTextField].toLowerCase().indexOf(b.toLowerCase())?~c[this.options.dataTextField].indexOf(b)?e.push(c):f.push(c):d.push(c);return d.concat(e,f)},highlighter:function(a,b){return b=b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(a,b){var d=this;return a=$(a).map(function(a,e){return a=$(c).data("value",e),a.find("a").html(d.highlighter(e[d.options.dataTextField],b)),a[0]}),a.first().addClass("active"),this.$menu.html(a),this},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},next:function(){var a=this.$menu.find(".active").removeClass("active"),b=a.next();b.length||(b=$(this.$menu.find("li")[0])),b.addClass("active")},prev:function(){var a=this.$menu.find(".active").removeClass("active"),b=a.prev();b.length||(b=this.$menu.find("li").last()),b.addClass("active")},reset:function(){this.options.disabled||(this.selected?(this.clearTarget(),this.clearElement(),this._triggerChange()):this.shown?this.hide():this.clearElement())},_scrollSafety:function(a){"UL"==a.target.tagName&&this.$input.off("blur")},clearElement:function(){this.$input.val("").focus()},clearTarget:function(){this.element.val(""),this._setSelected(!1)},_setSelected:function(a){a?(this.$caret.hide(),this.$remove.show()):(this.$caret.show(),this.$remove.hide()),this.selected=a},_delegateEvent:function(){this.$input.on("focus",$.proxy(this._onFocus,this)).on("blur",$.proxy(this._onBlur,this)).on("keypress",$.proxy(this._onKeyPress,this)).on("keyup",$.proxy(this._onKeyUp,this)).on("keydown",$.proxy(this._onKeyDown,this)),this.$menu.on("click",$.proxy(this._onMenuClick,this)).on("mouseenter","li",$.proxy(this._onMenuMouseEnter,this)).on("mouseleave","li",$.proxy(this._onMenuMouseLeave,this)),this.$button.on("click",$.proxy(this._onButtonToggle,this))},_onFocus:function(){this.focused=!0},_onBlur:function(){var a=this;this.focused=!1,!this.mousedover&&this.shown&&setTimeout(function(){a.hide()},10),this.mousedover||this._trigger("blur")},_onKeyDown:function(a){this.suppressKeyPressRepeat=~$.inArray(a.keyCode,[40,38,9,13,27]),this.move(a)},_onKeyPress:function(a){this.suppressKeyPressRepeat||this.move(a)},_onKeyUp:function(a){switch(a.keyCode){case 40:case 39:case 38:case 37:case 36:case 35:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this._onMenuSelect();break;case 27:if(!this.shown)return;this.hide();break;default:this.clearTarget(),this.lookup()}a.stopPropagation(),a.preventDefault()},_onMenuClick:function(a){a.stopPropagation(),this._onMenuSelect(),this.$input.focus()},_onMenuMouseEnter:function(a){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),$(a.currentTarget).addClass("active")},_onMenuMouseLeave:function(){this.mousedover=!1},_onButtonToggle:function(){this.options.disabled||(this.$input.focus(),this.selected?this.clear():this.shown?this.hide():this.lookup())},_onMenuSelect:function(){var a=this.$menu.find(".active").data("value");this._select(a),this.hide()},_update:function(){var a,b=this.options,c=this.element.val();c?(a=_.find(b.dataSource,function(a){return a[b.dataValueField]===c?!0:void 0}),this.$input.val(a[b.dataTextField]),this._setSelected(!0)):(this.$input.val(""),this._setSelected(!1))},_select:function(a){var b=this.options,c=this.element.val();a&&a[b.dataValueField]!==c?(this.$input.val(a[b.dataTextField]),this.element.val(a[b.dataValueField]),this._setSelected(!0),this._triggerChange()):this.selected&&!a&&(this.$input.val(""),this.element.val(""),this._setSelected(!1),this._triggerChange())},_triggerChange:function(){this._trigger("change")}})}),!function(a){"function"==typeof define&&define.amd?define("fish.cookies",a):a()}(function(){"use strict";function a(a){return encodeURIComponent(a)}function b(a){return decodeURIComponent(a)}function c(a){return JSON.stringify(a)}function d(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{a=decodeURIComponent(a.replace(f," "))}catch(b){return}try{return JSON.parse(a)}catch(b){}}function e(a,b){var c=d(a);return $.isFunction(b)?b(c):c}{var f=/\+/g,g=window.fish;g.cookies={set:function(b,d,e){if(void 0!==d&&!$.isFunction(d)){if(e=$.extend({},e),"number"==typeof e.expires){var f=e.expires,g=e.expires=new Date;g.setDate(g.getDate()+f)}return document.cookie=[a(b),"=",c(d),e.expires?"; expires="+e.expires.toUTCString():"",e.path?"; path="+e.path:"",e.domain?"; domain="+e.domain:"",e.secure?"; secure":""].join("")}},get:function(a,c){for(var d=a?void 0:{},f=document.cookie?document.cookie.split("; "):[],g=0,h=f.length;h>g;g++){var i=f[g].split("="),j=b(i.shift()),k=i.join("=");if(a&&a===j){d=e(k,c);break}a||void 0===(k=e(k))||(d[j]=k)}return d},remove:function(a,b){return void 0!==this.get(a)?(this.set(a,"",$.extend({},b,{expires:-1})),!0):!1}}}}),!function(a){"function"==typeof define&&define.amd?define("fish.datetimepicker",["fish.dateutil","underscore"],a):a(fish.dateutil,_)}(function(a){"use strict";var b={viewType:{datetime:"yyyy-mm-dd hh:ii:ss",date:"yyyy-mm-dd",time:"hh:ii:ss"},modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],convertViewMode:function(a){switch(a){case 4:case"decade":a=4;break;case 3:case"year":a=3;break;case 2:case"month":a=2;break;case 1:case"day":a=1;break;case 0:case"hour":a=0}return a},headTemplate:'<thead><tr><th class="prev"><i class="glyphicon glyphicon-arrow-left"></i></th><th colspan="5" class="switch"></th><th class="next"><i class="glyphicon glyphicon-arrow-right"></i></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};b.template='<div class="datetimepicker datetimepicker-dropdown-bottom-left dropdown-menu"><div class="datetimepicker-minutes"><table class=" table-condensed">'+b.headTemplate+b.contTemplate+b.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+b.headTemplate+b.contTemplate+b.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+b.headTemplate+"<tbody></tbody>"+b.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+b.headTemplate+b.contTemplate+b.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+b.headTemplate+b.contTemplate+b.footTemplate+"</table></div></div>",$.widget("ui.datetimepicker",{options:{viewType:"datetime",buttonIcon:"remove th",format:"yyyy-mm-dd hh:ii:ss",minuteStep:5,showMeridian:!1,initialDate:null,minView:0,maxView:b.modes.length-1,startView:2,autoClose:!0,todayBtn:!1,todayHighlight:!0,weekStart:0,startDate:new Date(1900,0,1),endDate:new Date(2099,11,31),daysOfWeekDisabled:null},widgetEventPrefix:"",_getCreateOptions:function(){var a=this.element;return{format:a.data("format"),minuteStep:a.data("minute-step"),minView:a.data("min-view"),maxView:a.data("max-view"),autoClose:a.data("auto-close"),todayBtn:a.data("today-btn"),todayHighlight:a.data("today-highlight"),weekStart:a.data("week-start"),daysOfWeekDisabled:a.data("days-of-week-disabled"),viewType:a.data("view-type")}},_create:function(){var a=this.options,c=this.element;this.isVisible=!1,c.addClass("ui-widget-input"),this._praseViewType(),this._createIcon(),this.minView=b.convertViewMode(a.minView),this.maxView=b.convertViewMode(a.maxView),this.startViewMode=b.convertViewMode(a.startView),this.picker=$(b.template).appendTo("body"),this.weekStart=a.weekStart%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=a.startDate,this.endDate=a.endDate,this.setDaysOfWeekDisabled(a.daysOfWeekDisabled),this._parseSelectedDate(),this._fillDow(),this._setMode(this.startViewMode),this._delegateEvent()},_parseSelectedDate:function(){var c;c=this.options.initialDate?this.options.initialDate:this.element.data("date")||this.element.val(),this.selectedDate=a.parse(c,b.viewType[this.options.viewType]),this.viewDate=this.selectedDate?this.selectedDate:new Date},_createIcon:function(){var a=this.options,b=this.element,c="",d=a.buttonIcon.split(" ");if(a.buttonIcon){for(var e=0;e<d.length;e++)c+=' <span class="input-group-addon"><span class="glyphicon glyphicon-'+d[e]+'"></span></span>';b.after(c),this.component=b.nextAll(".input-group-addon").filter(function(){return!$(this).children(".glyphicon").hasClass("glyphicon-remove")}),this.componentReset=b.nextAll(".input-group-addon").filter(function(){return $(this).children(".glyphicon").hasClass("glyphicon-remove")}),this.component=this.component.length?this.component:!1,this.componentReset=this.componentReset.length?this.componentReset:!1}},_praseViewType:function(){var a=this.options;switch(a.viewType){case"time":$.extend(a,{buttonIcon:"remove time",startView:1,minView:0,maxView:1,format:"hh:ii"});break;case"date":$.extend(a,{buttonIcon:"remove calendar",startView:2,minView:2,format:"yyyy-mm-dd"})}},_formHandler:function(a){var b=this;a.on("getvalue"+this.uuid+".form",function(){return b.value()})},_update:function(c){var d,e=b.viewType[this.options.viewType];if(void 0===c)this._parseSelectedDate();else if(null===c)this.viewDate=new Date,this.selectedDate=null;else{if(d=a.parse(c,e),!(d.valueOf()>=this.startDate.valueOf()&&d<=this.endDate.valueOf()))return this._trigger("outOfRange",null,{date:d,startDate:this.startDate,endDate:this.endDate}),c="",this.viewDate=this.selectedDate=d,!1;this.viewDate=this.selectedDate=d,this._setElementValue()}this.update()},_validateHandler:function(){var a=this.element,b=this;a.on("changedate.valid",function(){b._getValidFlag()&&a.isValid()})},_setOption:function(a,b){this._super(a,b),"disabled"===a&&this.element.attr("disabled",b)},_delegateEvent:function(){var a=this;this._on(this.element,{focus:"show",change:"_onChange",blur:"_onBlur"}),this.component&&this.component.on("click",$.proxy(this.show,this)),this.componentReset&&this.componentReset.on("click",$.proxy(this.reset,this)),this.picker.on("click",$.proxy(this._onClick,this)),$(document).on("mousedown",function(b){0===$(b.target).closest(".datetimepicker").length&&a.hide()})},value:function(c){var d=b.viewType[this.options.viewType];return void 0===c?a.format(this.selectedDate,d):void this.setDate(a.parse(c,d))},show:function(a){return a&&(a.stopPropagation(),a.preventDefault()),this.options.disabled?!1:(this.picker.show(),this._place(),this.isVisible=!0,void this._trigger("show",a,{date:this.selectedDate}))},hide:function(a){this.isVisible&&(this.picker.hide(),this._setMode(this.startViewMode),this.isVisible=!1,this._trigger("hide",a,{date:this.selectedDate}))},remove:function(){this._detachEvents(),this.picker.remove(),delete this.picker,delete this.element.data().datetimepicker},getDate:function(){return this.selectedDate},setDate:function(a){this._setDate(a),this.update()},_setDate:function(a){if(this.selectedDate!=a){if(null==a)this.viewDate=new Date,this.selectedDate=a;else{if(!(a.valueOf()>=this.startDate.valueOf()&&a<=this.endDate.valueOf()))return this._trigger("outOfRange",null,{date:a,startDate:this.startDate,endDate:this.endDate}),!1;this.viewDate=this.selectedDate=a}this._setElementValue(),this._trigger("changeDate",null,{date:a})}},_setElementValue:function(){var b=a.format(this.selectedDate,this.options.format);this.element.val(b)},setDaysOfWeekDisabled:function(a){this.daysOfWeekDisabled=a||[],$.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=$.map(this.daysOfWeekDisabled,function(a){return parseInt(a,10)})},_place:function(){var a=0;$("div").each(function(){var b=parseInt($(this).css("zIndex"),10);b>a&&(a=b)});var b,c,d,e=a+10,f=this.picker.outerHeight();this.component?(b=this.component.offset(),d=b.left+this.component.outerWidth()-this.picker.outerWidth()):(b=this.element.offset(),d=b.left),c=b.top+this.element.outerHeight(),c+f>$(document).height()?(this.picker.removeClass("datetimepicker-dropdown-bottom-left").addClass("datetimepicker-dropdown-top-left"),c=b.top-f):this.picker.hasClass("datetimepicker-dropdown-top-left")&&this.picker.addClass("datetimepicker-dropdown-bottom-left").removeClass("datetimepicker-dropdown-top-left"),this.picker.css({top:c,left:d,zIndex:e})},_fillDow:function(){for(var a=this.weekStart,b=fish.getResource("datetimepicker.daysMin"),c="<tr>";a<this.weekStart+7;)c+='<th class="dow">'+b[a++%7]+"</th>";c+="</tr>",this.picker.find(".datetimepicker-days thead").append(c)},_fillYears:function(a){var b=a.getFullYear(),c=this.startDate.getFullYear(),d=this.endDate.getFullYear(),e=this.viewDate.getFullYear(),f="";b=10*parseInt(b/10,10);var g=this.picker.find(".datetimepicker-years").find("th:eq(1)").text(b+"-"+(b+9)).end().find("td");b-=1;for(var h=-1;11>h;h++)f+='<span class="year'+(-1==h||10==h?" old":"")+(e==b?" active":"")+(c>b||b>d?" disabled":"")+'">'+b+"</span>",b+=1;g.html(f)},_fillMonths:function(a){for(var b,c="",d=fish.getResource("datetimepicker.monthsShort"),e=a.getFullYear(),f=this.viewDate.getFullYear(),g=this.viewDate.getMonth(),h=this.startDate.getFullYear(),i=this.startDate.getMonth(),j=this.endDate.getFullYear(),k=this.endDate.getMonth(),l=0;12>l;)c+='<span class="month">'+d[l++]+"</span>";this.picker.find(".datetimepicker-months td").html(c),b=this.picker.find(".datetimepicker-months").find("th:eq(1)").text(e).end().find("span").removeClass("active"),f==e&&b.eq(g).addClass("active"),(h>e||e>j)&&b.addClass("disabled"),e==h&&b.slice(0,i).addClass("disabled"),e==j&&b.slice(k+1).addClass("disabled")},_fillDays:function(b){var c=fish.getResource("datetimepicker.months"),b=a.getStartOfDay(b),d=a.addMonths(b,-1),e=a.getStartOfDay(this.viewDate),f=a.getDaysInMonth(d.getFullYear(),d.getMonth()),g=a.getStartOfDay(new Date),h=b.getFullYear(),i=b.getMonth();d.setDate(f),d.setDate(f-(d.getDay()-this.weekStart+7)%7),this.picker.find(".datetimepicker-days thead th:eq(1)").text(c[i]+" "+h);for(var j,k=a.addDays(d,42).valueOf(),l=[];d.valueOf()<k;)d.getDay()==this.weekStart&&l.push("<tr>"),j="",d.getFullYear()<h||d.getFullYear()==h&&d.getMonth()<i?j+=" old":(d.getFullYear()>h||d.getFullYear()==h&&d.getMonth()>i)&&(j+=" new"),this.options.todayHighlight&&d==g&&(j+=" today"),d.valueOf()==e.valueOf()&&(j+=" active"),(d.valueOf()+864e5<=this.startDate.valueOf()||d.valueOf()>this.endDate.valueOf()||-1!==$.inArray(d.getDay(),this.daysOfWeekDisabled))&&(j+=" disabled"),l.push('<td class="day'+j+'">'+d.getDate()+"</td>"),d.getDay()==this.weekEnd&&l.push("</tr>"),d.setDate(d.getDate()+1);this.picker.find(".datetimepicker-days tbody").empty().append(l.join(""))},_fillHours:function(a){var b,c=fish.getResource("datetimepicker.meridian"),d=fish.getResource("datetimepicker.months"),e=a.getFullYear(),f=a.getMonth(),g=a.getDate(),h=a.getHours(),i=a.getMinutes(),j=[],k="",l="",m="";if("time"==this.viewType){var n=h%12?h%12:12,o=(10>n?"0":"")+n,p=(10>i?"0":"")+i,q=c[12>h?0:1];this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(o+":"+p+" "+q.toUpperCase())}else this.picker.find(".datetimepicker-hours thead th:eq(1)").text(g+" "+d[f]+" "+e);for(var r=0;24>r;r++){var s=new Date(e,f,g,r);b="",s.valueOf()+36e5<=this.startDate.valueOf()||s.valueOf()>this.endDate.valueOf()?b+=" disabled":h==r&&(b+=" active"),this.showMeridian&&2==c.length?(l=12>r?c[0]:c[1],l!=m&&(""!=m&&j.push("</fieldset>"),j.push('<fieldset class="hour"><legend>'+l.toUpperCase()+"</legend>")),m=l,k=r%12?r%12:12,j.push('<span class="hour'+b+" hour_"+(12>r?"am":"pm")+'">'+k+"</span>"),23==r&&j.push("</fieldset>")):(k=r+":00",j.push('<span class="hour'+b+'">'+k+"</span>"))}this.picker.find(".datetimepicker-hours td").html(j.join(""))},_fillMinutes:function(a){var b,c=fish.getResource("datetimepicker.meridian"),d=fish.getResource("datetimepicker.months"),e=a.getFullYear(),f=a.getMonth(),g=a.getDate(),h=a.getHours(),i=a.getMinutes(),j=[],k="",l="",m="";if("time"==this.viewType){var n=h%12?h%12:12,o=(10>n?"0":"")+n,p=(10>i?"0":"")+i,q=c[12>h?0:1];this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(o+":"+p+" "+q.toUpperCase())}else this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(g+" "+d[f]+" "+e);for(var r=0;60>r;r+=this.options.minuteStep){var s=new Date(e,f,g,h,r,0).valueOf();b="",s<this.startDate.valueOf()||s>this.endDate.valueOf()?b+=" disabled":Math.floor(i/this.options.minuteStep)==Math.floor(r/this.options.minuteStep)&&(b+=" active"),this.showMeridian&&2==c.length?(l=12>h?c[0]:c[1],l!=m&&(""!=m&&j.push("</fieldset>"),j.push('<fieldset class="minute"><legend>'+l.toUpperCase()+"</legend>")),m=l,k=h%12?h%12:12,j.push('<span class="minute'+b+'">'+k+":"+(10>r?"0"+r:r)+"</span>"),59==r&&j.push("</fieldset>")):(k=r+":00",j.push('<span class="minute'+b+'">'+h+":"+(10>r?"0"+r:r)+"</span>"))}this.picker.find(".datetimepicker-minutes td").html(j.join(""))},update:function(){switch(this.picker.find("tfoot th.today").text(fish.getResource("datetimepicker.today")).toggle(this.todayBtn!==!1),this.updateNavArrows(),this.viewMode){case 4:this._fillYears(this.viewDate);break;case 3:this._fillMonths(this.viewDate);break;case 2:this._fillDays(this.viewDate);break;case 1:this._fillHours(this.viewDate);break;case 0:this._fillMinutes(this.viewDate)}this._place()},updateNavArrows:function(){var a=this.viewDate,b=a.getFullYear(),c=a.getMonth(),d=a.getDate(),e=a.getHours();switch(this.viewMode){case 0:b<=this.startDate.getFullYear()&&c<=this.startDate.getMonth()&&d<=this.startDate.getDate()&&e<=this.startDate.getHours()?this.picker.find(".prev").addClass("disabled"):this.picker.find(".prev").removeClass("disabled"),b>=this.endDate.getFullYear()&&c>=this.endDate.getMonth()&&d>=this.endDate.getDate()&&e>=this.endDate.getHours()?this.picker.find(".next").addClass("disabled"):this.picker.find(".next").removeClass("disabled");break;case 1:b<=this.startDate.getFullYear()&&c<=this.startDate.getMonth()&&d<=this.startDate.getDate()?this.picker.find(".prev").addClass("disabled"):this.picker.find(".prev").removeClass("disabled"),b>=this.endDate.getFullYear()&&c>=this.endDate.getMonth()&&d>=this.endDate.getDate()?this.picker.find(".next").addClass("disabled"):this.picker.find(".next").removeClass("disabled");break;case 2:b<=this.startDate.getFullYear()&&c<=this.startDate.getMonth()?this.picker.find(".prev").addClass("disabled"):this.picker.find(".prev").removeClass("disabled"),b>=this.endDate.getFullYear()&&c>=this.endDate.getMonth()?this.picker.find(".next").addClass("disabled"):this.picker.find(".next").removeClass("disabled");break;case 3:case 4:b<=this.startDate.getFullYear()?this.picker.find(".prev").addClass("disabled"):this.picker.find(".prev").removeClass("disabled"),b>=this.endDate.getFullYear()?this.picker.find(".next").addClass("disabled"):this.picker.find(".next").removeClass("disabled")}},_onChange:function(){this.inputChanged||(this.inputChanged=!0)},_onBlur:function(){if(this.inputChanged){this.inputChanged=!1;var b=this.element.val();b=b.replace(/^\s+|\s+$/g,""),b=a.parse(b,this.options.format),this.setDate(b)}},_onClick:function(c){c.stopPropagation(),c.preventDefault();var d=$(c.target).closest("span, td, th, legend");if(1==d.length){if(d.is(".disabled"))return void this._trigger("outOfRange",c,{date:this.viewDate,startDate:this.startDate,endDate:this.endDate});switch(d[0].nodeName.toLowerCase()){case"th":switch(d[0].className){case"switch":this._addMode(1);break;case"prev":case"next":var e=b.modes[this.viewMode].navStep*("prev"==d[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=a.addHours(this.viewDate,e);break;case 1:this.viewDate=a.addDays(this.viewDate,e);break;case 2:this.viewDate=a.addMonths(this.viewDate,e);break;case 3:case 4:this.viewDate=a.addYears(this.viewDate,e)}this.update();break;case"today":var f=new Date;f<this.startDate?f=this.startDate:f>this.endDate&&(f=this.endDate),this._setDate(f),this.hide()}break;case"span":if(!d.is(".disabled")){var g=this.viewDate.getFullYear(),h=this.viewDate.getMonth(),i=this.viewDate.getDate(),j=this.viewDate.getHours(),k=this.viewDate.getMinutes(),l=this.viewDate.getSeconds();d.is(".month")?(h=d.parent().find("span").index(d),i=this.viewDate.getDate(),this.viewDate.setMonth(h),this._trigger("changeMonth",c,{date:this.viewDate}),3===this.minView?(this._setDate(new Date(g,h,i,j,k,l,0)),this.hide()):this._addMode(-1)):d.is(".year")?(g=parseInt(d.text(),10)||0,this.viewDate.setFullYear(g),this._trigger("changeYear",c,{date:this.viewDate}),4===this.minView?(this._setDate(new Date(g,h,i,j,k,l,0)),this.hide()):this._addMode(-1)):d.is(".hour")?(j=parseInt(d.text(),10)||0,(d.hasClass("hour_am")||d.hasClass("hour_pm"))&&(12==j&&d.hasClass("hour_am")?j=0:12!=j&&d.hasClass("hour_pm")&&(j+=12)),this.viewDate.setHours(j),this._trigger("changeHour",c,{date:this.viewDate}),1===this.minView?(this._setDate(new Date(g,h,i,j,k,l,0)),this.hide()):this._addMode(-1)):d.is(".minute")&&(k=parseInt(d.text().substr(d.text().indexOf(":")+1),10)||0,this.viewDate.setMinutes(k),this._trigger("changeMinute",c,{date:this.viewDate}),0===this.minView?(this._setDate(new Date(g,h,i,j,k,l,0)),this.hide()):this._addMode(-1))}break;case"td":if(d.is(".day")&&!d.is(".disabled")){var i=parseInt(d.text(),10)||1,g=this.viewDate.getFullYear(),h=this.viewDate.getMonth(),j=this.viewDate.getHours(),k=this.viewDate.getMinutes(),l=this.viewDate.getSeconds();d.is(".old")?0===h?(h=11,g-=1):h-=1:d.is(".new")&&(11==h?(h=0,g+=1):h+=1),this.viewDate.setFullYear(g),this.viewDate.setMonth(h,i),this._trigger("changeDay",c,{date:this.viewDate}),2===this.minView?(this._setDate(new Date(g,h,i,j,k,l,0)),this.hide()):this._addMode(-1)}}}},_addMode:function(a){var b=Math.max(this.minView,Math.min(this.maxView,this.viewMode+a));this._setMode(b)},_setMode:function(a){this.viewMode!==a&&this._trigger("changeMode",{date:this.viewDate,oldViewMode:this.viewMode,newViewMode:a}),this.viewMode=a,this.picker.find(">div").hide().filter(".datetimepicker-"+b.modes[this.viewMode].clsName).css("display","block"),this.update()},reset:function(){return this.options.disabled?!1:void this.setDate(null)}})}),!function(a){"function"==typeof define&&define.amd?define("fish.des",a):a()}(function(){"use strict";function a(a,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=new Array(16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756),w=new Array(-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344),x=new Array(520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584),y=new Array(8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928),z=new Array(256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080),A=new Array(536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312),B=new Array(2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154),C=new Array(268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696),D=b(a),E=0,F=c.length,G=0,H=32==D.length?3:9;for(o=3==H?d?new Array(0,32,2):new Array(30,-2,-2):d?new Array(0,32,2,62,30,-2,64,96,2):new Array(94,62,-2,32,64,2,30,-2,-2),2==g?c+="        ":1==g?(j=8-F%8,c+=String.fromCharCode(j,j,j,j,j,j,j,j),8==j&&(F+=8)):g||(c+="\x00\x00\x00\x00\x00\x00\x00\x00"),result="",tempresult="",1==e&&(p=f.charCodeAt(E++)<<24|f.charCodeAt(E++)<<16|f.charCodeAt(E++)<<8|f.charCodeAt(E++),r=f.charCodeAt(E++)<<24|f.charCodeAt(E++)<<16|f.charCodeAt(E++)<<8|f.charCodeAt(E++),E=0);F>E;){for(m=c.charCodeAt(E++)<<24|c.charCodeAt(E++)<<16|c.charCodeAt(E++)<<8|c.charCodeAt(E++),n=c.charCodeAt(E++)<<24|c.charCodeAt(E++)<<16|c.charCodeAt(E++)<<8|c.charCodeAt(E++),1==e&&(d?(m^=p,n^=r):(q=p,s=r,p=m,r=n)),j=252645135&(m>>>4^n),n^=j,m^=j<<4,j=65535&(m>>>16^n),n^=j,m^=j<<16,j=858993459&(n>>>2^m),m^=j,n^=j<<2,j=16711935&(n>>>8^m),m^=j,n^=j<<8,j=1431655765&(m>>>1^n),n^=j,m^=j<<1,m=m<<1|m>>>31,n=n<<1|n>>>31,i=0;H>i;i+=3){for(t=o[i+1],u=o[i+2],h=o[i];h!=t;h+=u)k=n^D[h],l=(n>>>4|n<<28)^D[h+1],j=m,m=n,n=j^(w[k>>>24&63]|y[k>>>16&63]|A[k>>>8&63]|C[63&k]|v[l>>>24&63]|x[l>>>16&63]|z[l>>>8&63]|B[63&l]);j=m,m=n,n=j}m=m>>>1|m<<31,n=n>>>1|n<<31,j=1431655765&(m>>>1^n),n^=j,m^=j<<1,j=16711935&(n>>>8^m),m^=j,n^=j<<8,j=858993459&(n>>>2^m),m^=j,n^=j<<2,j=65535&(m>>>16^n),n^=j,m^=j<<16,j=252645135&(m>>>4^n),n^=j,m^=j<<4,1==e&&(d?(p=m,r=n):(m^=q,n^=s)),tempresult+=String.fromCharCode(m>>>24,m>>>16&255,m>>>8&255,255&m,n>>>24,n>>>16&255,n>>>8&255,255&n),G+=8,512==G&&(result+=tempresult,tempresult="",G=0)}return result+tempresult}function b(a){pc2bytes0=new Array(0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964),pc2bytes1=new Array(0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697),pc2bytes2=new Array(0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272),pc2bytes3=new Array(0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144),pc2bytes4=new Array(0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256),pc2bytes5=new Array(0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488),pc2bytes6=new Array(0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746),pc2bytes7=new Array(0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568),pc2bytes8=new Array(0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578),pc2bytes9=new Array(0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488),pc2bytes10=new Array(0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800),pc2bytes11=new Array(0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744),pc2bytes12=new Array(0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128),pc2bytes13=new Array(0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261);
for(var b,c,d,e=a.length>8?3:1,f=new Array(32*e),g=new Array(0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0),h=0,i=0,j=0;e>j;j++){left=a.charCodeAt(h++)<<24|a.charCodeAt(h++)<<16|a.charCodeAt(h++)<<8|a.charCodeAt(h++),right=a.charCodeAt(h++)<<24|a.charCodeAt(h++)<<16|a.charCodeAt(h++)<<8|a.charCodeAt(h++),d=252645135&(left>>>4^right),right^=d,left^=d<<4,d=65535&(right>>>-16^left),left^=d,right^=d<<-16,d=858993459&(left>>>2^right),right^=d,left^=d<<2,d=65535&(right>>>-16^left),left^=d,right^=d<<-16,d=1431655765&(left>>>1^right),right^=d,left^=d<<1,d=16711935&(right>>>8^left),left^=d,right^=d<<8,d=1431655765&(left>>>1^right),right^=d,left^=d<<1,d=left<<8|right>>>20&240,left=right<<24|right<<8&16711680|right>>>8&65280|right>>>24&240,right=d;for(var k=0;k<g.length;k++)g[k]?(left=left<<2|left>>>26,right=right<<2|right>>>26):(left=left<<1|left>>>27,right=right<<1|right>>>27),left&=-15,right&=-15,b=pc2bytes0[left>>>28]|pc2bytes1[left>>>24&15]|pc2bytes2[left>>>20&15]|pc2bytes3[left>>>16&15]|pc2bytes4[left>>>12&15]|pc2bytes5[left>>>8&15]|pc2bytes6[left>>>4&15],c=pc2bytes7[right>>>28]|pc2bytes8[right>>>24&15]|pc2bytes9[right>>>20&15]|pc2bytes10[right>>>16&15]|pc2bytes11[right>>>12&15]|pc2bytes12[right>>>8&15]|pc2bytes13[right>>>4&15],d=65535&(c>>>16^b),f[i++]=b^d,f[i++]=c^d<<16}return f}fish.DES={des:a,encrypt:function(a,b){return this.des(a,b,!0,0)},decrypt:function(a,b){return this.des(a,b,!1,0)},stringToHex:function(a){for(var b="0x",c=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),d=0;d<a.length;d++)b+=c[a.charCodeAt(d)>>4]+c[15&a.charCodeAt(d)];return b},hexToString:function(a){for(var b="",c="0x"==a.substr(0,2)?2:0;c<a.length;c+=2)b+=String.fromCharCode(parseInt(a.substr(c,2),16));return b}}}),!function(a){"function"==typeof define&&define.amd?define("fish.dialog",a):a()}(function(){"use strict";var a={height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},b={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};$.widget("ui.dialog",{options:{autoOpen:!0,closeOnEscape:!0,closeOnClickOverlay:!1,draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,width:300,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(a){var b=$(this).css(a).offset().top;0>b&&$(this).css("top",a.top-b)}},resizable:!1,show:null,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null,dialogClass:"",initValue:null},_create:function(){var a=this.options;this.element.addClass("ui-dialog"+a.dialogClass),this.element.attr({tabIndex:-1,role:"dialog"}),this.$header=this.element.find(".modal-header"),this.$body=this.element.find(".modal-body"),this.$footer=this.element.find(".modal-footer"),this.$close=$("<button type='button' class='close' tabindex='-1' role='button'><span aria-hidden='true'>&times;</span></button>"),this.$header.prepend(this.$close),a.draggable&&$.fn.draggable&&this._makeDraggable(),a.resizable&&$.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._delegateEvent(),this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_delegateEvent:function(){this._on(this.element,{keydown:function(a){if(this.options.closeOnEscape&&!a.isDefaultPrevented()&&a.keyCode&&a.keyCode===$.ui.keyCode.ESCAPE)return a.preventDefault(),void this.close(a);if(a.keyCode===$.ui.keyCode.TAB&&!a.isDefaultPrevented()){var b=this.element.find(":tabbable"),c=b.filter(":first"),d=b.filter(":last");a.target!==d[0]&&a.target!==this.element[0]||a.shiftKey?a.target!==c[0]&&a.target!==this.element[0]||!a.shiftKey||(this._delay(function(){d.focus()}),a.preventDefault()):(this._delay(function(){c.focus()}),a.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this._on(this.$close,{click:function(a){a.preventDefault(),this.close(a)}})},_destroy:function(){this._destroyOverlay(),this.element.remove()},close:function(a){var b,c=this;if(this._isOpen&&this._trigger("beforeClose",a)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{b=this.document[0].activeElement,b&&"body"!==b.nodeName.toLowerCase()&&$(b).blur()}catch(d){}this._hide(this.element,this.options.hide,function(){c._trigger("close",a)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(a,b){var c=!1,d=this.element.siblings(".ui-dialog:visible").map(function(){return+$(this).css("z-index")}).get(),e=Math.max.apply(null,d);return e>=+this.element.css("z-index")&&(this.element.css("z-index",e+1),c=!0),c&&!b&&this._trigger("focus",a),c},open:function(){var a=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this.opener=$(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.element.css("z-index")-1),this._show(this.element,this.options.show,function(){a._focusTabbable(),a._trigger("focus")}),this._isOpen=!0,this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]")),a.length||(a=this.element.find(":tabbable")),a.length||(a=this.element),a.eq(0).focus()},_keepFocus:function(a){function b(){var a=this.document[0].activeElement,b=this.element[0]===a||$.contains(this.element[0],a);b||this._focusTabbable()}a.preventDefault(),b.call(this),this._delay(b)},_makeDraggable:function(){function a(a){return{position:a.position,offset:a.offset}}var b=this,c=this.options;this.element.draggable({cancel:".modal-body, .close",handle:".modal-header",containment:"document",start:function(c,d){$(this).addClass("ui-dialog-dragging"),b._trigger("dragStart",c,a(d))},drag:function(c,d){b._trigger("drag",c,a(d))},stop:function(d,e){var f=e.offset.left-b.document.scrollLeft(),g=e.offset.top-b.document.scrollTop();c.position={my:"left top",at:"left"+(f>=0?"+":"")+f+" top"+(g>=0?"+":"")+g,of:b.window},$(this).removeClass("ui-dialog-dragging"),b._trigger("dragStop",d,a(e))}})},_makeResizable:function(){function a(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var b=this,c=this.options,d=c.resizable,e=this.element.css("position"),f="string"==typeof d?d:"n,e,s,w,se,sw,ne,nw";this.element.resizable({cancel:".modal-body",containment:"document",alsoResize:this.element.find(".modal-body"),maxWidth:c.maxWidth,maxHeight:c.maxHeight,minWidth:c.minWidth,minHeight:this._minHeight(),handles:f,start:function(c,d){$(this).addClass("ui-dialog-resizing"),b._trigger("resizeStart",c,a(d))},resize:function(c,d){b._trigger("resize",c,a(d))},stop:function(d,e){var f=b.element.offset(),g=f.left-b.document.scrollLeft(),h=f.top-b.document.scrollTop();c.height=b.element.height(),c.width=b.element.width(),c.position={my:"left top",at:"left"+(g>=0?"+":"")+g+" top"+(h>=0?"+":"")+h,of:b.window},$(this).removeClass("ui-dialog-resizing"),b._trigger("resizeStop",d,a(e))}}).css("position",e)},_trackFocus:function(){this._on(this.widget(),{focusin:function(a){this._makeFocusTarget(),this._focusedElement=$(a.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var a=this._trackingInstances(),b=$.inArray(this,a);-1!==b&&a.splice(b,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",a)),a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.element.is(":visible");a||this.element.show(),this.element.position(this.options.position),a||this.element.hide()},_setOptions:function(c){var d=this,e={},f=!1;$.each(c,function(c,g){d._setOption(c,g),c in a&&(f=!0),c in b&&(e[c]=g)}),f&&(this._size(),this._position()),this.element.is(":data(resizable)")&&this.element.resizable("option",e)},_setOption:function(a,b){var c,d,e=this.element;switch(a){case"disabled":return;case"draggable":c=e.is(":data(draggable)"),c&&!b&&e.draggable("destroy"),!c&&b&&this._makeDraggable();break;case"position":this._position(b);break;case"resizable":d=e.is(":data(resizable)"),d&&!b&&e.resizable("destroy"),d&&"string"==typeof b&&e.resizable("option","handles",b),d||b===!1||this._makeResizable(b)}this._super(a,b)},_size:function(){var a,b=this.options,c=this.element.is(":visible");if(this.element.show(),b.width=Math.max(b.width,b.minWidth),this.element.width(b.width),this.$body.outerWidth(b.width),"auto"===b.height)a=this.$body.css("height","auto").height(),this.$body.height(Math.max(a,b.minHeight));else{var d=Math.max(b.height,b.minHeight);this.element.height(d),this.$body.outerHeight(d-this.$header.outerHeight()-this.$footer.outerHeight())}c||this.element.hide(),this.element.is(":data(resizable)")&&this.element.resizable("option","minHeight",this._minHeight())},_allowInteraction:function(a){return $(a.target).closest(".ui-dialog").length?!0:void 0},_createOverlay:function(){if(this.options.modal){var a=!0;this._delay(function(){a=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(b){a||this._allowInteraction(b)||(b.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=$("<div>").addClass("ui-widget-overlay").appendTo(document.body),this._on(this.overlay,{mousedown:"_keepFocus"}),this.options.closeOnClickOverlay&&this._on(this.overlay,{mousedown:"close"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}},setReturnValue:function(a){this.element.trigger("change",a)},setTitle:function(a){this.$header.find(".modal-title").text(a)}})}),!function(a){"function"==typeof define&&define.amd?define("fish.dropdown",a):a()}(function(){"use strict";$.widget("ui.dropdown",{options:{delay:200,closeOthers:!0},_create:function(){var a=this,b=$(this.element),c=b.parent();c.hover($.noop,function(){a.timeout_=window.setTimeout(function(){a._trigger("beforeHide")&&(c.removeClass("open"),a._trigger("hide"))},a.options.delay)}),b.hover(function(d){return c.hasClass("open")||b.is(d.target)?void a._openDropdown(d):!0}),c.find(".dropdown-submenu").each(function(){var b,c=$(this);c.hover(function(){window.clearTimeout(b),c.children(".dropdown-menu").show(),c.siblings().children(".dropdown-menu").hide()},function(){var d=c.children(".dropdown-menu");b=window.setTimeout(function(){d.hide()},a.options.delay)})})},_openDropdown:function(){if(this._trigger("beforeShow")){var a=$(":ui-dropdown").parent();a.find(":focus").blur(),this.options.closeOthers===!0&&a.removeClass("open"),window.clearTimeout(this.timeout_),$(this.element).parent().addClass("open"),this._trigger("show")}}})}),!function(a){"function"==typeof define&&define.amd?define("fish.form",a):a()}(function(){"use strict";var a={};a.fileapi=void 0!==$("<input type='file'/>").get(0).files,a.formdata=void 0!==window.FormData,$.widget("ui.form",{options:{showMask:!0,validate:2,type:"post",url:"",dataType:"json",traditional:!0,target:"",clearForm:!1,resetForm:!1,beforeSubmit:$.noop,success:$.noop},_create:function(){this.options.initData=this.options.data,this._on({submit:"_doAjaxSubmit",click:"_captureSubmittingElement"}),$.fn.validator||(this.options.validate=0),1===this.options.validate&&this.element.validator()},_getCreateOptions:function(){var a={},b=this.element.attr("method");b?a.type=b:"";var c=this.element.attr("action");return c?a.url=c:"",a},_unbindEvent:function(){this.element.unbind("submit.fish-form click.fish-form")},_doAjaxSubmit:function(a){a.isDefaultPrevented()||(a.preventDefault(),this.submitting||(this.submitting=!0,this.ajaxSubmit(a)))},ajaxSubmit:function(a){var b,c,d,e=this.options,f=this,g=this.element;if("function"==typeof e?e={success:e}:void 0===e&&(e={}),b=e.type,c=e.url,d="string"==typeof c?$.trim(c):"",d=d||window.location.href||"",d&&(d=(d.match(/^([^#]+)/)||[])[1]),this._trigger("beforeSerialize")!==!1){for(var h,i=e.traditional||$.ajaxSettings.traditional,j=[],k=this.formToArray(j),l=0;l<k.length;l++)this._addWidgetValue(k[l]);if(e.initData&&(e.extraData=e.data,h=$.param(e.initData,i)),this._trigger("beforeSubmit",a,[k])!==!1&&(2===this.options.validate&&this.element.validator(),!this.options.validate||this.element.isValid())){e.showMask&&0===fish._active++&&$.blockUI&&$.blockUI();var m=$.param(k,i);h&&(m=m?m+"&"+h:h),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+m,e.data=null):e.data=m;var n=[];e.resetForm&&n.push(function(){g.resetForm()}),e.clearForm&&n.push(function(){g.clearForm(e.includeHidden)}),e.success&&n.push(e.success);var o=$.extend(!0,{},e);o.success=function(a,b,c){for(var d=e.context||this,f=0,h=n.length;h>f;f++)n[f].apply(d,[a,b,c||g,g])};var p=e.error;o.error=function(a,b,c){var d=e.context||this;p&&p.apply(d,[a,b,c,g])};var q=e.complete;o.complete=function(a,b){var c=e.context||this;q&&q.apply(c,[a,b,g]),e.showMask&&0===--fish._active&&$.unblockUI&&$.unblockUI(),f.submitting=!1};var r=$.ajax(o);g.removeData("jqxhr").data("jqxhr",r);for(var s=0;s<j.length;s++)j[s]=null}}},formToArray:function(b){var c=[];if(0===this.length)return c;var d=this.element[0],e=d.elements;if(!e||!e.length)return c;var f,g,h,i,j,k,l;for(f=0,k=e.length;k>f;f++)if(j=e[f],h=j.name)if(i=$.fieldValue(j,!0),i&&i.constructor==Array)for(b&&b.push(j),g=0,l=i.length;l>g;g++)c.push({name:h,value:i[g]});else if(a.fileapi&&"file"==j.type){b&&b.push(j);var m=j.files;if(m.length)for(g=0;g<m.length;g++)c.push({name:h,value:m[g],type:j.type});else c.push({name:h,value:"",type:j.type})}else null!==i&&"undefined"!=typeof i&&(b&&b.push(j),c.push({name:h,value:i,type:j.type,required:j.required}));if(d.clk){var n=$(d.clk),o=n[0];h=o.name,h&&"image"==o.type&&(c.push({name:h,value:n.val()}),c.push({name:h+".x",value:d.clk_x},{name:h+".y",value:d.clk_y}))}return c},_captureSubmittingElement:function(a){var b=a.target,c=$(b);if(!c.is("[type=submit],[type=image]")){var d=c.closest("[type=submit]");if(0===d.length)return;b=d[0]}var e=this.element[0];if(e.clk=b,"image"==b.type)if(void 0!==a.offsetX)e.clk_x=a.offsetX,e.clk_y=a.offsetY;else if("function"==typeof $.fn.offset){var f=c.offset();e.clk_x=a.pageX-f.left,e.clk_y=a.pageY-f.top}else e.clk_x=a.pageX-b.offsetLeft,e.clk_y=a.pageY-b.offsetTop;setTimeout(function(){e.clk=e.clk_x=e.clk_y=null},100)},serialize:function(){return $.param(this.formToArray())},value:function(a){return a?void this._setValue(a):this._getValue()},_addWidgetValue:function(a){var b,c=a.name,d=this.element,e=d.find("[name="+c+"]");if(e[0]&&(b=$.data(e[0],"uuid"))){var f=d.triggerHandler("getvalue"+b.uuid+".form");f&&(a.value=f)}},_getValue:function(){for(var a,b=this.formToArray(),c={},d=(this.element,0);d<b.length;d++)if(a=b[d].name,this._addWidgetValue(b[d]),void 0===c[a])c[a]=b[d].value;else if($.isArray(c[a]))c[a].push(b[d].value);else{var e=[c[a]];e.push(b[d].value),c[a]=e}return c},_setValue:function(a){if("object"===$.type(a)){var b,c=this.element;for(var d in a){var e=c.find("[name="+d+"]");if(e[0]){try{c.find("[name="+d+"]").val(a[d])}catch(f){$.error("copy value to form field error,please check")}for(var g=0;g<e.length;g++)b=$.data(e[g],"uuid"),b&&c.triggerHandler("setvalue"+b.uuid+".form",[a[d]])}}}},clear:function(){this.element.each(function(){$("input,select,textarea",this).clearFields(!0)}),this.element.triggerHandler("clear.form")},disable:function(){for(var a,b,c=this.formToArray(),d=this.element,e=0;e<c.length;e++)a=c[e].name,b=d.find("[name="+a+"]"),b.attr("disabled",!0);d.triggerHandler("disable.form")},enable:function(){for(var a,b,c=this.formToArray(),d=this.element,e=0;e<c.length;e++)a=c[e].name,b=d.find("[name="+a+"]"),b.attr("disabled",!1);d.triggerHandler("enable.form")}}),$.fieldValue=function(a,b){var c=a.name,d=a.type,e=a.tagName.toLowerCase();if(void 0===b&&(b=!0),b&&(!c||"reset"==d||"button"==d||("checkbox"==d||"radio"==d)&&!a.checked||("submit"==d||"image"==d)&&a.form&&a.form.clk!=a||"select"==e&&-1==a.selectedIndex))return null;if("select"==e){var f=a.selectedIndex;if(0>f)return null;for(var g=[],h=a.options,i="select-one"==d,j=i?f+1:h.length,k=i?f:0;j>k;k++){var l=h[k];if(l.selected){var m=l.value;if(m||(m=l.attributes&&l.attributes.value&&!l.attributes.value.specified?l.text:l.value),i)return m;g.push(m)}}return g}return $(a).val()},$.fn.clearFields=function(){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week|hidden)$/i;return this.each(function(){var b=this.type,c=this.tagName.toLowerCase();return this.name?void(a.test(b)||"textarea"==c?this.value="":"checkbox"==b||"radio"==b?this.checked=!1:"select"==c?this.selectedIndex=-1:"file"==b&&(/MSIE/.test(navigator.userAgent)?$(this).replaceWith($(this).clone(!0)):$(this).val(""))):!0})}}),!function(a){"function"==typeof define&&define.amd?define("fish.grid.util",a):a()}(function(){"use strict";$.jgrid=$.jgrid||{},$.extend($.jgrid,{htmlDecode:function(a){return a&&("&nbsp;"===a||"&#160;"===a||1===a.length&&160===a.charCodeAt(0))?"":a?String(a).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):a},htmlEncode:function(a){return a?String(a).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):a},format:function(a){var b=$.makeArray(arguments).slice(1);return null==a&&(a=""),a.replace(/\{(\d+)\}/g,function(a,c){return b[c]})},getCellIndex:function(a){var b=$(a);return b.is("tr")?-1:(b=(b.is("td")||b.is("th")?b:b.closest("td,th"))[0],b.cellIndex)},stripHtml:function(a){a=String(a);var b=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return a?(a=a.replace(b,""),a&&"&nbsp;"!==a&&"&#160;"!==a?a.replace(/\"/g,"'"):""):a},stripPref:function(a,b){var c=$.type(a);return("string"===c||"number"===c)&&(a=String(a),b=""!==a?String(b).replace(String(a),""):b),b},parse:function(jsonString){var js=jsonString;return"while(1);"===js.substr(0,9)&&(js=js.substr(9)),"/*"===js.substr(0,2)&&(js=js.substr(2,js.length-4)),js||(js="{}"),$.jgrid.useJSON===!0&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(js):eval("("+js+")")},parseDate:function(a,b,c,d){var e,f,g,h=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,i=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,j=/[^-+\dA-Z]/g,k=new RegExp("^/Date\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\)/$"),l="string"==typeof b?b.match(k):null,m=function(a,b){for(a=String(a),b=parseInt(b,10)||2;a.length<b;)a="0"+a;return a},n={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},o=0,p=function(a,b){return 0===a?12===b&&(b=0):12!==b&&(b+=12),b};if(void 0===d&&(d=$.jgrid.formatter.date),void 0===d.parseRe&&(d.parseRe=/[Tt\\\/:_;.,\t\s-]/),d.masks.hasOwnProperty(a)&&(a=d.masks[a]),b&&null!=b)if(isNaN(b-0)||"u"!==String(a).toLowerCase())if(b.constructor===Date)o=b;else if(null!==l){if(o=new Date(parseInt(l[1],10)),l[3]){var q=60*Number(l[5])+Number(l[6]);q*="-"===l[4]?1:-1,q-=o.getTimezoneOffset(),o.setTime(Number(Number(o)+60*q*1e3))}}else{for(b=String(b).replace(/\\T/g,"T").replace(/\\t/,"t").split(d.parseRe),a=a.replace(/\\T/g,"T").replace(/\\t/,"t").split(d.parseRe),f=0,g=a.length;g>f;f++)"M"===a[f]&&(e=$.inArray(b[f],d.monthNames),-1!==e&&12>e&&(b[f]=e+1,n.m=b[f])),"F"===a[f]&&(e=$.inArray(b[f],d.monthNames,12),-1!==e&&e>11&&(b[f]=e+1-12,n.m=b[f])),"a"===a[f]&&(e=$.inArray(b[f],d.AmPm),-1!==e&&2>e&&b[f]===d.AmPm[e]&&(b[f]=e,n.h=p(b[f],n.h))),"A"===a[f]&&(e=$.inArray(b[f],d.AmPm),-1!==e&&e>1&&b[f]===d.AmPm[e]&&(b[f]=e-2,n.h=p(b[f],n.h))),"g"===a[f]&&(n.h=parseInt(b[f],10)),void 0!==b[f]&&(n[a[f].toLowerCase()]=parseInt(b[f],10));if(n.f&&(n.m=n.f),0===n.m&&0===n.y&&0===n.d)return"&#160;";n.m=parseInt(n.m,10)-1;var r=n.y;r>=70&&99>=r?n.y=1900+n.y:r>=0&&69>=r&&(n.y=2e3+n.y),o=new Date(n.y,n.m,n.d,n.h,n.i,n.s,n.u)}else o=new Date(1e3*parseFloat(b));else o=new Date(n.y,n.m,n.d,n.h,n.i,n.s,n.u);if(void 0===c)return o;d.masks.hasOwnProperty(c)?c=d.masks[c]:c||(c="Y-m-d");var s=o.getHours(),t=o.getMinutes(),u=o.getDate(),v=o.getMonth()+1,w=o.getTimezoneOffset(),x=o.getSeconds(),y=o.getMilliseconds(),z=o.getDay(),A=o.getFullYear(),B=(z+6)%7+1,C=(new Date(A,v-1,u)-new Date(A,0,1))/864e5,D={d:m(u),D:d.dayNames[z],j:u,l:d.dayNames[z+7],N:B,S:d.S(u),w:z,z:C,W:5>B?Math.floor((C+B-1)/7)+1:Math.floor((C+B-1)/7)||((new Date(A-1,0,1).getDay()+6)%7<4?53:52),F:d.monthNames[v-1+12],m:m(v),M:d.monthNames[v-1],n:v,t:"?",L:"?",o:"?",Y:A,y:String(A).substring(2),a:12>s?d.AmPm[0]:d.AmPm[1],A:12>s?d.AmPm[2]:d.AmPm[3],B:"?",g:s%12||12,G:s,h:m(s%12||12),H:m(s),i:m(t),s:m(x),u:y,e:"?",I:"?",O:(w>0?"-":"+")+m(100*Math.floor(Math.abs(w)/60)+Math.abs(w)%60,4),P:"?",T:(String(o).match(i)||[""]).pop().replace(j,""),Z:"?",c:"?",r:"?",U:Math.floor(o/1e3)};return c.replace(h,function(a){return D.hasOwnProperty(a)?D[a]:a.substring(1)})},jqID:function(a){return String(a).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(a){return(a||$.jgrid.uidPref)+$.jgrid.guid++},getAccessor:function(a,b){var c,d,e,f=[];if("function"==typeof b)return b(a);if(c=a[b],void 0===c)try{if("string"==typeof b&&(f=b.split(".")),e=f.length)for(c=a;c&&e--;)d=f.shift(),c=c[d]}catch(g){}return c},cellWidth:function(){var a=$("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div>"),b=a.appendTo("body").find("td").width();return a.remove(),Math.abs(b-5)>.1},cell_width:!0,ajaxOptions:{},from:function(source){var QueryObject=function(d,q){"string"==typeof d&&(d=$.data(d));var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],_useProperties=!0;if("object"!=typeof d||!d.push)throw"data provides is not an array";return d.length>0&&(_useProperties="object"!=typeof d[0]?!1:!0),this._hasData=function(){return null===_data?!1:0===_data.length?!1:!0},this._getStr=function(a){var b=[];return _trim&&b.push("jQuery.trim("),b.push("String("+a+")"),_trim&&b.push(")"),_usecase||b.push(".toLowerCase()"),b.join("")},this._strComp=function(a){return"string"==typeof a?".toString()":""},this._group=function(a,b){return{field:a.toString(),unique:b,items:[]}},this._toStr=function(a){return _trim&&(a=$.trim(a)),a=a.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?a:a.toLowerCase()},this._funcLoop=function(a){var b=[];return $.each(_data,function(c,d){b.push(a(d))}),b},this._append=function(a){var b;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,b=0;_orDepth>b;b++)_query+="(";_negate&&(_query+="!"),_query+="("+a+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(a,b){_lastCommand=a,_lastField=b},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(a,b){return null===_lastCommand?self:null!==a&&null!==b?_lastCommand(a,b):null===_lastField?_lastCommand(a):_useProperties?_lastCommand(_lastField,a):_lastCommand(a)},this._equals=function(a,b){return 0===self._compare(a,b,1)},this._compare=function(a,b,c){var d=Object.prototype.toString;return void 0===c&&(c=1),void 0===a&&(a=null),void 0===b&&(b=null),null===a&&null===b?0:null===a&&null!==b?1:null!==a&&null===b?-1:"[object Date]"===d.call(a)&&"[object Date]"===d.call(b)?b>a?-c:a>b?c:0:(_usecase||"number"==typeof a||"number"==typeof b||(a=String(a),b=String(b)),b>a?-c:a>b?c:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(a,b){var c=_sorting[b].by,d=_sorting[b].dir,e=_sorting[b].type,f=_sorting[b].datefmt;if(b===_sorting.length-1)return self._getOrder(a,c,d,e,f);b++;var g,h,i,j=self._getGroup(a,c,d,e,f),k=[];for(g=0;g<j.length;g++)for(i=self._doSort(j[g].items,b),h=0;h<i.length;h++)k.push(i[h]);return k},this._getOrder=function(a,b,c,d,e){var f,g,h,i,j=[],k=[],l="a"===c?1:-1;void 0===d&&(d="text"),i="float"===d||"number"===d||"currency"===d||"numeric"===d?function(a){var b=parseFloat(String(a).replace(_stripNum,""));return isNaN(b)?0:b}:"int"===d||"integer"===d?function(a){return a?parseFloat(String(a).replace(_stripNum,"")):0}:"date"===d||"datetime"===d?function(a){return $.jgrid.parseDate(e,a).getTime()}:$.isFunction(d)?d:function(a){return a=a?$.trim(String(a)):"",_usecase?a:a.toLowerCase()},$.each(a,function(a,c){g=""!==b?$.jgrid.getAccessor(c,b):c,void 0===g&&(g=""),g=i(g,c),k.push({vSort:g,index:a})}),k.sort(function(a,b){return a=a.vSort,b=b.vSort,self._compare(a,b,l)}),h=0;for(var m=a.length;m>h;)f=k[h].index,j.push(a[f]),h++;return j},this._getGroup=function(a,b,c,d,e){var f,g=[],h=null,i=null;return $.each(self._getOrder(a,b,c,d,e),function(a,c){f=$.jgrid.getAccessor(c,b),null==f&&(f=""),self._equals(i,f)||(i=f,null!==h&&g.push(h),h=self._group(b,f)),h.items.push(c)}),null!==h&&g.push(h),g},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match?self:($.each(_data,function(){eval(match)&&results.push(this)}),_data=results,self)},this.data=function(){return _data},this.select=function(a){if(self._performSort(),!self._hasData())return[];if(self.execute(),$.isFunction(a)){var b=[];return $.each(_data,function(c,d){b.push(a(d))}),b}return _data},this.hasMatch=function(){return self._hasData()?(self.execute(),_data.length>0):!1},this.andNot=function(a,b,c){return _negate=!_negate,self.and(a,b,c)},this.orNot=function(a,b,c){return _negate=!_negate,self.or(a,b,c)},this.not=function(a,b,c){return self.andNot(a,b,c)},this.and=function(a,b,c){return _queuedOperator=" && ",void 0===a?self:self._repeatCommand(a,b,c)},this.or=function(a,b,c){return _queuedOperator=" || ",void 0===a?self:self._repeatCommand(a,b,c)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(a){return _negate=!_negate,self.is(a)},this.is=function(a){return self._append("this."+a),self._resetNegate(),self},this._compareValues=function(a,b,c,d,e){var f;f=_useProperties?"jQuery.jgrid.getAccessor(this,'"+b+"')":"this",void 0===c&&(c=null);var g=c,h=void 0===e.stype?"text":e.stype;if(null!==c)switch(h){case"int":case"integer":g=isNaN(Number(g))||""===g?"0":g,f="parseInt("+f+",10)",g="parseInt("+g+",10)";break;case"float":case"number":case"numeric":g=String(g).replace(_stripNum,""),g=isNaN(Number(g))||""===g?"0":g,f="parseFloat("+f+")",g="parseFloat("+g+")";break;case"date":case"datetime":g=String($.jgrid.parseDate(e.newfmt||"Y-m-d",g).getTime()),f='jQuery.jgrid.parseDate("'+e.srcfmt+'",'+f+").getTime()";break;default:f=self._getStr(f),g=self._getStr('"'+self._toStr(g)+'"')}return self._append(f+" "+d+" "+g),self._setCommand(a,b),self._resetNegate(),self},this.equals=function(a,b,c){return self._compareValues(self.equals,a,b,"==",c)},this.notEquals=function(a,b,c){return self._compareValues(self.equals,a,b,"!==",c)},this.isNull=function(a,b,c){return self._compareValues(self.equals,a,null,"===",c)},this.greater=function(a,b,c){return self._compareValues(self.greater,a,b,">",c)},this.less=function(a,b,c){return self._compareValues(self.less,a,b,"<",c)},this.greaterOrEquals=function(a,b,c){return self._compareValues(self.greaterOrEquals,a,b,">=",c)},this.lessOrEquals=function(a,b,c){return self._compareValues(self.lessOrEquals,a,b,"<=",c)},this.startsWith=function(a,b){var c=null==b?a:b,d=_trim?$.trim(c.toString()).length:c.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+".substr(0,"+d+") == "+self._getStr('"'+self._toStr(b)+'"')):(d=_trim?$.trim(b.toString()).length:b.toString().length,self._append(self._getStr("this")+".substr(0,"+d+") == "+self._getStr('"'+self._toStr(a)+'"'))),self._setCommand(self.startsWith,a),self._resetNegate(),self},this.endsWith=function(a,b){var c=null==b?a:b,d=_trim?$.trim(c.toString()).length:c.toString().length;return self._append(_useProperties?self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+".substr("+self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+".length-"+d+","+d+') == "'+self._toStr(b)+'"':self._getStr("this")+".substr("+self._getStr("this")+'.length-"'+self._toStr(a)+'".length,"'+self._toStr(a)+'".length) == "'+self._toStr(a)+'"'),self._setCommand(self.endsWith,a),self._resetNegate(),self},this.contains=function(a,b){return self._append(_useProperties?self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+'.indexOf("'+self._toStr(b)+'",0) > -1':self._getStr("this")+'.indexOf("'+self._toStr(a)+'",0) > -1'),self._setCommand(self.contains,a),self._resetNegate(),self},this.groupBy=function(a,b,c,d){return self._hasData()?self._getGroup(_data,a,b,c,d):null},this.orderBy=function(a,b,c,d){return b=null==b?"a":$.trim(b.toString().toLowerCase()),null==c&&(c="text"),null==d&&(d="Y-m-d"),("desc"===b||"descending"===b)&&(b="d"),("asc"===b||"ascending"===b)&&(b="a"),_sorting.push({by:a,dir:b,type:c,datefmt:d}),self},self};return new QueryObject(source,null)},getMethod:function(a,b){return this.getAccessor(a,b)},extend:function(a,b){$.extend(a,b)}})}),!function(a){"function"==typeof define&&define.amd?define("text!src/grid/grid.tpl",a):a()}(function(){"use strict";return $.jgrid=$.jgrid||{},$.jgrid.tpl='<div class="ui-jqgrid" id="{{id}}">\r\n	<div class="ui-jqgrid-view" id="gview_{{id}}">\r\n		{{#if caption}}<div class="ui-jqgrid-titlebar ui-helper-clearfix">\r\n			{{#if hidegrid}}\r\n			<a role="link" class="ui-jqgrid-titlebar-close HeaderButton">\r\n				<span class="ui-icon ui-icon-circle-triangle-n"></span>\r\n			</a>\r\n			{{/if}}\r\n			<span class="ui-jqgrid-title">{{caption}}</span>\r\n		</div>\r\n		{{/if}}{{#if topbar}}\r\n		<div class="ui-userdata ui-userdata-t" id="t_{{id}}"></div>\r\n		{{/if}}\r\n		<div class="ui-jqgrid-hdiv">\r\n			<div class="ui-jqgrid-hbox">\r\n				<table class="ui-jqgrid-htable" role="grid" aria-labelledby="{{id}}" cellspacing="0" cellpadding="0" border="0">\r\n					<thead>\r\n						<tr class="ui-jqgrid-labels" role="rowheader">\r\n							{{#colModel}}\r\n							<th id="{{../id}}_{{name}}" role="columnheader" class="ui-state-default ui-th-column" title="{{headertitle}}">\r\n								{{#if resizable}}\r\n								<span class="ui-jqgrid-resize" style="cursor: col-resize;">&nbsp;</span>\r\n								{{/if}}\r\n								<div id="jqgh_{{../id}}_{{name}}" class="{{#if ../isMSIE}}ui-th-div-ie{{/if}}">\r\n									{{#if cb}}\r\n									<input role="checkbox" id="cb_{{../../id}}" class="cbox" type="checkbox">\r\n									{{else}}{{label}}{{/if}}\r\n									<span class="s-ico" style="display:none">\r\n										<span sort="asc" class="ui-grid-ico-sort ui-icon-asc ui-state-disabled ui-icon ui-icon-triangle-1-n"></span>\r\n										<span sort="desc" class="ui-grid-ico-sort ui-icon-desc ui-state-disabled ui-icon ui-icon-triangle-1-s"></span>\r\n									</span>\r\n								</div>\r\n							</th>\r\n							{{/colModel}}\r\n						</tr>\r\n					</thead>\r\n				</table>\r\n			</div>\r\n		</div>\r\n		<div class="ui-jqgrid-bdiv" style="height: {{height}}px;">\r\n			<div style="position:relative;">\r\n				<div></div>\r\n				<table id="btable_{{id}}" tabindex="0" cellspacing="0" cellpadding="0" border="0" role="grid" aria-multiselectable="{{multiselect}}" aria-labelledby="{{id}}" class="ui-jqgrid-btable">\r\n					<tbody>\r\n						<tr class="jqgfirstrow" role="row" style="height:auto">\r\n							{{#colModel}}\r\n							<td role="gridcell" style="height:0.01px;"></td>\r\n							{{/colModel}}\r\n						</tr>\r\n					</tbody>\r\n				</table>\r\n			</div>\r\n		</div>\r\n		{{#if footerrow}}\r\n		<div class="ui-jqgrid-sdiv">\r\n			<div class="ui-jqgrid-hbox">\r\n				<table role="grid" class="ui-jqgrid-ftable" cellspacing="0" cellpadding="0" border="0">\r\n					<tbody>\r\n						<tr role="row" class="footrow">\r\n						</tr>\r\n					</tbody>\r\n				</table>\r\n			</div>\r\n		</div>\r\n		{{/if}}\r\n		{{#if bottombar}}\r\n		<div class="ui-userdata ui-userdata-tb" id="tb_{{id}}"></div>\r\n		{{/if}}\r\n	</div>\r\n	<div class="ui-jqgrid-resize-mark" id="rs_m{{id}}">&nbsp;</div>\r\n	{{#if pager}}\r\n	<div id="{{id}}_pager" class="ui-jqgrid-pager">\r\n		<div id="pg_{{id}}_pager" class="ui-pager-control" role="group">\r\n			<table cellspacing="0" cellpadding="0" border="0" class="ui-pg-table" style="width:100%;table-layout:fixed;height:100%;" role="row">\r\n				<tbody>\r\n					<tr>\r\n						<td id="{{id}}_pager_left" align="left"></td>\r\n						<td id="{{id}}_pager_center" align="center" style="white-space: pre;">\r\n							<table cellspacing="0" cellpadding="0" border="0" style="table-layout:auto;" class="ui-pg-table">\r\n								<tbody>\r\n									<tr>\r\n										<td id="first_{{id}}_pager" class="ui-pg-button" style="cursor: default;">\r\n											<span class="ui-icon ui-icon-seek-first"></span>\r\n										</td>\r\n										<td id="prev_{{id}}_pager" class="ui-pg-button" style="cursor: default;">\r\n											<span class="ui-icon ui-icon-seek-prev"></span>\r\n										</td>\r\n										<!-- <td class="ui-pg-button" style="width: 4px; cursor: default;">\r\n											<span class="ui-separator"></span>\r\n										</td> -->\r\n										<td class="ui-separator">\r\n											<input class="ui-pg-input" type="text" size="2" maxlength="7" value="0" role="textbox">\r\n										</td>\r\n										<!-- <td class="ui-pg-button" style="width:4px;">\r\n											<span class="ui-separator"></span>\r\n										</td> -->\r\n										<td id="next_{{id}}_pager" class="ui-pg-button">\r\n											<span class="ui-icon ui-icon-seek-next"></span>\r\n										</td>\r\n										<td id="last_{{id}}_pager" class="ui-pg-button">\r\n											<span class="ui-icon ui-icon-seek-end"></span>\r\n										</td>\r\n									</tr>\r\n								</tbody>\r\n							</table>\r\n						</td>\r\n						<td id="{{id}}_pager_right" align="right">\r\n							<div style="text-align:{{recordpos}}" class="ui-paging-info"></div>\r\n						</td>\r\n					</tr>\r\n				</tbody>\r\n			</table>\r\n		</div>\r\n	</div>\r\n	{{/if}}\r\n</div>',$.jgrid.tpl
}),!function(a){"function"==typeof define&&define.amd?define("fish.grid.formatter",a):a()}(function(){"use strict";$.fmatter={},$.extend($.fmatter,{isBoolean:function(a){return"boolean"==typeof a},isObject:function(a){return a&&("object"==typeof a||$.isFunction(a))||!1},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a&&isFinite(a)},isValue:function(a){return this.isObject(a)||this.isString(a)||this.isNumber(a)||this.isBoolean(a)},isEmpty:function(a){return!this.isString(a)&&this.isValue(a)?!1:this.isValue(a)?(a=$.trim(a).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===a):!0}}),$.fn.fmatter=function(a,b,c,d,e){var f=b;c=$.extend({},$.jgrid.formatter,c);try{f=$.fn.fmatter[a].call(this,b,c,d,e)}catch(g){}return f},$.fmatter.util={NumberFormat:function(a,b){if($.fmatter.isNumber(a)||(a*=1),$.fmatter.isNumber(a)){var c,d=0>a,e=String(a),f=b.decimalSeparator||".";if($.fmatter.isNumber(b.decimalPlaces)){var g=b.decimalPlaces,h=Math.pow(10,g);if(e=String(Math.round(a*h)/h),c=e.lastIndexOf("."),g>0)for(0>c?(e+=f,c=e.length-1):"."!==f&&(e=e.replace(".",f));e.length-1-c<g;)e+="0"}if(b.thousandsSeparator){var i=b.thousandsSeparator;c=e.lastIndexOf(f),c=c>-1?c:e.length;var j,k=e.substring(c),l=-1;for(j=c;j>0;j--)l++,l%3===0&&j!==c&&(!d||j>1)&&(k=i+k),k=e.charAt(j-1)+k;e=k}return e=b.prefix?b.prefix+e:e,e=b.suffix?e+b.suffix:e}return a}},$.fn.fmatter.defaultFormat=function(a,b){return $.fmatter.isValue(a)&&""!==a?a:b.defaultValue||"&#160;"},$.fn.fmatter.email=function(a,b){return $.fmatter.isEmpty(a)?$.fn.fmatter.defaultFormat(a,b):'<a href="mailto:'+a+'">'+a+"</a>"},$.fn.fmatter.checkbox=function(a,b){var c,d=$.extend({},b.checkbox);void 0!==b.colModel&&void 0!==b.colModel.formatoptions&&(d=$.extend({},d,b.colModel.formatoptions)),c=d.disabled===!0?'disabled="disabled"':"",($.fmatter.isEmpty(a)||void 0===a)&&(a=$.fn.fmatter.defaultFormat(a,d)),a=String(a),a=(a+"").toLowerCase();var e=a.search(/(false|f|0|no|n|off|undefined)/i)<0?" checked='checked' ":"";return'<input type="checkbox" '+e+' value="'+a+'" offval="no" '+c+"/>"},$.fn.fmatter.linkFunction=function(a,b){var c={cssp:"linkfunction"};if(void 0!==b.colModel&&void 0!==b.colModel.formatoptions&&(c=$.extend({},c,b.colModel.formatoptions)),$.fmatter.isEmpty(a))return $.fn.fmatter.defaultFormat(a,b);var d=c.cssp;if("string"==typeof d&&""!=$.trim(d))d="class="+d;else if(d){var e=[];for(var f in d)e.push(f+":"+d[f]);d="style="+e.join(",")}return"<a "+d+' href="javascript:'+c.action+'">'+a+"</a>"},$.fn.fmatter.integer=function(a,b){var c=$.extend({},b.integer);return void 0!==b.colModel&&void 0!==b.colModel.formatoptions&&(c=$.extend({},c,b.colModel.formatoptions)),$.fmatter.isEmpty(a)?c.defaultValue:$.fmatter.util.NumberFormat(a,c)},$.fn.fmatter.number=function(a,b){var c=$.extend({},b.number);return void 0!==b.colModel&&void 0!==b.colModel.formatoptions&&(c=$.extend({},c,b.colModel.formatoptions)),$.fmatter.isEmpty(a)?c.defaultValue:$.fmatter.util.NumberFormat(a,c)},$.fn.fmatter.currency=function(a,b){var c=$.extend({},b.currency);return void 0!==b.colModel&&void 0!==b.colModel.formatoptions&&(c=$.extend({},c,b.colModel.formatoptions)),$.fmatter.isEmpty(a)?c.defaultValue:$.fmatter.util.NumberFormat(a,c)},$.fn.fmatter.date=function(a,b,c,d){var e=$.extend({},b.date);return void 0!==b.colModel&&void 0!==b.colModel.formatoptions&&(e=$.extend({},e,b.colModel.formatoptions)),e.reformatAfterEdit||"edit"!==d?$.fmatter.isEmpty(a)?$.fn.fmatter.defaultFormat(a,b):$.jgrid.parseDate(e.srcformat,a,e.newformat,e):$.fn.fmatter.defaultFormat(a,b)},$.fn.fmatter.select=function(a,b){a=String(a);var c,d,e=!1,f=[];if(void 0!==b.colModel.formatoptions?(e=b.colModel.formatoptions.value,c=void 0===b.colModel.formatoptions.separator?":":b.colModel.formatoptions.separator,d=void 0===b.colModel.formatoptions.delimiter?";":b.colModel.formatoptions.delimiter):void 0!==b.colModel.editoptions&&(e=b.colModel.editoptions.value,c=void 0===b.colModel.editoptions.separator?":":b.colModel.editoptions.separator,d=void 0===b.colModel.editoptions.delimiter?";":b.colModel.editoptions.delimiter),e){var g,h=b.colModel.editoptions.multiple===!0?!0:!1,i=[];if(h&&(i=a.split(","),i=$.map(i,function(a){return $.trim(a)})),$.fmatter.isString(e)){var j,k=e.split(d),l=0;for(j=0;j<k.length;j++)if(g=k[j].split(c),g.length>2&&(g[1]=$.map(g,function(a,b){return b>0?a:void 0}).join(c)),h)$.inArray(g[0],i)>-1&&(f[l]=g[1],l++);else if($.trim(g[0])===$.trim(a)){f[0]=g[1];break}}else $.fmatter.isObject(e)&&(h?f=$.map(i,function(a){return e[a]}):f[0]=e[a]||"")}return a=f.join(", "),""===a?$.fn.fmatter.defaultFormat(a,b):a},$.fn.fmatter.rowactions=function(a){var b=$(this).closest("tr.jqgrow"),c=b.attr("id"),d=$(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),e=$("#"+d),f=e[0],g=f.p,h=g.colModel[$.jgrid.getCellIndex(this)],i=h.frozen?$("tr#"+c+" td:eq("+$.jgrid.getCellIndex(this)+") > div",e):$(this).parent(),j={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null,restoreAfterError:!0,delOptions:{}},k=function(a,b){$.isFunction(j.afterSave)&&j.afterSave.call(f,a,b),i.find("div.ui-inline-edit,div.ui-inline-del").show(),i.find("div.ui-inline-save,div.ui-inline-cancel").hide()},l=function(a){$.isFunction(j.afterRestore)&&j.afterRestore.call(f,a),i.find("div.ui-inline-edit,div.ui-inline-del").show(),i.find("div.ui-inline-save,div.ui-inline-cancel").hide()};void 0!==h.formatoptions&&(j=$.extend(j,h.formatoptions)),void 0!==g.delOptions&&(j.delOptions=g.delOptions),b.hasClass("jqgrid-new-row")&&(j.extraparam[g.prmNames.oper]=g.prmNames.addoper);var m={keys:j.keys,oneditfunc:j.onEdit,successfunc:j.onSuccess,url:j.url,extraparam:j.extraparam,aftersavefunc:k,errorfunc:j.onError,afterrestorefunc:l,restoreAfterError:j.restoreAfterError};switch(a){case"edit":e.jqGrid("editRow",c,m),i.find("div.ui-inline-edit,div.ui-inline-del").hide(),i.find("div.ui-inline-save,div.ui-inline-cancel").show(),e._trigger("afterGridComplete");break;case"save":e.jqGrid("saveRow",c,m)&&(i.find("div.ui-inline-edit,div.ui-inline-del").show(),i.find("div.ui-inline-save,div.ui-inline-cancel").hide(),e._trigger("afterGridComplete"));break;case"cancel":e.jqGrid("restoreRow",c,l),i.find("div.ui-inline-edit,div.ui-inline-del").show(),i.find("div.ui-inline-save,div.ui-inline-cancel").hide(),e._trigger("afterGridComplete");break;case"del":e.jqGrid("delGridRow",c,j.delOptions)}},$.fn.fmatter.actions=function(a,b){var c,d={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},e=b.rowId,f="";return void 0!==b.colModel.formatoptions&&(d=$.extend(d,b.colModel.formatoptions)),void 0===e||$.fmatter.isEmpty(e)?"":(d.editbutton&&(c="id='jEditButton_"+e+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover') ",f+="<div title='"+$.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+c+"><span class='ui-icon ui-icon-pencil'></span></div>"),d.delbutton&&(c="id='jDeleteButton_"+e+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",f+="<div title='"+$.jgrid.nav.deltitle+"' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' "+c+"><span class='ui-icon ui-icon-trash'></span></div>"),c="id='jSaveButton_"+e+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",f+="<div title='"+$.jgrid.edit.bSubmit+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+c+"><span class='ui-icon ui-icon-disk'></span></div>",c="id='jCancelButton_"+e+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",f+="<div title='"+$.jgrid.edit.bCancel+"' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel' "+c+"><span class='ui-icon ui-icon-cancel'></span></div>","<div style='margin-left:8px;'>"+f+"</div>")},$.unformat=function(a,b,c,d){var e,f,g=b.colModel.formatter,h=b.colModel.formatoptions||{},i=/([\.\*\_\'\(\)\{\}\+\?\\])/g,j=b.colModel.unformat||$.fn.fmatter[g]&&$.fn.fmatter[g].unformat;if(void 0!==j&&$.isFunction(j))e=j.call(this,$(a).text(),b,a);else if(void 0!==g&&$.fmatter.isString(g)){var k,l=$.jgrid.formatter||{};switch(g){case"integer":h=$.extend({},l.integer,h),f=h.thousandsSeparator.replace(i,"\\$1"),k=new RegExp(f,"g"),e=$(a).text().replace(k,"");break;case"number":h=$.extend({},l.number,h),f=h.thousandsSeparator.replace(i,"\\$1"),k=new RegExp(f,"g"),e=$(a).text().replace(k,"").replace(h.decimalSeparator,".");break;case"currency":h=$.extend({},l.currency,h),f=h.thousandsSeparator.replace(i,"\\$1"),k=new RegExp(f,"g"),e=$(a).text(),h.prefix&&h.prefix.length&&(e=e.substr(h.prefix.length)),h.suffix&&h.suffix.length&&(e=e.substr(0,e.length-h.suffix.length)),e=e.replace(k,"").replace(h.decimalSeparator,".");break;case"checkbox":var m=b.colModel.editoptions?b.colModel.editoptions.value.split(":"):["Yes","No"];e=$("input",a).is(":checked")?m[0]:m[1];break;case"select":e=$.unformat.select(a,b,c,d);break;case"actions":return"";default:e=$(a).text()}}return void 0!==e?e:d===!0?$(a).text():$.jgrid.htmlDecode($(a).html())},$.unformat.select=function(a,b,c,d){var e=[],f=$(a).text();if(d===!0)return f;var g=$.extend({},void 0!==b.colModel.formatoptions?b.colModel.formatoptions:b.colModel.editoptions),h=void 0===g.separator?":":g.separator,i=void 0===g.delimiter?";":g.delimiter;if(g.value){var j,k=g.value,l=g.multiple===!0?!0:!1,m=[];if(l&&(m=f.split(","),m=$.map(m,function(a){return $.trim(a)})),$.fmatter.isString(k)){var n,o=k.split(i),p=0;for(n=0;n<o.length;n++)if(j=o[n].split(h),j.length>2&&(j[1]=$.map(j,function(a,b){return b>0?a:void 0}).join(h)),l)$.inArray(j[1],m)>-1&&(e[p]=j[0],p++);else if($.trim(j[1])===$.trim(f)){e[0]=j[0];break}}else($.fmatter.isObject(k)||$.isArray(k))&&(l||(m[0]=f),e=$.map(m,function(a){var b;return $.each(k,function(c,d){return d===a?(b=c,!1):void 0}),void 0!==b?b:void 0}));return e.join(", ")}return f||""},$.unformat.date=function(a,b){var c=$.jgrid.formatter.date||{};return void 0!==b.formatoptions&&(c=$.extend({},c,b.formatoptions)),$.fmatter.isEmpty(a)?$.fn.fmatter.defaultFormat(a,b):$.jgrid.parseDate(c.newformat,a,c.srcformat,c)}}),!function(a){"function"==typeof define&&define.amd?define("fish.grid.base",a):a()}(function(){"use strict";var a=99999;$.widget("ui.grid",{options:{minHeight:150,page:1,rowNum:a,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],sortorder:"asc",sortname:"",datatype:"local",altRows:!1,altclass:"ui-priority-secondary",selrow:null,selarrrow:[],savedRow:[],shrinkToFit:!0,jsonReader:{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"_id_",userdata:"userdata"},localReader:{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"_id_",userdata:"userdata"},reccount:0,lastpage:0,lastsort:0,viewrecords:!0,multiselect:!1,multikey:!1,search:!1,caption:"",hidegrid:!1,hiddengrid:!1,userData:{},treeGrid:!1,treeReader:{},treeANode:-1,ExpandColumn:null,ExpandColClick:!1,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,nv:0,toolbar:[!1,""],multiboxonly:!1,deselectAfterSort:!0,scrollrows:!0,autowidth:!1,width:"100%",scrollOffset:18,cellLayout:5,multiselectWidth:20,gridview:!0,rownumWidth:25,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,resizeclass:"",autoencode:!1,remapColumns:[],headertitles:!0,data:[],_index:{},ignoreCase:!1,cmTemplate:{},idPrefix:"",multiSort:!1,cellAutoSave:!0,leafChange:!1,checkParent:!1,checkChildren:!1,treeDataFormat:"child",showMask:!1,fixWidth:!1},_getCreateOptions:function(){return $.jgrid.defaults},_create:function(){var b,c=this,d=this.element[0],e=this.element,f=this.options;c.p=f,d.id||e.uniqueId(),c.p.id=$.jgrid.jqID(d.id);var g={headers:[],cols:[],footers:[],dragStart:function(a,b,d){var e=$(c.grid.hDiv).offset().left;this.resizing={idx:a,startX:b.clientX-e,sOL:b.clientX-e},this.hDiv.style.cursor="col-resize",this.curGbox=$("#rs_m"+c.p.id,c.element),this.curGbox.css({display:"block",left:b.clientX-e,top:d[1],height:d[2]}),c._trigger("resizeStart",[b,a]),document.onselectstart=function(){return!1}},dragMove:function(a){if(this.resizing){var b,d,e=$(c.grid.hDiv).offset().left,g=a.clientX-e-this.resizing.startX,h=this.headers[this.resizing.idx],i=h.width+g;i>33&&(this.curGbox.css({left:this.resizing.sOL+g}),f.forceFit===!0?(b=this.headers[this.resizing.idx+f.nv],d=b.width-g,d>33&&(h.newWidth=i,b.newWidth=d)):(this.newWidth=f.tblwidth+g,h.newWidth=i))}},dragEnd:function(){if(this.hDiv.style.cursor="default",this.resizing){var a=this.resizing.idx,b=this.headers[a].newWidth||this.headers[a].width;b=parseInt(b,10),this.resizing=!1,$("#rs_m"+c.p.id).css("display","none"),f.colModel[a].width=b,this.headers[a].width=b,this.headers[a].el.style.width=b+"px",this.cols[a].style.width=b+"px",this.footers.length>0&&(this.footers[a].style.width=b+"px"),f.forceFit===!0?(b=this.headers[a+f.nv].newWidth||this.headers[a+f.nv].width,this.headers[a+f.nv].width=b,this.headers[a+f.nv].el.style.width=b+"px",this.cols[a+f.nv].style.width=b+"px",this.footers.length>0&&(this.footers[a+f.nv].style.width=b+"px"),f.colModel[a+f.nv].width=b):(f.tblwidth=this.newWidth||f.tblwidth,$("table:first",this.bDiv).css("width",f.tblwidth+"px"),$("table:first",this.hDiv).css("width",f.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,f.footerrow&&($("table:first",this.sDiv).css("width",f.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft)),c._trigger("resizeStop",[b,a])}this.curGbox=null,document.onselectstart=function(){return!0}},populateVisible:function(){var a=$(g.bDiv).height();if(a){var b,d,e=$("table:first",g.bDiv);if(e[0].rows.length)try{b=e[0].rows[1],d=b?$(b).outerHeight()||g.prevRowHeight:g.prevRowHeight}catch(h){d=g.prevRowHeight}if(d){g.prevRowHeight=d;var i,j,k,l=f.rowNum,m=g.scrollTop=g.bDiv.scrollTop,n=Math.round(e.position().top)-m,o=n+e.height(),p=d*l;if(a>o&&0>=n&&(void 0===f.lastpage||parseInt((o+m+p-1)/p,10)<=f.lastpage)&&(j=parseInt((a-o+p-1)/p,10),o>=0||2>j||f.scroll===!0?(i=Math.round((o+m)/p)+1,n=-1):n=1),n>0&&(i=parseInt(m/p,10)+1,j=parseInt((m+a)/p,10)+2-i,k=!0),j){if(f.lastpage&&(i>f.lastpage||1===f.lastpage||i===f.page&&i===f.lastpage))return;f.page=i,k&&(g.selectionPreserver(e[0]),c.emptyRows(!1,!1)),c.populate(j)}}}},scrollGrid:function(a){g.hDiv.scrollLeft=g.bDiv.scrollLeft,f.footerrow&&(g.sDiv.scrollLeft=g.bDiv.scrollLeft),a&&a.stopPropagation()},selectionPreserver:function(a){var b=a.p,c=b.selrow,d=b.selarrrow?$.makeArray(b.selarrrow):null,e=a.grid.bDiv.scrollLeft,f=function(){var g;if(b.selrow=null,b.selarrrow=[],b.multiselect&&d&&d.length>0)for(g=0;g<d.length;g++)d[g]!==c&&$(a.element).jqGrid("setSelection",d[g],!1,null);c&&$(a.element).jqGrid("setSelection",c,!1,null),a.grid.bDiv.scrollLeft=e,$(a).unbind(".selectionPreserver",f)};a._bind("gridComplete.selectionPreserver",f)}};c.grid=g;var h=$.browser.msie;f.height||(f.height=e.height()||e.parent().innerHeight(),f.height<f.minHeight&&(f.height=f.minHeight)),f.useProp=!!$.fn.prop;var i;for(i=0;i<f.colModel.length;i++)f.colModel[i].label||(f.colModel[i].label=f.colModel[i].name),f.colModel[i].headertitle||f.headertitles&&(f.colModel[i].headertitle=$.jgrid.stripHtml(f.colModel[i].label)),void 0===f.colModel[i].resizable&&(f.colModel[i].resizable=!0),f.treeGrid&&(f.colModel[i].sortable=!1);f.ExpandColumn=f.expandColumn||f.ExpandColumn,f.ExpandColClick=f.expandColClick||f.ExpandColClick,f.multiselect&&f.colModel.unshift({cb:!0,name:"cb",width:$.jgrid.cell_width?f.multiselectWidth+f.cellLayout:f.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0}),f.rownumbers&&f.colModel.unshift({name:"rn",width:f.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0}),f.sortableCols===!0?f.sortable=!0:"";var j={};$.extend(j,f),j.id=c.p.id,j.multiselect=!!f.multiselect,j.isMSIE=h,f.toolbar[0]&&("top"===f.toolbar[1]?j.topbar=!0:"bottom"===f.toolbar[1]?j.bottombar=!0:"both"===f.toolbar[1]&&(j.bottombar=!0,j.topbar=!0));var k=$.jgrid.tpl.replace(/\>\s+\</g,"><").replace(/\>\s+\{\{/g,">{{").replace(/\}\}\s+\</g,"}}<"),l=Handlebars.compile(k)(j),m=$(l);e.addClass(m[0].className).append(m.html()),b=$("#btable_"+d.id),this.$tb=b,f.height=f.height-(e.outerHeight()-f.height);var n=$(".ui-jqgrid-bdiv",e),o=isNaN(f.height)?f.height:f.height+"px";for(n.css({height:o}),f.pager&&(f.pager="#"+c.p.id+"_pager",f.rowNum=f.rowNum===a?20:f.rowNum),-1===$.inArray(c.p.multikey,["shiftKey","altKey","ctrlKey"])&&(c.p.multikey=!1),c.p.keyIndex=!1,c.p.keyName=!1,i=0;i<c.p.colModel.length;i++)c.p.colModel[i]=$.extend(!0,{},c.p.cmTemplate,c.p.colModel[i].template||{},c.p.colModel[i]),c.p.keyIndex===!1&&c.p.colModel[i].key===!0&&(c.p.keyIndex=i,c.p.keyName=c.p.colModel[i].name);if(c.p.sortorder=c.p.sortorder.toLowerCase(),$.jgrid.cell_width=$.jgrid.cellWidth(),c.p.treeGrid===!0){if(c.p.keyName===!1)return void alert("treeGrid因为父子节点的关联，需要指定关联的列key=true");c.p.oldTreeData=c.p.data,"child"===c.p.treeDataFormat?c.p.data=$.jgrid.childrenDataFormat(c.p.data,c.p.keyName):"line"===c.p.treeDataFormat&&(c.p.data=$.jgrid.treeDataFormat(c.p.data));try{$(c.element).jqGrid("setTreeGrid")}catch(_){}}c.p.keyName===!1&&(c.p.keyName="json"===c.p.datatype?c.p.jsonReader.id:c.p.localReader.id);var p,q,r,s,t,u=[],v=[],w=[];if(c.p.shrinkToFit===!0&&c.p.forceFit===!0)for(i=c.p.colModel.length-1;i>=0;i--)if(!c.p.colModel[i].hidden){c.p.colModel[i].resizable=!1;break}if(c.p.multiSort)for(u=c.p.sortname.split(","),i=0;i<u.length;i++)w=$.trim(u[i]).split(" "),u[i]=$.trim(w[0]),v[i]=w[1]?$.trim(w[1]):c.p.sortorder||"asc";for(i=0;i<c.p.colModel.length;i++)c.p.colModel[i].width=c.p.colModel[i].width?parseInt(c.p.colModel[i].width,10):150,"boolean"!=typeof c.p.colModel[i].title&&(c.p.colModel[i].title=!0),c.p.colModel[i].lso="",p=c.p.colModel[i].index||c.p.colModel[i].name,p===c.p.sortname&&(c.p.lastsort=i),c.p.multiSort&&(w=$.inArray(p,u),-1!==w&&(c.p.colModel[i].lso=v[w]));if($("thead tr:first th",b).hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}),c.p.multiselect){var x,y=[];$("#cb_"+c.p.id,e).bind("click",function(){c.p.selarrrow=[];var a=c.p.frozenColumns===!0?c.p.id+"_frozen":"";this.checked?($(c.rows).each(function(b){b>0&&($(this).hasClass("jqgroup")||$(this).hasClass("ui-state-disabled")||($("#jqg_"+c.p.id+"_"+this.id)[c.p.useProp?"prop":"attr"]("checked",!0),$(this).addClass("ui-state-highlight").attr("aria-selected","true"),c.p.selarrrow.push(this.id),c.p.selrow=this.id,a&&($("#jqg_"+c.p.id+"_"+this.id,c.grid.fbDiv)[c.p.useProp?"prop":"attr"]("checked",!0),$("#"+this.id,c.grid.fbDiv).addClass("ui-state-highlight"))))}),x=!0,y=[]):($(c.rows).each(function(b){b>0&&($(this).hasClass("ui-state-disabled")||($("#jqg_"+c.p.id+"_"+this.id)[c.p.useProp?"prop":"attr"]("checked",!1),$(this).removeClass("ui-state-highlight").attr("aria-selected","false"),y.push(this.id),a&&($("#jqg_"+c.p.id+"_"+this.id,c.grid.fbDiv)[c.p.useProp?"prop":"attr"]("checked",!1),$("#"+this.id,c.grid.fbDiv).removeClass("ui-state-highlight"))))}),c.p.selrow=null,x=!1),c._trigger("onSelectAll",[x?c.p.selarrrow:y,x])})}if(c.p.autowidth===!0||"100%"===c.p.width){c.element.is("table")&&c.element.css("width","100%"),c.p.autowidth=!0;var z=e.innerWidth();c.p.width=z>0?z:"nw"}c.setColWidth(),$("#gview_"+c.p.id).css("width",g.width+"px"),e.css("width",g.width+"px");var A="",B=$("thead:first",e),C=$("tr:first",B),D=$("tbody tr:first",b),E=null;if(c.p.disableClick=!1,$("th",C).each(function(a){E=D.find("td:eq("+a+")"),q=c.p.colModel[a].width,"undefined"==typeof c.p.colModel[a].resizable&&(c.p.colModel[a].resizable=!0),c.p.colModel[a].resizable&&$(this).addClass(c.p.resizeclass),$(this).css("width",q+"px"),E.css("width",q+"px"),c.p.colModel[a].hidden&&($(this).css("display","none"),E.css("display","none")),g.headers[a]={width:q,el:this},r=c.p.colModel[a].sortable,"boolean"!=typeof r&&(c.p.colModel[a].sortable=!0,r=!0);var b=c.p.colModel[a].name;"cb"!==b&&"rn"!==b&&$(">div",this).addClass("ui-jqgrid-sortable"),r&&(c.p.multiSort?c.p.colModel[a].lso&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+c.p.colModel[a].lso,this).removeClass("ui-state-disabled")):a===c.p.lastsort&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+c.p.sortorder,this).removeClass("ui-state-disabled"))),c.p.footerrow&&(A+="<td role='gridcell' "+c.formatCol(a,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(a){if(1===$(a.target).closest("th>span.ui-jqgrid-resize").length){var b=c.getColumnHeaderIndex(this);return c.p.forceFit===!0&&(c.p.nv=c.nextVisible(b)),g.dragStart(b,a,c.getOffset(b)),!1}}).click(function(a){if(c.p.disableClick)return c.p.disableClick=!1,!1;var b,d,e="th>div.ui-jqgrid-sortable",f=$(a.target).closest(e);if(1===f.length){var g;if(c.p.frozenColumns){var h=$(this)[0].id.substring(c.p.id.length+1);$(c.p.colModel).each(function(a){return this.name===h?(g=a,!1):void 0})}else g=c.getColumnHeaderIndex(this);return null!=g&&c.sortData($("div",this)[0].id,g,b,d,this),!1}}),c.p.sortable&&$.fn.sortable)try{$(c.element).jqGrid("sortableColumns",C)}catch(F){}var G=c.p.caption&&c.p.hiddengrid===!0?!0:!1;$(".ui-jqgrid-htable",e).css({width:c.p.tblwidth+"px"});var H=$(".ui-jqgrid-hdiv",e);g.hDiv=H[0],H.css({width:g.width+"px"}),G&&H.hide(),c.p.pager&&($(c.p.pager).css({width:g.width+"px"}),G&&$(c.p.pager).hide(),c.setPager(c.p.pager,"")),c.p.cellEdit===!1&&c.p.hoverrows===!0&&$(c).bind("mouseover",function(a){t=$(a.target).closest("tr.jqgrow"),$(t).addClass("ui-state-hover")}).bind("mouseout",function(a){t=$(a.target).closest("tr.jqgrow"),$(t).removeClass("ui-state-hover")});var I,J,K;b.click(function(a){if(s=a.target,t=$(s,c.rows).closest("tr.jqgrow"),0===$(t).length||t[0].className.indexOf("ui-state-disabled")>-1||($(s,c.$tb).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!=="btable_"+c.p.id)return this;var b=$(s).hasClass("cbox");if(!b){var d=$(s).children("input:first");b=$(s).children("input:first").hasClass("cbox"),d.attr("disabled")||d[c.p.useProp?"prop":"attr"]("checked",!d.is(":checked"))}var e=c._trigger("beforeSelectRow",[t[0].id,a]);if("A"!==s.tagName&&("INPUT"!==s.tagName&&"TEXTAREA"!==s.tagName&&"OPTION"!==s.tagName&&"SELECT"!==s.tagName||b)&&e!==!1)if(I=t[0].id,J=$.jgrid.getCellIndex(s),K=$(s).closest("td,th").html(),c._trigger("onCellSelect",[I,J,K,a]),c.p.cellEdit===!0)if(c.p.multiselect&&b)$(c.element).jqGrid("setSelection",I,!0,a);else{I=t[0].rowIndex;try{$(c.element).jqGrid("editCell",I,J,!0)}catch(_){}}else if(c.p.multikey)a[c.p.multikey]?$(c.element).jqGrid("setSelection",I,!0,a):c.p.multiselect&&b&&(b=$("#jqg_"+c.p.id+"_"+I).is(":checked"),$("#jqg_"+c.p.id+"_"+I)[c.p.useProp?"prop":"attr"]("checked",!b));else if(c.p.multiselect&&c.p.multiboxonly)if(b)$(c.element).jqGrid("setSelection",I,!0,a);else{var f=c.p.frozenColumns?c.p.id+"_frozen":"";$(c.p.selarrrow).each(function(a,b){var d=$(c.element).jqGrid("getGridRowById",b);$(d).removeClass("ui-state-highlight"),$("#jqg_"+c.p.id+"_"+b)[c.p.useProp?"prop":"attr"]("checked",!1),f&&($("#"+b,"#"+f).removeClass("ui-state-highlight"),$("#jqg_"+c.p.id+"_"+b,"#"+f)[c.p.useProp?"prop":"attr"]("checked",!1))}),c.p.selarrrow=[],$(c.element).jqGrid("setSelection",I,!0,a)}else $(c.element).jqGrid("setSelection",I,!0,a)}).dblclick(function(a){s=a.target,t=$(s,c.rows).closest("tr.jqgrow"),0!==$(t).length&&(I=t[0].rowIndex,J=$.jgrid.getCellIndex(s),c._trigger("onDblClickRow",[$(t).attr("id"),I,J,a]))}).bind("contextmenu",function(a){s=a.target,t=$(s,c.rows).closest("tr.jqgrow"),0!==$(t).length&&(c.p.multiselect||$(c.element).jqGrid("setSelection",t[0].id,!0,a),I=t[0].rowIndex,J=$.jgrid.getCellIndex(s),c._trigger("onRightClickRow",[$(t).attr("id"),I,J,a]))}),e.bind("reloadGrid",function(a,b){if(c.p.treeGrid===!0&&(c.p.oldTreeData=c.p.data,"child"===c.p.treeDataFormat?c.p.data=$.jgrid.childrenDataFormat(c.p.data,c.p.keyName):"line"===c.p.treeDataFormat&&(c.p.data=$.jgrid.treeDataFormat(c.p.data))),b&&b.current&&c.grid.selectionPreserver(c),c.p.treeGrid||(c.p.selrow=null,c.p.multiselect&&(c.p.selarrrow=[],c.setHeadCheckBox(!1)),c.p.savedRow=[]),b&&b.page){var d=b.page;d>c.p.lastpage&&(d=c.p.lastpage),1>d&&(d=1),c.p.page=d,c.grid.bDiv.scrollTop=c.grid.prevRowHeight?(d-1)*c.grid.prevRowHeight*c.p.rowNum:0}return c.populate(),!1}),h&&"auto"===String(c.p.height).toLowerCase()&&(c.p.height="100%"),g.bDiv=n[0],n.css({width:g.width+"px"}).scroll(g.scrollGrid),$("table:first",n).css({width:c.p.tblwidth+"px"}),$(".ui-jqgrid-btable , .ui-jqgrid-htable",e).css("table-layout","fixed"),$.support.tbody||2===$("tbody",b).length&&$("tbody:gt(0)",b).remove(),c.p.multikey&&($.browser.msie?n.bind("selectstart",function(){return!1}):n.bind("mousedown",function(){return!1})),G&&n.hide(),c.p.toolbar[0]&&G&&$(".ui-userdata",e).hide(),c.p.toppager&&(c.p.toppager=c.p.id+"_toppager",g.topDiv=$("<div id='"+c.p.toppager+"'></div>")[0],c.p.toppager="#"+c.p.toppager,$(g.topDiv).addClass("ui-jqgrid-toppager").width(g.width).insertBefore(g.hDiv),c.setPager(c.p.toppager,"_t")),c.p.footerrow&&(g.sDiv=$(".ui-jqgrid-sdiv",e)[0],$(g.sDiv).width(g.width-2),$("table",g.sDiv).width(c.p.tblwidth),$(".footrow",g.sDiv).html(A),g.footers=$(".ui-jqgrid-ftable",g.sDiv)[0].rows[0].cells,$(g.footers[0]).width($(g.footers[0]).width()-6),$(g.footers[1]).width($(g.footers[1]).width()-3),c.p.rownumbers&&(g.footers[0].className="jqgrid-rownum"),G&&$(g.sDiv).hide());if(c.p.caption){var L=$(".ui-jqgrid-titlebar",e);g.cDiv=L[0],$("a",L).hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).css("right","0px");var M=c.p.datatype;c.p.hidegrid===!0&&($(".ui-jqgrid-titlebar-close",g.cDiv).click(function(a){var b,d=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv ,.ui-userdata",e=this;return b=$(d,"#gview_"+c.p.id).length,"visible"===c.p.gridstate?$(d,c.element).slideUp("fast",function(){b--,0===b&&($("span",e).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),c.p.gridstate="hidden",$(c.element).hasClass("ui-resizable")&&$(".ui-resizable-handle",c.element).hide(),G||c._trigger("onHeaderClick",[c.p.gridstate,a]))}):"hidden"===c.p.gridstate&&$(d,c.element).slideDown("fast",function(){b--,0===b&&($("span",e).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),G&&(c.p.datatype=M,c.populate(),G=!1),c.p.gridstate="visible",$(c.element).hasClass("ui-resizable")&&$(".ui-resizable-handle",c.element).show(),G||c._trigger("onHeaderClick",[c.p.gridstate,a]))}),!1}),G&&(c.p.datatype="local",$(".ui-jqgrid-titlebar-close",g.cDiv).trigger("click")))}$(g.hDiv).mousemove(function(a){return g.resizing?(g.dragMove(a),!1):void 0}),$(".ui-jqgrid-labels",g.hDiv).bind("selectstart",function(){return!1}),$(document).bind("mouseup.jqGrid"+c.p.id,function(){return g.resizing?(g.dragEnd(),!1):!0}),c.rows=b[0].rows,c.grid.cols=c.rows[0].cells,c._trigger("onInitGrid"),c.populate(),c.p.hiddengrid=!1,c.bindKeys()},_trigger:function(a,b){var c=this,d=c.p[a],e=this.element.triggerHandler(("grid"+a).toLowerCase(),b);return!($.isFunction(d)&&d.apply(c,b||[])===!1||e===!1)},_bind:function(a,b){return a="grid"+a.toLowerCase(),this.element.bind(a,b)},intNum:function(a,b){return a=parseInt(a,10),isNaN(a)?b||0:a},formatCol:function(a,b,c,d,e,f){var g,h=this,i=h.p.colModel[a],j=i.align,k='style="',l=i.classes,m=i.name,n=[];return j&&(k+="text-align:"+j+";"),i.hidden===!0&&(k+="display:none;"),0===b?k+="width: "+h.grid.headers[a].width+"px;":i.cellattr&&$.isFunction(i.cellattr)&&(g=i.cellattr.call(h,e,c,d,i,f),g&&"string"==typeof g&&(g=g.replace(/style/i,"style").replace(/title/i,"title"),g.indexOf("title")>-1&&(i.title=!1),g.indexOf("class")>-1&&(l=void 0),n=g.replace("-style","-sti").split(/style/),2===n.length?(n[1]=$.trim(n[1].replace("-sti","-style").replace("=","")),(0===n[1].indexOf("'")||0===n[1].indexOf('"'))&&(n[1]=n[1].substring(1)),k+=n[1].replace(/'/gi,'"')):k+='"')),n.length||(n[0]="",k+='"'),k+=(void 0!==l?' class="'+l+'"':"")+(i.title&&c?' title="'+$.jgrid.stripHtml(c)+'"':""),k+=' aria-describedby="'+h.p.id+"_"+m+'"',k+n[0]},cellVal:function(a){var b=this;return null==a||""===a?"&#160;":b.p.autoencode?$.jgrid.htmlEncode(a):String(a)},formatter:function(a,b,c,d,e){var f,g=this,h=g.p.colModel[c];if(void 0!==h.formatter){a=""!==String(g.p.idPrefix)?$.jgrid.stripPref(g.p.idPrefix,a):a;var i={rowId:a,colModel:h,gid:g.p.id,pos:c};f=$.isFunction(h.formatter)?h.formatter.call(g,b,i,d,e):$.fmatter?$.fn.fmatter.call(g,h.formatter,b,i,d,e):g.cellVal(b)}else f=g.cellVal(b);return f},addCell:function(a,b,c,d,e,f){var g,h,i=this;return g=i.formatter(a,b,c,e,"add"),h=i.formatCol(c,d,g,e,a,f),'<td role="gridcell" '+h+">"+g+"</td>"},addMulti:function(a,b,c,d){var e=this,f='<input role="checkbox" type="checkbox" id="jqg_'+e.p.id+"_"+a+'" class="cbox" name="jqg_'+e.p.id+"_"+a+'"'+(d?'checked="checked"':"")+"/>",g=e.formatCol(b,c,"",null,a,!0);return'<td role="gridcell" '+g+">"+f+"</td>"},addRowNum:function(a,b,c,d){var e=this,f=(parseInt(c,10)-1)*parseInt(d,10)+1+b,g=e.formatCol(a,b,f,null,b,!0);return'<td role="gridcell" class="jqgrid-rownum" '+g+">"+f+"</td>"},reader:function(){var a,b,c=this,d=[],e=0;for(b=0;b<c.p.colModel.length;b++)a=c.p.colModel[b],"cb"!==a.name&&"rn"!==a.name&&(d[e]=a.name,e++);return d},orderedCols:function(a){var b=this,c=b.p.remapColumns;return c&&c.length||(c=$.map(b.p.colModel,function(a,b){return b})),a&&(c=$.map(c,function(b){return a>b?null:b-a})),c},emptyRows:function(){var a;this.p.deepempty?$(this.rows).slice(1).remove():(a=this.rows.length>0?this.rows[0]:null,$(this.$tb[0].children[0]).empty().append(a))},refreshIndex:function(){var a,b,c,d=this,e=d.p.data.length;for(a=d.p.keyName,b=0;e>b;b++)c=$.jgrid.getAccessor(d.p.data[b],a),void 0===c&&(c=$.jgrid.randId(),d.p.data[b][a]=c),d.p._index[c]=b},constructTr:function(a,b,c,d,e,f){var g,h=this,i="-1",j="",k=b?"display:none;":"",l="jqgrow"+(c?" "+c:"")+(f?" ui-state-highlight":""),m=h._trigger("rowAttr",[d,e,a]);if("object"!=typeof m&&(m=$.isFunction(h.p.rowattr)?h.p.rowattr.call(h,d,e,a):{}),!$.isEmptyObject(m)){m.hasOwnProperty("id")&&(a=m.id,delete m.id),m.hasOwnProperty("tabindex")&&(i=m.tabindex,delete m.tabindex),m.hasOwnProperty("style")&&(k+=m.style,delete m.style),m.hasOwnProperty("class")&&(l+=" "+m["class"],delete m["class"]);try{delete m.role}catch(n){}for(g in m)m.hasOwnProperty(g)&&(j+=" "+g+"="+m[g])}return'<tr role="row" id="'+a+'" tabindex="'+i+'" class="'+l+'"'+(""===k?"":' style="'+k+'"')+j+">"},addJSONData:function(a,b,c,d,e){var f=this,g=new Date;if(a){-1===f.p.treeANode?(f.emptyRows(!1,!0),c=1):c=c>1?c:1;var h,i,j=f.p.keyName;"json"===f.p.datatype?(f.p.data=[],f.p._index={},h=f.p.jsonReader,i="json"):(h=f.p.localReader,i="local"),f.p.reccount=0;var k,l,m,n,o,p,q,r,s,t,u,v=0,w=[],x=f.p.multiselect?1:0,y=f.p.rownumbers===!0?1:0,z=f.orderedCols(x+y),A=f.reader(i),B={},C=[],D=f.p.altRows===!0?f.p.altclass:"";f.p.page=f.intNum($.jgrid.getAccessor(a,h.page),f.p.page),f.p.lastpage=f.intNum($.jgrid.getAccessor(a,h.total),1),f.p.records=f.intNum($.jgrid.getAccessor(a,h.records)),f.p.userData=$.jgrid.getAccessor(a,h.userdata)||{},r=f.p.keyName,h.repeatitems||(w=A,w.length>0&&!isNaN(r)&&(r=f.p.keyName)),q=$.jgrid.getAccessor(a,h.root),q||(q=[]),p=q.length,l=0,p>0&&f.p.page<=0&&(f.p.page=1);var E,F,G=parseInt(f.p.rowNum,10),H=!1;e&&(G*=e+1),"local"!==f.p.datatype||f.p.deselectAfterSort||(H=!0);
for(var I=!1;p>l;){n=q[l],t=$.jgrid.getAccessor(n,r),void 0===t&&(t=$.jgrid.randId()),t=f.p.idPrefix+t,E=1===c?0:c,u=(E+l)%2===1?D:"",H&&(F=f.p.multiselect?-1!==$.inArray(t,f.p.selarrrow):t===f.p.selrow);var J=C.length;for(C.push(""),y&&C.push(f.addRowNum(0,l,f.p.page,f.p.rowNum)),x&&C.push(f.addMulti(t,y,l,F)),o=A,h.repeatitems&&(h.cell&&(n=$.jgrid.getAccessor(n,h.cell)||n),$.isArray(n)&&(o=z)),m=0;m<o.length;m++)k=$.jgrid.getAccessor(n,o[m]),B[f.p.colModel[m+x+y].name]=k,C.push(f.addCell(t,k,m+x+y,l+c,n,B));if(C[J]=f.constructTr(t,I,u,B,n,F),C.push("</tr>"),"json"===f.p.datatype&&(B[j]=$.jgrid.stripPref(f.p.idPrefix,t),f.p.data.push(B),f.p._index[B[j]]=f.p.data.length-1),f.p.gridview===!1&&($("#"+f.p.id+" tbody:first").append(C.join("")),f._trigger("afterInsertRow",[t,B,n]),C=[]),B={},v++,l++,v===G)break}if(f.p.gridview===!0&&(s=f.p.treeANode>-1?f.p.treeANode:0,f.p.treeGrid===!0&&s>0?$(f.rows[s]).after(C.join("")):$("#"+f.p.id+" tbody:first").append(C.join(""))),f.p.totaltime=new Date-g,v>0&&0===f.p.records&&(f.p.records=p),C=null,f.p.treeGrid===!0)try{$(f.element).jqGrid("setTreeNode",s+1,v+s+1)}catch(K){}if(f.p.treeGrid||(f.grid.bDiv.scrollTop=0),f.p.reccount=v,f.p.treeANode=-1,f.p.userDataOnFooter&&$(f.element).jqGrid("footerData","set",f.p.userData,!0),d||f.updatepager(!1,!0),"json"===f.p.datatype)for(;p>v&&q[v];){if(n=q[v],t=$.jgrid.getAccessor(n,r),void 0===t&&(t=$.jgrid.randId(),0===w.length&&h.cell)){var L=$.jgrid.getAccessor(n,h.cell)||n;t=null!=L&&void 0!==L[r]?L[r]:t,L=null}if(n){for(t=f.p.idPrefix+t,o=A,h.repeatitems&&(h.cell&&(n=$.jgrid.getAccessor(n,h.cell)||n),$.isArray(n)&&(o=z)),m=0;m<o.length;m++)B[f.p.colModel[m+x+y].name]=$.jgrid.getAccessor(n,o[m]);B[j]=$.jgrid.stripPref(f.p.idPrefix,t),f.p.data.push(B),f.p._index[B[j]]=f.p.data.length-1,B={}}v++}}},addLocalData:function(){function a(b){var c,d,e,f,g,h=0;if(null!=b.groups){for(d=b.groups.length&&"OR"===b.groupOp.toString().toUpperCase(),d&&k.orBegin(),c=0;c<b.groups.length;c++){h>0&&d&&k.or();try{a(b.groups[c])}catch(l){alert(l)}h++}d&&k.orEnd()}if(null!=b.rules)try{for(e=b.rules.length&&"OR"===b.groupOp.toString().toUpperCase(),e&&k.orBegin(),c=0;c<b.rules.length;c++)g=b.rules[c],f=b.groupOp.toString().toUpperCase(),j[g.op]&&g.field&&(h>0&&f&&"OR"===f&&(k=k.or()),k=j[g.op](k,f)(g.field,g.data,i[g.field])),h++;e&&k.orEnd()}catch(m){alert(m)}}var b,c,d,e=this,f=e.p.multiSort?[]:"",g=[],h=!1,i={};if($.isArray(e.p.data)){e.refreshIndex(),$.each(e.p.colModel,function(){if(c=this.sorttype||"text","date"===c||"datetime"===c?(this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?(b=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:$.jgrid.formatter.date.srcformat,d=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:$.jgrid.formatter.date.newformat):b=d=this.datefmt||"Y-m-d",i[this.name]={stype:c,srcfmt:b,newfmt:d}):i[this.name]={stype:c,srcfmt:"",newfmt:""},e.p.multiSort){if(this.lso){f.push(this.name);var a=this.lso.split("-");g.push(a[a.length-1])}}else h||this.index!==e.p.sortname&&this.name!==e.p.sortname||(f=this.name,h=!0)});var j={eq:function(a){return a.equals},ne:function(a){return a.notEquals},lt:function(a){return a.less},le:function(a){return a.lessOrEquals},gt:function(a){return a.greater},ge:function(a){return a.greaterOrEquals},cn:function(a){return a.contains},nc:function(a,b){return"OR"===b?a.orNot().contains:a.andNot().contains},bw:function(a){return a.startsWith},bn:function(a,b){return"OR"===b?a.orNot().startsWith:a.andNot().startsWith},en:function(a,b){return"OR"===b?a.orNot().endsWith:a.andNot().endsWith},ew:function(a){return a.endsWith},ni:function(a,b){return"OR"===b?a.orNot().equals:a.andNot().equals},"in":function(a){return a.equals},nu:function(a){return a.isNull},nn:function(a,b){return"OR"===b?a.orNot().isNull:a.andNot().isNull}},k=$.jgrid.from(e.p.data);if(e.p.ignoreCase&&(k=k.ignoreCase()),e.p.search===!0){var l=e.p.postData.filters;if(l)"string"==typeof l&&(l=$.jgrid.parse(l)),a(l);else try{k=j[e.p.postData.searchOper](k)(e.p.postData.searchField,e.p.postData.searchString,i[e.p.postData.searchField])}catch(m){}}e.p.multiSort?$.each(f,function(a){k.orderBy(this,g[a],i[this].stype,i[this].srcfmt)}):f&&e.p.sortorder&&h&&("DESC"===e.p.sortorder.toUpperCase()?k.orderBy(e.p.sortname,"d",i[f].stype,i[f].srcfmt):k.orderBy(e.p.sortname,"a",i[f].stype,i[f].srcfmt));var n=k.select(),o=parseInt(e.p.rowNum,10),p=n.length,q=parseInt(e.p.page,10),r=Math.ceil(p/o),s={};return n=n.slice((q-1)*o,q*o),k=null,i=null,s[e.p.localReader.total]=r,s[e.p.localReader.page]=q,s[e.p.localReader.records]=p,s[e.p.localReader.root]=n,s[e.p.localReader.userdata]=e.p.userData,n=null,s}},updatepager:function(a,b){var c,d,e,f,g,h,i,j,k=this,l="",m=k.p.pager?"_"+k.p.pager.substr(1):"",n=k.p.toppager?"_"+k.p.toppager.substr(1):"";e=parseInt(k.p.page,10)-1,0>e&&(e=0),e*=parseInt(k.p.rowNum,10),g=e+k.p.reccount,l=k.p.pager||"",l+=k.p.toppager?l?","+k.p.toppager:k.p.toppager:"",l&&(i=$.jgrid.formatter.integer||{},c=k.intNum(k.p.page),d=k.intNum(k.p.lastpage),$(".selbox",l)[this.p.useProp?"prop":"attr"]("disabled",!1),k.p.pginput===!0&&($(".ui-pg-input",l).val(k.p.page),j=k.p.toppager?"#sp_1"+m+",#sp_1"+n:"#sp_1"+m,$(j).html($.fmatter?$.fmatter.util.NumberFormat(k.p.lastpage,i):k.p.lastpage)),k.p.viewrecords&&(0===k.p.reccount?$(".ui-paging-info",l).html(k.p.emptyrecords):(f=e+1,h=k.p.records,$.fmatter&&(f=$.fmatter.util.NumberFormat(f,i),g=$.fmatter.util.NumberFormat(g,i),h=$.fmatter.util.NumberFormat(h,i)),$(".ui-paging-info",l).html($.jgrid.format(k.p.recordtext,f,g,h)))),k.p.pgbuttons===!0?(0>=c&&(c=d=0),1===c||0===c?($("#first"+m+", #prev"+m).addClass("ui-state-disabled").removeClass("ui-state-hover"),k.p.toppager&&$("#first_t"+n+", #prev_t"+n).addClass("ui-state-disabled").removeClass("ui-state-hover")):($("#first"+m+", #prev"+m).removeClass("ui-state-disabled"),k.p.toppager&&$("#first_t"+n+", #prev_t"+n).removeClass("ui-state-disabled")),c===d||0===c?($("#next"+m+", #last"+m).addClass("ui-state-disabled").removeClass("ui-state-hover"),k.p.toppager&&$("#next_t"+n+", #last_t"+n).addClass("ui-state-disabled").removeClass("ui-state-hover")):($("#next"+m+", #last"+m).removeClass("ui-state-disabled"),k.p.toppager&&$("#next_t"+n+", #last_t"+n).removeClass("ui-state-disabled"))):$(".ui-pg-table",l).hide()),a===!0&&k.p.rownumbers===!0&&$(">td.jqgrid-rownum",k.rows).each(function(a){$(this).html(e+1+a)}),b&&k.p.jqgdnd&&$(k.element).jqGrid("gridDnD","updateDnD"),k._trigger("gridComplete")},populate:function(a){var b=this;this.p.showMask&&$.blockUI?($(this.element).blockUI(),_.delay(function(){b._populate(a),$(b.element).unblockUI()},0)):b._populate(a)},_populate:function(){var a,b,c=this;c.p.page<=0&&(c.p.page=Math.min(1,c.p.lastpage));switch(a=c.p.datatype.toLowerCase()){case"json":b=c.p.data,c.addJSONData(b,c.grid.bDiv),c._trigger("afterGridComplete");break;case"local":var d=c.addLocalData();c.addJSONData(d,c.grid.bDiv),c._trigger("afterGridComplete")}},setHeadCheckBox:function(a){var b=this;$("#cb_"+b.p.id,b.grid.hDiv)[b.p.useProp?"prop":"attr"]("checked",a);var c=b.p.frozenColumns?b.p.id+"_frozen":"";c&&$("#cb_"+b.p.id,b.grid.fhDiv)[b.p.useProp?"prop":"attr"]("checked",a)},populatePage:function(){var a=this;if("json"===a.p.datatype){if(!$.isFunction(a.p.pageData))return alert("please support pageData function to fetch per page data!"),!1;a.p.data=a.p.pageData.call(a,a.p.page,a.p.sortname,a.p.sortorder)}a.populate()},setPager:function(a,b){var c,d,e,f=this,g=function(a){var b;return b=f._trigger("onPaging",[a]),b===!1?!1:(f.p.selrow=null,f.p.multiselect&&(f.p.selarrrow=[],f.setHeadCheckBox(!1)),f.p.savedRow=[],!0)};a=a.substr(1),b+="_"+a,c="pg_"+a,f.p.pginput===!0&&$(".ui-pg-input","#"+c).replaceWith($.jgrid.format(f.p.pgtext||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+a+"'></span>")),e=$(".ui-jqgrid").css("font-size")||"11px",$(document.body).append("<div id='testpg' class='ui-jqgrid' style='font-size:"+e+";visibility:hidden;' ></div>"),d=$("td#"+a+"_"+f.p.pagerpos+">:first-child").clone().appendTo("#testpg").width(),$("#testpg").remove(),d>0&&($("#sp_1_"+a).length>0&&(d+=50),$("td#"+a+"_"+f.p.pagerpos,"#"+c).width(d)),f.p._nvtd=[],f.p._nvtd[0]=Math.floor(d?(f.p.width-d)/2:f.p.width/3),f.p._nvtd[1]=0,f.p.pgbuttons===!0&&($(".ui-pg-button","#"+c).hover(function(){$(this).hasClass("ui-state-disabled")?this.style.cursor="default":($(this).addClass("ui-state-hover"),this.style.cursor="pointer")},function(){$(this).hasClass("ui-state-disabled")||($(this).removeClass("ui-state-hover"),this.style.cursor="default")}),$("#first"+b+", #prev"+b+", #next"+b+", #last"+b).click(function(){var a=f.intNum(f.p.page,1),c=f.intNum(f.p.lastpage,1),d=!1,e=!0,h=!0,i=!0,j=!0;0===c||1===c?(e=!1,h=!1,i=!1,j=!1):c>1&&a>=1?1===a?(e=!1,h=!1):a===c&&(i=!1,j=!1):c>1&&0===a&&(i=!1,j=!1,a=c-1);var k=this.id.substring(0,this.id.length-b.length);return g(k)?(this.id==="first"+b&&e&&(f.p.page=1,d=!0),this.id==="prev"+b&&h&&(f.p.page=a-1,d=!0),this.id==="next"+b&&i&&(f.p.page=a+1,d=!0),this.id==="last"+b&&j&&(f.p.page=c,d=!0),d&&f.populatePage(),!1):!1})),f.p.pginput===!0&&$("input.ui-pg-input","#"+c).keypress(function(a){var b=a.charCode||a.keyCode||0;return 13===b?g("user")?($(this).val(f.intNum($(this).val(),1)),f.p.page=$(this).val()>0?$(this).val():f.p.page,f.populatePage(),!1):!1:this})},multiSort:function(a,b){var c,d,e=this,f="",g=e.p.colModel,h=!1,i=e.p.frozenColumns?b:e.grid.headers[a].el,j="";$("span.ui-grid-ico-sort",i).addClass("ui-state-disabled"),$(i).attr("aria-selected","false"),g[a].lso?"asc"===g[a].lso?(g[a].lso+="-desc",j="desc"):"desc"===g[a].lso?(g[a].lso+="-asc",j="asc"):("asc-desc"===g[a].lso||"desc-asc"===g[a].lso)&&(g[a].lso=""):g[a].lso=j=g[a].firstsortorder||"asc",j?($("span.s-ico",i).show(),$("span.ui-icon-"+j,i).removeClass("ui-state-disabled"),$(i).attr("aria-selected","true")):$("span.s-ico",i).hide(),e.p.sortorder="",$.each(g,function(a){this.lso&&(a>0&&h&&(f+=", "),c=this.lso.split("-"),f+=g[a].index||g[a].name,f+=" "+c[c.length-1],h=!0,e.p.sortorder=c[c.length-1])}),d=f.lastIndexOf(e.p.sortorder),f=f.substring(0,d),e.p.sortname=f},sortData:function(a,b,c,d,e){var f=this;if(f.p.colModel[b].sortable&&!(f.p.savedRow.length>0)){if(c||(f.p.lastsort===b?"asc"===f.p.sortorder?f.p.sortorder="desc":"desc"===f.p.sortorder&&(f.p.sortorder="asc"):f.p.sortorder=f.p.colModel[b].firstsortorder||"asc",f.p.page=1),f.p.multiSort)f.multiSort(b,e);else{if(d){if(f.p.lastsort===b&&f.p.sortorder===d&&!c)return;f.p.sortorder=d}var g=f.grid.headers[f.p.lastsort].el,h=f.p.frozenColumns?e:f.grid.headers[b].el;$("span.ui-grid-ico-sort",g).addClass("ui-state-disabled"),$(g).attr("aria-selected","false"),f.p.frozenColumns&&(f.grid.fhDiv.find("span.ui-grid-ico-sort").addClass("ui-state-disabled"),f.grid.fhDiv.find("th").attr("aria-selected","false")),$("span.ui-icon-"+f.p.sortorder,h).removeClass("ui-state-disabled"),$(h).attr("aria-selected","true"),f.p.lastsort!==b&&(f.p.frozenColumns&&f.grid.fhDiv.find("span.s-ico").hide(),$("span.s-ico",g).hide(),$("span.s-ico",h).show()),a=a.substring(5+f.p.id.length+1),f.p.sortname=f.p.colModel[b].index||a}if(f._trigger("onSortCol",[f.p.sortname,b,f.p.sortorder])===!1)return void(f.p.lastsort=b);"local"===f.p.datatype?f.p.deselectAfterSort&&$(f.element).jqGrid("resetSelection"):(f.p.selrow=null,f.p.multiselect&&f.setHeadCheckBox(!1),f.p.selarrrow=[],f.p.savedRow=[]),f.populatePage(),f.p.lastsort=b,f.p.sortname!==a&&b&&(f.p.lastsort=b)}},setColWidth:function(){var a,b,c,d,e=this,f=e.grid,g=0,h=$.jgrid.cell_width?0:e.intNum(e.p.cellLayout,0),i=0,j=e.intNum(e.p.scrollOffset,0),k=!1,l=0;$.each(e.p.colModel,function(){void 0===this.hidden&&(this.hidden=!1),this.widthOrg=b=e.intNum(this.width,0),this.hidden===!1&&(g+=b+h,this.fixed?l+=b+h:i++)}),isNaN(e.p.width)&&(e.p.width=g+(e.p.shrinkToFit!==!1||isNaN(e.p.height)?0:j)),f.width=e.p.width,e.p.tblwidth=g,e.p.shrinkToFit===!1&&e.p.forceFit===!0&&(e.p.forceFit=!1),e.p.shrinkToFit===!0&&i>0&&(c=f.width-h*i-l,isNaN(e.p.height)||(c-=j,k=!0),c-=1,g=0,$.each(e.p.colModel,function(d){this.hidden!==!1||this.fixed||(b=Math.round(c*this.width/(e.p.tblwidth-h*i-l)),this.width=b,g+=b,a=d)}),d=0,k?f.width-l-(g+h*i)!==j&&(d=f.width-l-(g+h*i)-j):k||1===Math.abs(f.width-l-(g+h*i))||(d=f.width-l-(g+h*i)),e.p.colModel[a].width+=d-1,e.p.tblwidth=g+(d-1)+h*i+l,e.p.tblwidth>e.p.width&&(e.p.colModel[a].width-=e.p.tblwidth-parseInt(e.p.width,10),e.p.tblwidth=e.p.width))},nextVisible:function(a){var b,c=this,d=a,e=a;for(b=a+1;b<c.p.colModel.length;b++)if(c.p.colModel[b].hidden!==!0){e=b;break}return e-d},getOffset:function(a){var b=this,c=$(b.grid.headers[a].el),d=[c.position().left+c.outerWidth()];return d[0]-=b.grid.bDiv.scrollLeft,d.push($(b.grid.hDiv).position().top),d.push($(b.grid.bDiv).offset().top-$(b.grid.hDiv).offset().top+$(b.grid.bDiv).height()),d},getColumnHeaderIndex:function(a){var b,c=this,d=c.grid.headers,e=$.jgrid.getCellIndex(a);for(b=0;b<d.length;b++)if(a===d[b].el){e=b;break}return e},getGridParam:function(a){var b=this;if(b&&b.grid)return a?void 0!==b.p[a]?b.p[a]:null:b.p},setGridParam:function(a){this.grid&&"object"==typeof a&&$.extend(!0,this.p,a)},getGridRowById:function(a){var b;try{b=this.rows.namedItem(a)}catch(c){b=$(this.grid.bDiv).find("#"+a)}return b},getDataIDs:function(){var a,b=[],c=0,d=0;if(a=this.rows.length,a&&a>0)for(;a>c;)$(this.rows[c]).hasClass("jqgrow")&&(b[d]=this.rows[c].id,d++),c++;return b},getCheckRows:function(){for(var a=[],b=this,c=b.p.selarrrow,d=0;d<c.length;d++)a.push(b.p.data[b.p._index[c[d]]]);return a},setCheckDisabled:function(a,b){var c,d,e=this;if($.isArray(a))for(var f=0;f<a.length;f++)c=a[f],d=$("#"+c,e.element),d[0]||"number"!=typeof c||(d=$($(e.element).find("tr.jqgrow")[c])),d.find("input[type='checkbox']").attr("disabled",b),b?d.addClass("ui-state-disabled"):d.removeClass("ui-state-disabled");else c=a,d=$("#"+c,e.element),d[0]||"number"!=typeof c||(d=$($(e.element).find("tr.jqgrow")[c])),d.find("input[type='checkbox']").attr("disabled",b),b?d.addClass("ui-state-disabled"):d.removeClass("ui-state-disabled")},setAllCheckDisabled:function(a){$("#gview_"+this.p.id).find("input[type='checkbox']").attr("disabled",a),a?$("#gview_"+this.p.id).find(".jqgrow").addClass("ui-state-disabled"):$("#gview_"+this.p.id).find(".jqgrow").removeClass("ui-state-disabled")},setAllCheckRows:function(a){var b=this;return a!==!1&&a!==!0&&(a=!$("#cb_"+b.p.id).attr("checked")),$("#cb_"+b.p.id).attr("checked",a).trigger("click").attr("checked",a),this},setCheckRows:function(a,b){for(var c,d,e,f=this,g=0;g<a.length;g++)d=a[g],$("#"+d,f)[0]||"number"!=typeof d||(d=$(f.element).find("tr.jqgrow")[d].id),e=$.inArray(d,f.p.selarrrow),c=b===!0||b===!1?b:-1===e?!0:!1,c===!1&&-1!==e?$(f.element).jqGrid("setSelection",d):c===!0&&-1===e&&$(f.element).jqGrid("setSelection",d)},getSelection:function(){var a={},b=this;return a=$(b.element).jqGrid("getRowData",b.p.selrow)},setSelection:function(a,b,c){function d(a){var b=$(m.grid.bDiv)[0].clientHeight,c=$(m.grid.bDiv)[0].scrollTop,d=$(m.rows[a]).position().top,e=m.rows[a].clientHeight;d+e>=b+c?$(m.grid.bDiv)[0].scrollTop=d-(b+c)+e+c:b+c>d&&c>d&&($(m.grid.bDiv)[0].scrollTop=d)}function e(a){var b=!1,c=$(m).jqGrid("getFullTreeNode",a);return c.splice(0,1),$(c).each(function(a){return j=$.inArray(c[a][m.p.keyName]+"",m.p.selarrrow),-1!==j?(b=!0,!1):void 0}),b}function f(a){var b,c,d=m.p._index[m.p.selrow],f=m.p.data[d];m.p.checkChildren&&(c=$(m.element).jqGrid("getFullTreeNode",f),c.splice(0,1),$(c).each(function(d){b=c[d][m.p.keyName]+"",j=$.inArray(b,m.p.selarrrow),-1===j&&a?($($(m.element).jqGrid("getGridRowById",b)).addClass("ui-state-highlight").attr("aria-selected","true"),m.p.selarrrow.push(b)):-1===j||a||($($(m.element).jqGrid("getGridRowById",b)).removeClass("ui-state-highlight").attr({"aria-selected":"false"}),m.p.selarrrow.splice(j,1)),$("#jqg_"+m.p.id+"_"+b).attr("checked",a)})),m.p.checkParent&&(c=$(m.element).jqGrid("getNodeAncestors",f),$(c).each(function(d){return!a&&e(c[d])?!1:(b=c[d][m.p.keyName]+"",j=$.inArray(b,m.p.selarrrow),-1===j&&a&&($("#jqg_"+m.p.id+"_"+b).attr("checked",a),m.p.selarrrow.push(b)),void(-1===j||a||($("#jqg_"+m.p.id+"_"+b).attr("checked",a),m.p.selarrrow.splice(j,1))))}))}var g,h,i,j,k,l,m=this;void 0!==a&&("object"===$.type(a)&&(a=a[m.p.keyName]),b=b===!1?!1:!0,h=$(m.element).jqGrid("getGridRowById",a),h||"number"!=typeof a||(h=$(m.element).find("tr.jqgrow")[a],a=h.id),!h||!h.className||h.className.indexOf("ui-state-disabled")>-1||(m.p.scrollrows===!0&&(i=$(m.element).jqGrid("getGridRowById",a).rowIndex,i>=0&&d(i)),m.p.frozenColumns===!0&&(l=m.p.id+"_frozen"),m.p.multiselect?(m.setHeadCheckBox(!1),m.p.selrow=h.id,j=$.inArray(m.p.selrow,m.p.selarrrow),-1===j?($(h).addClass("ui-state-highlight").attr("aria-selected","true"),g=!0,m.p.selarrrow.push(m.p.selrow),m.p.treeGrid&&f(g)):($(h).removeClass("ui-state-highlight").attr("aria-selected","false"),g=!1,m.p.selarrrow.splice(j,1),m.p.treeGrid&&f(g),m.p.selarrrow.length>0&&(m.p.selrow=m.p.selarrrow[m.p.selarrrow.length-1]),k=m.p.selarrrow[0],m.p.selrow=void 0===k?null:k),$("#jqg_"+m.p.id+"_"+h.id)[m.p.useProp?"prop":"attr"]("checked",g),l&&(-1===j?$("#"+a,"#"+l).addClass("ui-state-highlight"):$("#"+a,"#"+l).removeClass("ui-state-highlight"),$("#jqg_"+m.p.id+"_"+a,"#"+l)[m.p.useProp?"prop":"attr"]("checked",g)),b&&m._trigger("onSelectRow",[h.id,g,c])):(m.p.selrow!==h.id?($($(m.element).jqGrid("getGridRowById",m.p.selrow)).removeClass("ui-state-highlight").attr({"aria-selected":"false",tabindex:"-1"}),$(h).addClass("ui-state-highlight").attr({"aria-selected":"true",tabindex:"0"}),l&&($("#"+m.p.selrow,"#"+l).removeClass("ui-state-highlight"),$("#"+a,"#"+l).addClass("ui-state-highlight")),g=!0):g=!1,m.p.selrow=h.id,b&&(m._trigger("onSelectRow",[h.id,g,c]),g&&m._trigger("onChangeRow",[h.id,c])))))},resetSelection:function(a){var b,c,d=this;d.p.frozenColumns===!0&&(c=d.p.id+"_frozen"),void 0!==a?(b=a===d.p.selrow?d.p.selrow:a,$("#"+d.p.id+" tbody:first tr#"+b).removeClass("ui-state-highlight").attr("aria-selected","false"),c&&$("#"+b,"#"+c).removeClass("ui-state-highlight"),d.p.multiselect&&($("#jqg_"+d.p.id+"_"+b,"#"+d.p.id)[d.p.useProp?"prop":"attr"]("checked",!1),c&&$("#jqg_"+d.p.id+"_"+b,"#"+c)[d.p.useProp?"prop":"attr"]("checked",!1),d.setHeadCheckBox(!1)),b=null):d.p.multiselect?($(d.p.selarrrow).each(function(a,b){$($(d.element).jqGrid("getGridRowById",b)).removeClass("ui-state-highlight").attr("aria-selected","false"),$("#jqg_"+d.p.id+"_"+b)[d.p.useProp?"prop":"attr"]("checked",!1),c&&($("#"+b,"#"+c).removeClass("ui-state-highlight"),$("#jqg_"+d.p.id+"_"+b,"#"+c)[d.p.useProp?"prop":"attr"]("checked",!1))}),d.setHeadCheckBox(!1),d.p.selarrrow=[]):d.p.selrow&&($("#"+d.p.id+" tbody:first tr#"+d.p.selrow).removeClass("ui-state-highlight").attr("aria-selected","false"),c&&$("#"+d.p.selrow,"#"+c).removeClass("ui-state-highlight"),d.p.selrow=null),d.p.cellEdit===!0&&parseInt(d.p.iCol,10)>=0&&parseInt(d.p.iRow,10)>=0&&($("td:eq("+d.p.iCol+")",d.rows[d.p.iRow]).removeClass("edit-cell ui-state-highlight"),$(d.rows[d.p.iRow]).removeClass("selected-row ui-state-hover")),d.p.savedRow=[]},getRowid:function(a){var b;if(void 0===a)return b;var c=this;return b=a[c.p.keyName]},getKeyName:function(){var a,b=this;return a=b.p.keyName},getRowData:function(a){var b=this;if(void 0===a)return b.p.data;var c=b.p._index[a];return isNaN(c)?{}:b.p.data[b.p._index[a]]},delRowData:function(a){var b,c,d=!1,e=this;if("object"===$.type(a)&&(a=a[e.p.keyName]),b=$(e.element).jqGrid("getGridRowById",a),!b)return!1;if($(b).remove(),e.p.records--,e.p.reccount--,e.updatepager(!0,!1),d=!0,e.p.multiselect&&(c=$.inArray(a,e.p.selarrrow),-1!==c&&e.p.selarrrow.splice(c,1)),e.p.selrow=e.p.multiselect&&e.p.selarrrow.length>0?e.p.selarrrow[e.p.selarrrow.length-1]:null,"local"===e.p.datatype){var f=$.jgrid.stripPref(e.p.idPrefix,a),g=e.p._index[f];void 0!==g&&(e.p.data.splice(g,1),e.refreshIndex())}if(e.p.altRows===!0&&d){var h=e.p.altclass;$(e.rows).each(function(a){a%2===1?$(this).addClass(h):$(this).removeClass(h)})}return d},setRowData:function(a,b,c){var d,e,f=!0;if(!this.grid)return!1;var g,h,i=this,j=typeof c,k={};if("object"==typeof a&&(c=b,b=a,a=b[i.p.keyName]),h=$(i.element).jqGrid("getGridRowById",a),!h)return!1;if(b)try{if($(i.p.colModel).each(function(c){d=this.name;var f=$.jgrid.getAccessor(b,d);void 0!==f&&(k[d]=this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?$.unformat.date.call(i,f,this):f,g=i.formatter(a,f,c,b,"edit"),e=this.title?{title:$.jgrid.stripHtml(g)}:{},i.p.treeGrid===!0&&d===i.p.ExpandColumn?$("td[role='gridcell']:eq("+c+") > span:first",h).html(g).attr(e):$("td[role='gridcell']:eq("+c+")",h).html(g).attr(e))}),"local"===i.p.datatype){var l,m=$.jgrid.stripPref(i.p.idPrefix,a),n=i.p._index[m];if(i.p.treeGrid)for(l in i.p.treeReader)i.p.treeReader.hasOwnProperty(l)&&delete k[i.p.treeReader[l]];void 0!==n&&(i.p.data[n]=$.extend(!1,i.p.data[n],b)),k=null}}catch(o){f=!1}return f&&("string"===j?$(h).addClass(c):"object"===j&&$(h).css(c),i._trigger("afterGridComplete")),f},addRowData:function(a,b,c,d){var e=this;"object"==typeof a&&(d=c,c=b,b=a,a=void 0),c||(c="last");var f,g,h,i,j,k,l,m,n,o,p,q,r,s=!1,u="";if(b){$.isArray(b)?(m=!0,n=a||e.p.keyName):(b=[b],m=!1);var v=b.length;i=e.p.rownumbers===!0?1:0,h=e.p.multiselect===!0?1:0,m||(void 0!==a?a=String(a):(a=$.jgrid.randId(),n=e.p.keyName,void 0!==b[0][n]?a=b[0][n]:b[0][n]=a)),o=e.p.altclass;for(var w=0,x="",y={};v>w;){if(p=b[w],g=[],m){try{a=p[n],void 0===a&&(a=$.jgrid.randId(),p[n]=a)}catch(z){a=$.jgrid.randId()}x=e.p.altRows===!0?(t.rows.length-1)%2===0?o:"":""}for(r=a,a=e.p.idPrefix+a,i&&(u=e.formatCol(0,1,"",null,a,!0),g[g.length]='<td role="gridcell" class="jqgrid-rownum" '+u+">0</td>"),h&&(l='<input role="checkbox" type="checkbox" id="jqg_'+e.p.id+"_"+a+'" class="cbox"/>',u=e.formatCol(i,1,"",null,a,!0),g[g.length]='<td role="gridcell" '+u+">"+l+"</td>"),k=h+i;k<e.p.colModel.length;k++)q=e.p.colModel[k],f=q.name,y[f]=p[f],l=e.formatter(a,$.jgrid.getAccessor(p,f),k,p),u=e.formatCol(k,1,l,p,a,y),g[g.length]='<td role="gridcell" '+u+">"+l+"</td>";if(g.unshift(e.constructTr(a,!1,x,y,p,!1)),g[g.length]="</tr>",0===e.rows.length)$("table:first",e.grid.bDiv).append(g.join(""));else switch(c){case"last":$(e.rows[e.rows.length-1]).after(g.join("")),j=e.rows.length-1;break;case"first":$(e.rows[0]).after(g.join("")),j=1;break;case"after":j=$(e.element).jqGrid("getGridRowById",d),j&&($(j).after(g.join("")),j=j.rowIndex+1);break;case"before":j=$(e.element).jqGrid("getGridRowById",d),j&&($(j).before(g.join("")),j=j.rowIndex-1)}if(e.p.records++,e.p.reccount++,e._trigger("afterInsertRow",[a,p,p]),w++,"local"===e.p.datatype){if(y[e.p.keyName]=r,e.p._index[r]=e.p.data.length,c&&d){for(var A=e.p._index[d],B=[],k=0;k<e.p.data.length;k++)"before"==c&&A==k&&B.push(p),B.push(e.p.data[k]),"after"==c&&A==k&&B.push(p);e.p.data=B,e.refreshIndex()}else e.p.data.push(p);y={}}"after"==c&&(d=r)}e.p.altRows!==!0||m||("last"===c?(e.rows.length-1)%2===1&&$(e.rows[e.rows.length-1]).addClass(o):$(t.rows).each(function(a){a%2===1?$(this).addClass(o):$(this).removeClass(o)})),e.updatepager(!0,!0),s=!0}return s},footerData:function(a,b,c){function d(a){var b;for(b in a)if(a.hasOwnProperty(b))return!1;return!0}var e,f,g=!1,h={};void 0===a&&(a="get"),"boolean"!=typeof c&&(c=!0),a=a.toLowerCase();var i,j=this;return j.grid&&j.p.footerrow?"set"===a&&d(b)?!1:(g=!0,$(this.p.colModel).each(function(d){e=this.name,"set"===a?void 0!==b[e]&&(i=c?j.formatter("",b[e],d,b,"edit"):b[e],f=this.title?{title:$.jgrid.stripHtml(i)}:{},$("tr.footrow td:eq("+d+")",j.grid.sDiv).html(i).attr(f),g=!0):"get"===a&&(h[e]=$("tr.footrow td:eq("+d+")",j.grid.sDiv).html())}),"get"===a?h:g):!1},showHideCol:function(a,b){var c,d=this,e=!1,f=$.jgrid.cell_width?0:d.p.cellLayout;if(d.grid){"string"==typeof a&&(a=[a]),b="none"!==b?"":"none";var g=""===b?!0:!1,h=d.p.groupHeader&&("object"==typeof d.p.groupHeader||$.isFunction(d.p.groupHeader));h&&$(d.element).jqGrid("destroyGroupHeader",!1),$(this.p.colModel).each(function(h){if(-1!==$.inArray(this.name,a)&&this.hidden===g){if(d.p.frozenColumns===!0&&this.frozen===!0)return!0;$("tr[role=rowheader]",d.grid.hDiv).each(function(){$(this.cells[h]).css("display",b)}),$(d.rows).each(function(){$(this).hasClass("jqgroup")||$(this.cells[h]).css("display",b)}),d.p.footerrow&&$("tr.footrow td:eq("+h+")",d.grid.sDiv).css("display",b),c=parseInt(this.width,10),"none"===b?d.p.tblwidth-=c+f:d.p.tblwidth+=c+f,this.hidden=!g,e=!0,d._trigger("showHideCol",[g,this.name,h])}}),e===!0&&d.p.fixWidth&&(d.p.shrinkToFit!==!0||isNaN(d.p.height)||(d.p.tblwidth+=parseInt(d.p.scrollOffset,10)),$(d.element).jqGrid("setGridWidth",d.p.shrinkToFit===!0?d.p.tblwidth:d.p.width)),h&&$(d.element).jqGrid("setGroupHeaders",d.p.groupHeader)}},hideCol:function(a){return $(this.element).jqGrid("showHideCol",a,"none")},showCol:function(a){return $(this.element).jqGrid("showHideCol",a,"")},remapColumns:function(a,b,c){function d(b){var c;c=b.length?$.makeArray(b):$.extend({},b),$.each(a,function(a){b[a]=c[this]})}function e(b,c){$(">tr"+(c||""),b).each(function(){var b=this,c=$.makeArray(b.cells);$.each(a,function(){var a=c[this];a&&b.appendChild(a)})})}var f=this;d(f.p.colModel),d(f.grid.headers),e($("thead:first",f.grid.hDiv),c&&":not(.ui-jqgrid-labels)"),b&&e($("#"+f.p.id+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot"),f.p.footerrow&&e($("tbody:first",f.grid.sDiv)),f.p.remapColumns&&(f.p.remapColumns.length?d(f.p.remapColumns):f.p.remapColumns=$.makeArray(a)),f.p.lastsort=$.inArray(f.p.lastsort,a),f.p.treeGrid&&(f.p.expColInd=$.inArray(f.p.expColInd,a)),f._trigger("remapColumns",[a,b,c])},setGridWidth:function(a,b){if(this.grid){var c,d,e,f,g=this,h=0,i=$.jgrid.cell_width?0:g.p.cellLayout,j=0,k=!1,l=g.p.scrollOffset,m=0;if("boolean"!=typeof b&&(b=g.p.shrinkToFit),!isNaN(a)){if(a=parseInt(a,10),g.grid.width=g.p.width=a,$(g.element).css("width",a+"px"),$("#gview_"+g.p.id).css("width",a+"px"),$(g.grid.bDiv).css("width",a+"px"),$(g.grid.hDiv).css("width",a+"px"),g.p.pager&&$(g.p.pager).css("width",a+"px"),g.p.toppager&&$(g.p.toppager).css("width",a+"px"),g.p.toolbar[0]===!0&&($("#t_"+g.id).css("width",a+"px"),"both"===g.p.toolbar[1]&&$("#tb_"+g.id).css("width",a+"px")),g.p.footerrow&&$(g.grid.sDiv).css("width",a+"px"),b===!1&&g.p.forceFit===!0&&(g.p.forceFit=!1),b===!0){if($.each(g.p.colModel,function(){this.hidden===!1&&(c=this.widthOrg,h+=c+i,this.fixed?m+=c+i:j++)}),0===j)return;g.p.tblwidth=h,e=a-i*j-m,isNaN(g.p.height)||($(g.grid.bDiv)[0].clientHeight<$(g.grid.bDiv)[0].scrollHeight||1===g.rows.length)&&(k=!0,e-=l),h=0;var n=g.grid.cols.length>0;if($.each(g.p.colModel,function(a){if(this.hidden===!1&&!this.fixed){if(c=this.widthOrg,c=Math.round(e*c/(g.p.tblwidth-i*j-m)),0>c)return;this.width=c,h+=c,g.grid.headers[a].width=c,g.grid.headers[a].el.style.width=c+"px",g.p.footerrow&&(g.grid.footers[a].style.width=c+"px"),n&&(g.grid.cols[a].style.width=c+"px"),d=a}}),!d)return;if(f=0,k?a-m-(h+i*j)!==l&&(f=a-m-(h+i*j)-l):1!==Math.abs(a-m-(h+i*j))&&(f=a-m-(h+i*j)),g.p.colModel[d].width+=f-1,g.p.tblwidth=h+(f-1)+i*j+m,g.p.tblwidth>a){var o=g.p.tblwidth-parseInt(a,10);g.p.tblwidth=a,c=g.p.colModel[d].width=g.p.colModel[d].width-o}else c=g.p.colModel[d].width;g.grid.headers[d].width=c,g.grid.headers[d].el.style.width=c+"px",n&&(g.grid.cols[d].style.width=c+"px"),g.p.footerrow&&(g.grid.footers[d].style.width=c+"px")}g.p.tblwidth&&($("table:first",g.grid.bDiv).css("width",g.p.tblwidth+"px"),$("table:first",g.grid.hDiv).css("width",g.p.tblwidth+"px"),g.grid.hDiv.scrollLeft=g.grid.bDiv.scrollLeft,g.p.footerrow&&$("table:first",g.grid.sDiv).css("width",g.p.tblwidth+"px"))}}},setGridHeight:function(a){var b=this;if(b.grid){var c=$(b.element);a-=c.outerHeight()-b.p.height;var d=$(b.grid.bDiv);d.css({height:a+(isNaN(a)?"":"px")}),b.p.frozenColumns===!0&&$("#"+b.p.id+"_frozen").parent().height(d.height()-16),b.p.height=a}},setCaption:function(a){this.p.caption=a,$("span.ui-jqgrid-title",this.grid.cDiv).html(a),$(this.grid.cDiv).show()},setLabel:function(a,b,c,d){var e=this,f=-1;if(e.grid&&void 0!==a&&($(e.p.colModel).each(function(b){return this.name===a?(f=b,!1):void 0}),f>=0)){var g=$("tr.ui-jqgrid-labels th:eq("+f+")",e.grid.hDiv);if(b){var h=$(".s-ico",g);$("[id^=jqgh_]",g).empty().html(b).append(h),e.p.colModel[f].label=b}c&&("string"==typeof c?$(g).addClass(c):$(g).css(c)),"object"==typeof d&&$(g).attr(d)}},setCell:function(a,b,c,d,e,f){var g,h,i=this,j=-1;if(i.grid&&(isNaN(b)?$(i.p.colModel).each(function(a){return this.name===b?(j=a,!1):void 0}):j=parseInt(b,10),j>=0)){var k=$(i.element).jqGrid("getGridRowById",a);if(k){var l=$("td:eq("+j+")",k);if((""!==c||f===!0)&&(g=i.formatter(a,c,j,k,"edit"),h=i.p.colModel[j].title?{title:$.jgrid.stripHtml(g)}:{},i.p.treeGrid&&$(".tree-wrap",$(l)).length>0?$("span",$(l)).html(g).attr(h):$(l).html(g).attr(h),"local"===i.p.datatype)){var m,n=i.p.colModel[j];c=n.formatter&&"string"==typeof n.formatter&&"date"===n.formatter?$.unformat.date.call(i,c,n):c,m=i.p._index[$.jgrid.stripPref(i.p.idPrefix,a)],void 0!==m&&(i.p.data[m][n.name]=c)}"string"==typeof d?$(l).addClass(d):d&&$(l).css(d),"object"==typeof e&&$(l).attr(e)}}},getCell:function(a,b){var c=!1,d=this,e=-1;if(d.grid){if(isNaN(b)?$(d.p.colModel).each(function(a){return this.name===b?(e=a,!1):void 0}):e=parseInt(b,10),e>=0){var f=$(d.element).jqGrid("getGridRowById",a);if(f)try{c=$.unformat.call(d,$("td:eq("+e+")",f),{rowId:f.id,colModel:d.p.colModel[e]},e,!0)}catch(g){c=$.jgrid.htmlDecode($("td:eq("+e+")",f).html())}}return c}},getCol:function(a,b,c){var d,e,f,g,h=[],i=0;b="boolean"!=typeof b?!1:b,void 0===c&&(c=!1);var j=this,k=-1;if(j.grid){if(isNaN(a)?$(j.p.colModel).each(function(b){return this.name===a?(k=b,!1):void 0}):k=parseInt(a,10),k>=0){var l=j.rows.length,m=0,n=0;if(l&&l>0){for(;l>m;){if($(j.rows[m]).hasClass("jqgrow")){try{d=$.unformat.call(j,$(j.rows[m].cells[k]),{rowId:j.rows[m].id,colModel:j.p.colModel[k]},k,!0)}catch(o){d=$.jgrid.htmlDecode(j.rows[m].cells[k].innerHTML)}c?(g=parseFloat(d),isNaN(g)||(i+=g,void 0===f&&(f=e=g),e=Math.min(e,g),f=Math.max(f,g),n++)):h.push(b?{id:j.rows[m].id,value:d}:d)}m++}if(c)switch(c.toLowerCase()){case"sum":h=i;break;case"avg":h=i/n;break;case"count":h=l-1;break;case"min":h=e;break;case"max":h=f}}}return h}},reloadData:function(a){$(this.element).jqGrid("clearGridData"),$(this.element).jqGrid("setGridParam",{data:a}).trigger("reloadGrid")},clearGridData:function(a){var b=this;if(b.grid){if("boolean"!=typeof a&&(a=!1),b.p.deepempty)$("#"+b.p.id+" tbody:first tr:gt(0)").remove();else{var c=$("#"+b.p.id+" tbody:first tr:first")[0];$("#"+b.p.id+" tbody:first").empty().append(c)}b.p.footerrow&&a&&$(".ui-jqgrid-ftable td",b.grid.sDiv).html("&#160;"),b.p.selrow=null,b.p.selarrrow=[],b.p.savedRow=[],b.p.records=0,b.p.page=1,b.p.lastpage=0,b.p.reccount=0,b.p.data=[],b.p._index={},b.updatepager(!0,!1)}},getInd:function(a,b){var c,d=!1;return c=$(this.element).jqGrid("getGridRowById",a),c&&(d=b===!0?c:c.rowIndex),d},bindKeys:function(a){var b=$.extend({scrollingRows:!0},a||{}),c=this;$("body").is("[role]")||$("body").attr("role","application"),c.p.scrollrows=b.scrollingRows,$(c.$tb).keydown(function(a){var b,d,e,f=$(this).find("tr[tabindex=0]")[0],g=c.p.treeReader.expanded_field;if(f)if(e=c.p._index[$.jgrid.stripPref(c.p.idPrefix,f.id)],37===a.keyCode||38===a.keyCode||39===a.keyCode||40===a.keyCode){if(38===a.keyCode){if(d=f.previousSibling,b="",d)if($(d).is(":hidden")){for(;d;)if(d=d.previousSibling,!$(d).is(":hidden")&&$(d).hasClass("jqgrow")){b=d.id;break}}else b=d.id;$(c.element).jqGrid("setSelection",b,!0,a),a.preventDefault()}if(40===a.keyCode){if(d=f.nextSibling,b="",d)if($(d).is(":hidden")){for(;d;)if(d=d.nextSibling,!$(d).is(":hidden")&&$(d).hasClass("jqgrow")){b=d.id;break}}else b=d.id;$(c.element).jqGrid("setSelection",b,!0,a),a.preventDefault()}37===a.keyCode&&(c.p.treeGrid&&c.p.data[e][g]&&$(f).find("div.treeclick").trigger("click"),c._trigger("onLeftKey",[c.p.selrow])),39===a.keyCode&&(c.p.treeGrid&&!c.p.data[e][g]&&$(f).find("div.treeclick").trigger("click"),c._trigger("onRightKey",[c.p.selrow]))
}else 13===a.keyCode?c._trigger("onEnter",[c.p.selrow]):32===a.keyCode&&c._trigger("onSpace",[c.p.selrow])})},unbindKeys:function(){$(this.$tb).unbind("keydown")},getLocalRow:function(a){var b,c=!1;return void 0!==a&&(b=this.p._index[$.jgrid.stripPref(this.p.idPrefix,a)],b>=0&&(c=this.p.data[b])),c}}),$.fn.jqGrid=$.fn.grid}),!function(a){"function"==typeof define&&define.amd?define("fish.grid.advance",a):a()}(function(){"use strict";$.extend($.ui.grid.prototype,{getColProp:function(a){var b={},c=this[0];if(!c.grid)return!1;var d,e=c.p.colModel;for(d=0;d<e.length;d++)if(e[d].name===a){b=e[d];break}return b},setColProp:function(a,b){if(this.grid&&b){var c,d=this.p.colModel;for(c=0;c<d.length;c++)if(d[c].name===a){$.extend(!0,this.p.colModel[c],b);break}}},sortGrid:function(a,b,c){var d,e=this,f=-1,g=!1;if(e.grid){for(a||(a=e.p.sortname),d=0;d<e.p.colModel.length;d++)if(e.p.colModel[d].index===a||e.p.colModel[d].name===a){f=d,e.p.frozenColumns===!0&&e.p.colModel[d].frozen===!0&&(g=e.grid.fhDiv.find("#"+e.p.id+"_"+a));break}if(-1!==f){var h=e.p.colModel[f].sortable;"boolean"!=typeof h&&(h=!0),"boolean"!=typeof b&&(b=!1),h&&e.sortData("jqgh_"+e.p.id+"_"+a,f,b,c,g)}}},setGridState:function(a){if(this.grid){var b=this;"hidden"===a?($(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+b.p.id).slideUp("fast"),b.p.pager&&$(b.p.pager).slideUp("fast"),b.p.toppager&&$(b.p.toppager).slideUp("fast"),b.p.toolbar[0]===!0&&("both"===b.p.toolbar[1]&&$(b.grid.ubDiv).slideUp("fast"),$(b.grid.uDiv).slideUp("fast")),b.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+b.p.id).slideUp("fast"),$(".ui-jqgrid-titlebar-close span",b.grid.cDiv).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),b.p.gridstate="hidden"):"visible"===a&&($(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+b.p.id).slideDown("fast"),b.p.pager&&$(b.p.pager).slideDown("fast"),b.p.toppager&&$(b.p.toppager).slideDown("fast"),b.p.toolbar[0]===!0&&("both"===b.p.toolbar[1]&&$(b.grid.ubDiv).slideDown("fast"),$(b.grid.uDiv).slideDown("fast")),b.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+b.p.id).slideDown("fast"),$(".ui-jqgrid-titlebar-close span",b.grid.cDiv).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),b.p.gridstate="visible")}},destroyGroupHeader:function(a){void 0===a&&(a=!0);var b,c,d,e,f,g,h,i=this,j=i.grid,k=$("table.ui-jqgrid-htable thead",j.hDiv),l=i.p.colModel;if(j){for($(i.element).unbind(".setGroupHeaders"),b=$("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels"),i._gridHeight=$(i.element).outerHeight(),e=j.headers,c=0,d=e.length;d>c;c++){h=l[c].hidden?"none":"",f=$(e[c].el).width(e[c].width).css("display",h);try{f.removeAttr("rowSpan")}catch(m){f.attr("rowSpan",1)}b.append(f),g=f.children("span.ui-jqgrid-resize"),g.length>0&&(g[0].style.height=""),f.children("div")[0].style.top=""}$(k).children("tr.ui-jqgrid-labels").remove(),$(k).prepend(b),a===!0&&$(i.element).jqGrid("setGridParam",{groupHeader:null})}},setGroupHeaders:function(a){a=$.extend({useColSpanStyle:!1,groupHeaders:[]},a||{}),this.p.groupHeader=a;var b,c,d,e,f,g,h,i,j,k,l,m,n,o=this,p=0,q=o.p.colModel,r=q.length,s=o.grid.headers,t=$("table.ui-jqgrid-htable",o.grid.hDiv),u=t.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header"),v=t.children("thead"),w=t.find(".jqg-first-row-header");void 0===w[0]?w=$("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):w.empty();var x,y=function(a,b){var c,d=b.length;for(c=0;d>c;c++)if(b[c].startColumnName===a)return c;return-1};for($(o.$tb).prepend(v),d=$("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels jqg-third-row-header"),b=0;r>b;b++)if(f=s[b].el,g=$(f),c=q[b],h={height:"0px",width:s[b].width+"px",display:c.hidden?"none":""},$("<th>",{role:"gridcell"}).css(h).appendTo(w),f.style.width="",i=y(c.name,a.groupHeaders),i>=0){for(j=a.groupHeaders[i],k=j.numberOfColumns,l=j.titleText,m=0,i=0;k>i&&r>b+i;i++)q[b+i].hidden||m++;e=$("<th>").attr({role:"columnheader"}).addClass("ui-th-column-header").css({"border-top":"0px none"}).html(l),m>0&&e.attr("colspan",String(m)),o.p.headertitles&&e.attr("title",e.text()),0===m&&e.hide(),g.before(e),d.append(f),p=k-1}else 0===p?a.useColSpanStyle?g.attr("rowspan","2"):($("<th>",{role:"columnheader"}).addClass("ui-th-column-header").css({display:c.hidden?"none":"","border-top":"0px none"}).insertBefore(g),d.append(f)):(d.append(f),p--);n=$(o.$tb).children("thead"),n.prepend(w),d.insertAfter(u),t.append(n),a.useColSpanStyle&&(t.find("span.ui-jqgrid-resize").each(function(){var a=$(this).parent();a.is(":visible")&&(this.style.cssText="height: "+a.height()+"px !important; cursor: col-resize;")}),t.find("div.ui-jqgrid-sortable").each(function(){var a=$(this),b=a.parent();b.is(":visible")&&b.is(":has(span.ui-jqgrid-resize)")&&a.css("top",(b.height()-a.outerHeight())/2+"px")})),x=n.find("tr.jqg-first-row-header"),o._bind("resizeStop.setGroupHeaders",function(a,b,c){x.find("th").eq(c).width(b-4)}),o._initGroupHeaders||($(o.element).jqGrid("setGridHeight",$(o.element).outerHeight()-d.height()),o._initGroupHeaders=!0)},setFrozenColumns:function(a){if(this.grid){var b=this,c=b.p.colModel,d=0,e=c.length,f=-1,g=!1;if(!(b.p.treeGrid===!0||b.p.cellEdit===!0||b.p.sortable||b.p.scroll||b.p.grouping)){if(b.p.rownumbers&&d++,b.p.multiselect&&d++,a&&e>a)for(g=!0,f=a-1;a>d;)c[d].frozen=!0,d++;else for(;e>d&&c[d].frozen===!0;)g=!0,f=d,d++;if(f>=0&&g){var h=b.p.caption?$(b.grid.cDiv).outerHeight():0,i=$(".ui-jqgrid-htable","#gview_"+b.p.id).height();b.p.toolbar[0]===!0&&"bottom"!==b.p.toolbar[1]&&(h+=$(b.grid.uDiv).outerHeight()),b.grid.fhDiv=$('<div style="position:absolute;left:0px;top:'+h+"px;height:"+i+'px;border-bottom-width: 0px;" class="frozen-div ui-jqgrid-hdiv"></div>'),b.grid.fbDiv=$('<div style="position:absolute;left:0px;top:'+(parseInt(h,10)+parseInt(i,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>'),$("#gview_"+b.p.id).append(b.grid.fhDiv);var j=$(".ui-jqgrid-htable","#gview_"+b.p.id).clone(!0);if(b.p.groupHeader){$("tr.jqg-first-row-header, tr.jqg-third-row-header",j).each(function(){$("th:gt("+f+")",this).remove();var a=5;0==f&&(a+=4),$("th",this).each(function(){$(this).width($(this).width()+a)})});var k,l,m=-1,n=-1;$("tr.jqg-second-row-header th",j).each(function(){return k=parseInt($(this).attr("colspan"),10),l=parseInt($(this).attr("rowspan"),10),l&&(m++,n++),k&&(m+=k,n++),m===f?!1:void 0}),m!==f&&(n=f),$("tr.jqg-second-row-header",j).each(function(){$("th:gt("+n+")",this).remove()})}else $("tr",j).each(function(){$("th:gt("+f+")",this).remove(),$("th",this).each(function(){$(this).width($(this).width()+9)})});$(j).width(1),$(b.grid.fhDiv).append(j).mousemove(function(a){return b.grid.resizing?(b.grid.dragMove(a),!1):void 0}),b._bind("resizeStop.setFrozenColumns",function(a,c,d){var e=$("th:eq("+d+")",b.grid.hDiv).outerWidth(),f=$(".ui-jqgrid-htable",b.grid.fhDiv);$("th:eq("+d+")",f).outerWidth(e);var g=$(".ui-jqgrid-btable",b.grid.fbDiv);$("td:eq("+d+")",g).outerWidth(e)}),b._bind("onSortCol.setFrozenColumns",function(a,c,d){var e=$("tr.ui-jqgrid-labels:last th:eq("+b.p.lastsort+")",b.grid.fhDiv),f=$("tr.ui-jqgrid-labels:last th:eq("+d+")",b.grid.fhDiv);$("span.ui-grid-ico-sort",e).addClass("ui-state-disabled"),$(e).attr("aria-selected","false"),$("span.ui-icon-"+b.p.sortorder,f).removeClass("ui-state-disabled"),$(f).attr("aria-selected","true"),b.p.lastsort!==d&&($("span.s-ico",e).hide(),$("span.s-ico",f).show())}),$("#gview_"+b.p.id).append(b.grid.fbDiv),$(b.grid.bDiv).scroll(function(){$(b.grid.fbDiv).scrollTop($(this).scrollTop())}),b.p.hoverrows===!0&&$("#"+b.p.id).unbind("mouseover").unbind("mouseout"),b._bind("afterGridComplete.setFrozenColumns",function(){$("#"+b.p.id+"_frozen").remove(),$(b.grid.fbDiv).height($(b.grid.bDiv).height()-17);var a=$(b.$tb).clone(!0);$("tr[role=row]",a).each(function(){$("td[role=gridcell]:gt("+f+")",this).remove()});var c=$(".ui-jqgrid-htable",b.grid.fhDiv).find(".jqg-first-row-header th");$("tr[role=row]:first",a).each(function(){$("td",this).each(function(a){$.browser.msie?$(this).width($(c[a]).outerWidth()):$(this).outerWidth($(c[a]).outerWidth())})}),$(a).width(1).attr("id",b.p.id+"_frozen"),$(b.grid.fbDiv).append(a),b.p.hoverrows===!0&&($("tr.jqgrow",a).hover(function(){$(this).addClass("ui-state-hover"),$("#"+$.jgrid.jqID(this.id),"#"+b.p.id).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover"),$("#"+$.jgrid.jqID(this.id),"#"+b.p.id).removeClass("ui-state-hover")}),$("tr.jqgrow",b.$tb).hover(function(){$(this).addClass("ui-state-hover"),$("#"+$.jgrid.jqID(this.id),"#"+b.p.id+"_frozen").addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover"),$("#"+$.jgrid.jqID(this.id),"#"+b.p.id+"_frozen").removeClass("ui-state-hover")})),a=null}),b.grid.hDiv.loading||b._trigger("afterGridComplete"),b.p.frozenColumns=!0}}}},destroyFrozenColumns:function(){if(this.grid&&this.p.frozenColumns===!0){var a=this;if($(a.grid.fhDiv).remove(),$(a.grid.fbDiv).remove(),a.grid.fhDiv=null,a.grid.fbDiv=null,$(this.element).unbind(".setFrozenColumns"),a.p.hoverrows===!0){var b;$(a.$tb).bind("mouseover",function(a){b=$(a.target).closest("tr.jqgrow"),$(b).addClass("ui-state-hover")}).bind("mouseout",function(a){b=$(a.target).closest("tr.jqgrow"),$(b).removeClass("ui-state-hover")})}this.p.frozenColumns=!1}},sortableColumns:function(a){function b(){c.p.disableClick=!0}var c=this,d=c.p.id,e={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+d+"_cb,#jqgh_"+d+"_rn),:hidden)",placeholder:{element:function(a){var b=$(document.createElement(a[0].nodeName)).addClass(a[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0];return b},update:function(a,b){b.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),b.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10))}},update:function(a,b){var d=$(b.item).parent(),e=$(">th",d),f=c.p.colModel,g={},h=c.p.id+"_";$.each(f,function(a){g[this.name]=a});var i=[];e.each(function(){var a=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(h,"");g.hasOwnProperty(a)&&i.push(g[a])}),$(c.element).jqGrid("remapColumns",i,!0,!0),$.isFunction(c.p.sortable.update)&&c.p.sortable.update(i),setTimeout(function(){c.p.disableClick=!1},50)}};if(c.p.sortable.options?$.extend(e,c.p.sortable.options):$.isFunction(c.p.sortable)&&(c.p.sortable={update:c.p.sortable}),e.start){var f=e.start;e.start=function(a,c){b(),f.call(this,a,c)}}else e.start=b;c.p.sortable.exclude&&(e.items+=":not("+c.p.sortable.exclude+")"),a.sortable(e).data("sortable").floating=!0},sortableRows:function(a){var b=this;b.grid&&(b.p.treeGrid||$.fn.sortable&&(a=$.extend({cursor:"move",axis:"y",items:".jqgrow"},a||{}),a.start&&$.isFunction(a.start)?(a._start_=a.start,delete a.start):a._start_=!1,a.update&&$.isFunction(a.update)?(a._update_=a.update,delete a.update):a._update_=!1,a.start=function(c,d){$(d.item).css("border-width","0px"),$("td",d.item).each(function(a){this.style.width=b.grid.cols[a].style.width}),a._start_&&a._start_.apply(this,[c,d])},a.update=function(c,d){$(d.item).css("border-width",""),b.p.rownumbers===!0&&$("td.jqgrid-rownum",b.rows).each(function(a){$(this).html(a+1+(parseInt(b.p.page,10)-1)*parseInt(b.p.rowNum,10))}),a._update_&&a._update_.apply(this,[c,d])},$("tbody:first",b.elememt).sortable(a),$("tbody:first",b.elememt).disableSelection()))},gridDnD:function(a){function b(){var a=$.data(e.element[0],"dnd");$("tr.jqgrow:not(.ui-draggable)",e.element).draggable($.isFunction(a.drag)?a.drag.call(e.element[0],a):a.drag)}var c,d,e=this;if(e.grid&&!e.p.treeGrid&&$.fn.draggable&&$.fn.droppable){var f="<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>";if(void 0===$("#jqgrid_dnd")[0]&&$("body").append(f),"string"==typeof a&&"updateDnD"===a&&e.p.jqgdnd===!0)return void b();if(a=$.extend({drag:function(a){return $.extend({start:function(b,c){var d,f=$.data(e.element[0],"dnd");for(d=0;d<f.connectWith.length;d++)0===$(f.connectWith[d]).jqGrid("getGridParam","reccount")&&$(f.connectWith[d]).jqGrid("addRowData","jqg_empty_row",{});c.helper.addClass("ui-state-highlight"),$("td",c.helper).each(function(a){this.style.width=e.grid.headers[a].width+"px"}),a.onstart&&$.isFunction(a.onstart)&&a.onstart.call(e.element[0],b,c)},stop:function(b,c){var d,f;c.helper.dropped&&!a.dragcopy&&(f=$(c.helper).attr("id"),void 0===f&&(f=$(this).attr("id")),$(e.element).jqGrid("delRowData",f));var g=$.data(e.element[0],"dnd");for(d=0;d<g.connectWith.length;d++)$(g.connectWith[d]).jqGrid("delRowData","jqg_empty_row");a.onstop&&$.isFunction(a.onstop)&&a.onstop.call(e.element[0],b,c)}},a.drag_opts||{})},drop:function(a){return $.extend({accept:function(a){if(!$(a).hasClass("jqgrow"))return a;var b=$(a).closest(".ui-jqgrid");if(b.length>0&&void 0!==$.data(b[0],"dnd")){var c=$.data(b[0],"dnd").connectWith;return-1!==$.inArray("#"+this.id,c)?!0:!1}return!1},drop:function(b,c){if($(c.draggable).hasClass("jqgrow")){var d=$(c.draggable).attr("id"),f=c.draggable.closest(".ui-jqgrid").jqGrid("getRowData",d);if(!a.dropbyname){var g,h,i=0,j={},k=$("#"+this.id).jqGrid("getGridParam","colModel");try{for(h in f)if(f.hasOwnProperty(h)){if(h===e.p.localReader.id)continue;g=k[i].name,"cb"!==g&&"rn"!==g&&f.hasOwnProperty(h)&&k[i]&&(j[g]=f[h]),i++}f=j}catch(l){}}if(c.helper.dropped=!0,a.beforedrop&&$.isFunction(a.beforedrop)){var m=a.beforedrop.call(this,b,c,f,e.p.id,$(this));void 0!==m&&null!==m&&"object"==typeof m&&(f=m)}if(c.helper.dropped){var n;a.autoid&&(n=$.isFunction(a.autoid)?a.autoid.call(this,f):a.autoidprefix+$.jgrid.randId()),$("#"+this.id).jqGrid("addRowData",n,f,a.droppos)}a.ondrop&&$.isFunction(a.ondrop)&&a.ondrop.call(this,b,c,f)}}},a.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},a||{}),a.connectWith)for(a.connectWith=a.connectWith.split(","),a.connectWith=$.map(a.connectWith,function(a){return $.trim(a)}),$.data(e.element[0],"dnd",a),0===e.p.reccount||e.p.jqgdnd||b(),e.p.jqgdnd=!0,c=0;c<a.connectWith.length;c++)d=a.connectWith[c],$(d).droppable($.isFunction(a.drop)?a.drop.call(e.element[0],a):a.drop)}},gridResize:function(opts){var ts=this,gID=ts.p.id;if(ts.grid&&$.fn.resizable){if(opts=$.extend({},opts||{}),opts.alsoResize?(opts._alsoResize_=opts.alsoResize,delete opts.alsoResize):opts._alsoResize_=!1,opts.stop&&$.isFunction(opts.stop)?(opts._stop_=opts.stop,delete opts.stop):opts._stop_=!1,opts.stop=function(a,b){$(ts.element).jqGrid("setGridParam",{height:$("#gview_"+gID+" .ui-jqgrid-bdiv").height()}),$(ts.element).jqGrid("setGridWidth",b.size.width,opts.shrinkToFit),opts._stop_&&opts._stop_.call(ts.element[0],a,b)},opts._alsoResize_){var optstest="{'#gview_"+gID+" .ui-jqgrid-bdiv':true,'"+opts._alsoResize_+"':true}";opts.alsoResize=eval("("+optstest+")")}else opts.alsoResize=$(".ui-jqgrid-bdiv","#gview_"+gID);delete opts._alsoResize_,$(ts.element).resizable(opts)}}})}),!function(a){"function"==typeof define&&define.amd?define("fish.grid.tree",a):a()}(function(){"use strict";$.extend($.ui.grid.prototype,{setTreeNode:function(a,b){var c=this;if(c.grid&&c.p.treeGrid)for(var d,e,f,g,h,i,j=c.p.expColInd,k=c.p.treeReader.expanded_field,l=c.p.treeReader.leaf_field,m=c.p.treeReader.level_field,n=c.p.treeReader.icon_field,o=c.p.treeReader.loaded;b>a;){var p,q=$.jgrid.stripPref(c.p.idPrefix,c.rows[a].id),r=c.p._index[q];if(h=c.p.data[r],d=parseInt(h[m],10),0===c.p.tree_root_level?(e=d+1,f=d):(e=d,f=d-1),g="<div class='tree-wrap' style='width:"+18*e+"px;'>",g+="<div style='left:"+18*f+"px;' class='ui-icon ",void 0!==h[o]&&(h[o]="true"===h[o]||h[o]===!0?!0:!1),"true"===h[l]||h[l]===!0?(g+=(void 0!==h[n]&&""!==h[n]?h[n]:c.p.treeIcons.leaf)+" tree-leaf treeclick",h[l]=!0,i="leaf"):(h[l]=!1,i=""),h[k]=("true"===h[k]||h[k]===!0?!0:!1)&&(h[o]||void 0===h[o]),g+=h[k]===!1?h[l]===!0?"'":c.p.treeIcons.plus+" tree-plus treeclick'":h[l]===!0?"'":c.p.treeIcons.minus+" tree-minus treeclick'",g+="></div></div>",$(c.rows[a].cells[j]).wrapInner("<span class='cell-wrapper"+i+"'></span>").prepend(g),d!==parseInt(c.p.tree_root_level,10)){var s=$(c.element).jqGrid("getNodeParent",h);p=s&&s.hasOwnProperty(k)?s[k]:!0,p||$(c.rows[a]).css("display","none")}$(c.rows[a].cells[j]).find("div.treeclick").bind("click",function(a){var b=a.target||a.srcElement,d=$.jgrid.stripPref(c.p.idPrefix,$(b,c.rows).closest("tr.jqgrow")[0].id),e=c.p._index[d],f=c._trigger("beforeSelectRow",[d,a]);if(f===!1)return!1;if(!c.p.data[e][l])if(c.p.data[e][k])$(c.element).jqGrid("collapseNode",c.p.data[e]),c._trigger("onRowCollapse",[c.p.data[e]]);else{if($(c.element).jqGrid("expandNode",c.p.data[e]),c._trigger("onRowExpand",[c.p.data[e]]),!c.p.leafChange)return!1;var g=c.p.data[e],h=$(c.element).jqGrid("getNodeChildren",g);if(0==h.length){g[l]=!0,g[k]=!1,$(c.element).jqGrid("setTreeRow",g[c.p.keyName],g);var i=$(c.element).jqGrid("getInd",g[c.p.keyName]);$(c.rows[i]).find("span.cell-wrapper").removeClass("cell-wrapper").addClass("cell-wrapperleaf").end().find("div.tree-minus").removeClass(c.p.treeIcons.minus+" tree-minus").addClass(c.p.treeIcons.leaf+" tree-leaf")}}return!1}),c.p.ExpandColClick===!0&&$(c.rows[a].cells[j]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(a){var b=a.target||a.srcElement,d=$.jgrid.stripPref(c.p.idPrefix,$(b,c.rows).closest("tr.jqgrow")[0].id),e=c.p._index[d];return c.p.data[e][l]||(c.p.data[e][k]?$(c.element).jqGrid("collapseNode",c.p.data[e]):$(c.element).jqGrid("expandNode",c.p.data[e])),$(c.element).jqGrid("setSelection",d),!1}),a++}},setTreeGrid:function(){var a,b,c,d,e=this,f=0,g=!1,h=[];if(e.p.treeGrid){e.p.altRows=!1,e.p.viewrecords=!1,e.p.expColInd=0,a="ui-icon-triangle-1-"+("rtl"===e.p.direction?"w":"e"),e.p.treeIcons=$.extend({plus:a,minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off"},e.p.treeIcons||{}),e.p.treeReader=$.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},e.p.treeReader);for(c in e.p.colModel)if(e.p.colModel.hasOwnProperty(c)){b=e.p.colModel[c].name,b!==e.p.ExpandColumn||g||(g=!0,e.p.expColInd=f),f++;for(d in e.p.treeReader)e.p.treeReader.hasOwnProperty(d)&&e.p.treeReader[d]===b&&h.push(b)}$.each(e.p.treeReader,function(a,b){b&&-1===$.inArray(b,h)&&("leaf_field"===a&&(e.p._treeleafpos=f),f++,e.p.colModel.push({label:b,name:b,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))})}},expandRow:function(a){var b=this;if(b.grid&&b.p.treeGrid){var c=$(b.element).jqGrid("getNodeChildren",a),d=b.p.treeReader.expanded_field;$(c).each(function(){var a=b.p.idPrefix+$.jgrid.getAccessor(this,b.p.keyName);$($(b.element).jqGrid("getGridRowById",a)).css("display",""),this[d]&&$(b.element).jqGrid("expandRow",this)})}},collapseRow:function(a){var b=this;if(b.grid&&b.p.treeGrid){var c=$(b.element).jqGrid("getNodeChildren",a),d=b.p.treeReader.expanded_field;$(c).each(function(){var a=b.p.idPrefix+$.jgrid.getAccessor(this,b.p.keyName);$($(b.element).jqGrid("getGridRowById",a)).css("display","none"),this[d]&&$(b.element).jqGrid("collapseRow",this)})}},getRootNodes:function(){var a=[],b=this;if(b.grid&&b.p.treeGrid){var c=b.p.treeReader.parent_id_field;return $(b.p.data).each(function(){(null===this[c]||"null"===String(this[c]).toLowerCase()||void 0===this[c]||"undefined"===this[c]||""===this[c])&&a.push(this)}),a}},getNodeDepth:function(a){var b=null;if(this.grid&&this.p.treeGrid){var c=this;return b=$(c.element).jqGrid("getNodeAncestors",a).length}},getNodeParent:function(a){var b=null,c=this;if(c.grid&&c.p.treeGrid){var d=c.p.treeReader.parent_id_field,e=c.p.keyName;return $(this.p.data).each(function(){return this[e]===$.jgrid.stripPref(c.p.idPrefix,a[d])?(b=this,!1):void 0}),b}},getNodeChildren:function(a){var b=[],c=this;if(c.grid&&c.p.treeGrid){var d=c.p.treeReader.parent_id_field,e=c.p.keyName;return $(this.p.data).each(function(){this[d]==$.jgrid.stripPref(c.p.idPrefix,a[e])&&b.push(this)}),b}},getFullTreeNode:function(a){var b,c=[],d=this;if(d.grid&&d.p.treeGrid){if(a){c.push(a);var e=d.p.treeReader.parent_id_field,f=d.p.keyName;$(this.p.data).each(function(a){for(b=c.length,a=0;b>a;a++)if($.jgrid.stripPref(d.p.idPrefix,c[a][f])===this[e]){c.push(this);break}})}return c}},getNodeAncestors:function(a){var b=[],c=this;if(this.grid&&this.p.treeGrid){for(var d=$(c.element).jqGrid("getNodeParent",a);d;)b.push(d),d=$(c.element).jqGrid("getNodeParent",d);return b}},isVisibleNode:function(a){var b=!0,c=this;if(c.grid&&c.p.treeGrid){var d=$(c.element).jqGrid("getNodeAncestors",a),e=c.p.treeReader.expanded_field;return $(d).each(function(){return b=b&&this[e],b?void 0:!1}),b}},expandNode:function(a){var b=this;if(b.grid&&b.p.treeGrid){var c=b.p.treeReader.expanded_field;if(!a[c]||"false"===a[c]){a[c]=!0;var d=$.jgrid.getAccessor(a,b.p.keyName),e=$("#"+b.p.idPrefix+d,b.grid.bDiv)[0];$("div.treeclick",e).removeClass(b.p.treeIcons.plus+" tree-plus").addClass(b.p.treeIcons.minus+" tree-minus")}$(b.element).jqGrid("expandRow",a)}},collapseNode:function(a){var b=this;if(b.grid&&b.p.treeGrid){var c=b.p.treeReader.expanded_field;if(a[c]||"true"===a[c]){a[c]=!1;var d=$.jgrid.getAccessor(a,b.p.keyName),e=$("#"+b.p.idPrefix+$.jgrid.jqID(d),b.grid.bDiv)[0];$("div.treeclick",e).removeClass(b.p.treeIcons.minus+" tree-minus").addClass(b.p.treeIcons.plus+" tree-plus")}$(b.element).jqGrid("collapseRow",a)}},SortTree:function(a,b,c,d){if(this.grid&&this.p.treeGrid){var e,f,g,h,i,j=[],k=this,l=$(this).jqGrid("getRootNodes");for(h=$.jgrid.from(l),h.orderBy(a,b,c,d),i=h.select(),e=0,f=i.length;f>e;e++)g=i[e],j.push(g),$(k.element).jqGrid("collectChildrenSortTree",j,g,a,b,c,d);$.each(j,function(a){var b=$.jgrid.getAccessor(this,k.p.keyName);$("#"+$.jgrid.jqID(k.p.id)+" tbody tr:eq("+a+")").after($("tr#"+$.jgrid.jqID(b),k.grid.bDiv))}),h=null,i=null,j=null}},collectChildrenSortTree:function(a,b,c,d,e,f){var g=this;if(g.grid&&g.p.treeGrid){var h,i,j,k,l,m;for(k=$(g.element).jqGrid("getNodeChildren",b),l=$.jgrid.from(k),l.orderBy(c,d,e,f),m=l.select(),h=0,i=m.length;i>h;h++)j=m[h],a.push(j),$(g.element).jqGrid("collectChildrenSortTree",a,j,c,d,e,f)}},setTreeRow:function(a,b){return this.jqGrid("modTreeNode",a,b)},modTreeNode:function(a,b){var c=!1,d=this;return d.grid&&d.p.treeGrid?c=$(d.element).jqGrid("setRowData",a,b):void 0},delTreeNode:function(a){var b=this,c=b.p.keyName;if("object"===$.type(a)&&(a=a[c]),b.grid&&b.p.treeGrid){var d=b.p._index[a];if(void 0!==d){var e=$(b.element).jqGrid("getFullTreeNode",b.p.data[d]);if(e.length>0)for(var f=0;f<e.length;f++)$(b.element).jqGrid("delRowData",e[f][c])}}},addChildNode:function(a,b,c,d){var e=this;if("object"===$.type(a)&&(d=c,c=a,a=c[e.p.keyName]),"object"===$.type(b)&&(b=b[e.p.keyName]),c){var f,g,h,i,j,k,l,m=e.p.treeReader.expanded_field,n=e.p.treeReader.leaf_field,o=e.p.treeReader.level_field,p=e.p.treeReader.parent_id_field,q=e.p.treeReader.loaded,r=0,s=b;if(void 0===d&&(d=!1),void 0===a||null===a){if(j=e.p.data.length-1,j>=0)for(;j>=0;)r=Math.max(r,parseInt(e.p.data[j][e.p.keyName],10)),j--;a=r+1}var t=$(e.element).jqGrid("getInd",b);if(l=!1,void 0===b||null===b||""===b)b=null,s=null,f="last",i=e.p.tree_root_level,j=e.p.data.length+1;else{f="after",g=e.p._index[b],h=e.p.data[g],b=h[e.p.keyName],i=parseInt(h[o],10)+1;var u=$(e.element).jqGrid("getFullTreeNode",h);u.length?(j=u[u.length-1][e.p.keyName],s=j,j=$(e.element).jqGrid("getInd",s)+1):j=$(e.element).jqGrid("getInd",b)+1,h[n]&&(l=!0,h[m]=!0,$(e.rows[t]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(e.p.treeIcons.leaf+" tree-leaf").addClass(e.p.treeIcons.minus+" tree-minus"),e.p.data[g][n]=!1,h[q]=!0)}k=j+1,void 0===c[m]&&(c[m]=!1),void 0===c[q]&&(c[q]=!1),c[o]=i,void 0===c[n]&&(c[n]=!0),c[p]=b,$(e.element).jqGrid("addRowData",a,c,f,s),$(e.element).jqGrid("setTreeNode",j,k),h&&!h[m]&&d&&$(e.rows[t]).find("div.treeclick").click()}},addChildNodes:function(a,b,c){var d,b,e,f=this;if("object"===$.type(b)&&(d=b,b=d[f.p.keyName]),a){$.isArray(a)||(a=[a]),"child"===f.p.treeDataFormat?a=$.jgrid.childrenDataFormat(a,f.p.keyName):"line"===f.p.treeDataFormat&&(a=$.jgrid.treeDataFormat(a)),e=b;var g,h,i,j,k,l,e,m=f.p.treeReader.expanded_field,n=f.p.treeReader.leaf_field,o=f.p.treeReader.level_field,p=f.p.treeReader.parent_id_field,q=f.p.treeReader.loaded;void 0===c&&(c=!1);var r=$(f.element).jqGrid("getInd",b);if(l=!1,void 0===b||null===b||""===b)b=null,e=null,g="last",i=f.p.tree_root_level,j=f.p.data.length+1;else{g="after",h=f.p._index[b],b=d[f.p.keyName],i=parseInt(d[o],10)+1;var s=$(f.element).jqGrid("getFullTreeNode",d);s.length?(j=s[s.length-1][f.p.keyName],e=j,j=$(f.element).jqGrid("getInd",e)+1):j=$(f.element).jqGrid("getInd",b)+1,d[n]&&(l=!0,d[m]=!0,$(f.rows[r]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(f.p.treeIcons.leaf+" tree-leaf").addClass(f.p.treeIcons.minus+" tree-minus"),f.p.data[h][n]=!1,d[q]=!0)}k=j+a.length;for(var t=0;t<a.length;t++)void 0===a[t][m]&&(a[t][m]=!1),a[t][q]=!0,a[t][o]+=i,void 0===a[t][n]&&(a[t][n]=!0),(void 0===a[t][p]||null===a[t][p])&&(a[t][p]=b);$(f.element).jqGrid("addRowData",f.p.keyName,a,g,e),$(f.element).jqGrid("setTreeNode",j,k),d&&!d[m]&&c&&$(f.rows[r]).find("div.treeclick").click()}}}),$.jgrid.treeDataFormat=function(a,b){for(var c=0;c<a.length;c++)null==a[c].isLeaf&&(a[c].isLeaf=c==a.length-1||a[c+1].level<=a[c].level?!0:!1),a[c].level=a[c].level-1,b?a[c].expanded=!0:null==a[c].expanded&&(a[c].expanded=!1),a[c].loaded=!0;return a},$.jgrid.childrenDataFormat=function(a,b,c){function d(a,g,h){for(var i=0;i<a.length;i++){var j=a[i],k=j;k.level=g,k.parent=h,null==k.isLeaf&&(k.isLeaf=k.hasOwnProperty("children")?!1:!0),c?k.expanded=!0:null==k.expanded&&(k.expanded=!1),k.loaded=!0,e[f++]=k,null!=k.children&&(k.children.length>0&&d(k.children,g+1,k[b]),k.children=null)}}var e=[],f=0,g=0;return d(a,g,null),e}}),!function(a){"function"==typeof define&&define.amd?define("fish.grid.edithelp",a):a()}(function(){"use strict";$.extend($.jgrid,{findPos:function(a){var b=0,c=0;if(a.offsetParent)do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return[b,c]},info_dialog:function(a,b){alert(b)},bindEv:function(a,b){var c=this;$.isFunction(b.dataInit)&&b.dataInit.call(c,a,b),b.dataEvents&&$.each(b.dataEvents,function(){void 0!==this.data?$(a).bind(this.type,this.data,this.fn):$(a).bind(this.type,this.fn)})},createEl:function(a,b,c,d,e){function f(a,b,c){var d=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value"];void 0!==c&&$.isArray(c)&&$.merge(d,c),$.each(b,function(b,c){-1===$.inArray(b,d)&&$(a).attr(b,c)}),b.hasOwnProperty("id")||$(a).attr("id",$.jgrid.randId())}var g="",h=this;switch(a){case"textarea":g=document.createElement("textarea"),d?b.cols||$(g).css({width:"98%"}):b.cols||(b.cols=20),b.rows||(b.rows=2),("&nbsp;"===c||"&#160;"===c||1===c.length&&160===c.charCodeAt(0))&&(c=""),g.value=c,f(g,b),$(g).attr({role:"textbox",multiline:"true"});break;case"checkbox":if(g=document.createElement("input"),g.type="checkbox",b.value){var i=b.value.split(":");c===i[0]&&(g.checked=!0,g.defaultChecked=!0),g.value=i[0],$(g).attr("offval",i[1])}else{var j=(c+"").toLowerCase();j.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==j?(g.checked=!0,g.defaultChecked=!0,g.value=c):g.value="on",$(g).attr("offval","off")}f(g,b,["value"]),$(g).attr("role","checkbox");break;case"select":g=document.createElement("select"),g.setAttribute("role","select");var k,l=[];if(b.multiple===!0?(k=!0,g.multiple="multiple",$(g).attr("aria-multiselectable","true")):k=!1,void 0!==b.dataUrl){var m=b.name?String(b.id).substring(0,String(b.id).length-String(b.name).length-1):String(b.id),n=b.postData||e.postData;h.p&&h.p.idPrefix&&(m=$.jgrid.stripPref(h.p.idPrefix,m)),$.ajax($.extend({url:$.isFunction(b.dataUrl)?b.dataUrl.call(h,m,c,String(b.name)):b.dataUrl,type:"GET",dataType:"html",data:$.isFunction(n)?n.call(h,m,c,String(b.name)):n,context:{elem:g,options:b,vl:c},success:function(a){var b=[],c=this.elem,d=this.vl,e=$.extend({},this.options),g=e.multiple===!0,i=$.isFunction(e.buildSelect)?e.buildSelect.call(h,a):a;"string"==typeof i&&(i=$($.trim(i)).html()),i&&($(c).append(i),f(c,e,n?["postData"]:void 0),void 0===e.size&&(e.size=g?3:1),g?(b=d.split(","),b=$.map(b,function(a){return $.trim(a)})):b[0]=$.trim(d),setTimeout(function(){$("option",c).each(function(a){0===a&&c.multiple&&(this.selected=!1),$(this).attr("role","option"),($.inArray($.trim($(this).text()),b)>-1||$.inArray($.trim($(this).val()),b)>-1)&&(this.selected="selected")})},0))}},e||{}))}else if(b.value){var o;void 0===b.size&&(b.size=k?3:1),k&&(l=c.split(","),l=$.map(l,function(a){return $.trim(a)})),"function"==typeof b.value&&(b.value=b.value());var p,q,r,s=void 0===b.separator?":":b.separator,t=void 0===b.delimiter?";":b.delimiter;if("string"==typeof b.value)for(p=b.value.split(t),o=0;o<p.length;o++)q=p[o].split(s),q.length>2&&(q[1]=$.map(q,function(a,b){return b>0?a:void 0}).join(s)),r=document.createElement("option"),r.setAttribute("role","option"),r.value=q[0],r.innerHTML=q[1],g.appendChild(r),k||$.trim(q[0])!==$.trim(c)&&$.trim(q[1])!==$.trim(c)||(r.selected="selected"),k&&($.inArray($.trim(q[1]),l)>-1||$.inArray($.trim(q[0]),l)>-1)&&(r.selected="selected");else if("object"==typeof b.value){var u,v=b.value;for(u in v)v.hasOwnProperty(u)&&(r=document.createElement("option"),r.setAttribute("role","option"),r.value=u,r.innerHTML=v[u],g.appendChild(r),k||$.trim(u)!==$.trim(c)&&$.trim(v[u])!==$.trim(c)||(r.selected="selected"),k&&($.inArray($.trim(v[u]),l)>-1||$.inArray($.trim(u),l)>-1)&&(r.selected="selected"))}f(g,b,["value"])}break;case"text":case"password":case"button":var w;w="button"===a?"button":"textbox",g=document.createElement("input"),g.type=a,g.value=c,f(g,b),"button"!==a&&(d?b.size||$(g).css({width:"98%"}):b.size||(b.size=20)),$(g).attr("role",w);break;case"image":case"file":g=document.createElement("input"),g.type=a,f(g,b);break;case"custom":g=document.createElement("span");try{if(!$.isFunction(b.custom_element))throw"e1";var x=b.custom_element.call(h,c,b);if(!x)throw"e2";x=$(x).addClass("customelement").attr({id:b.id,name:b.name}),$(g).empty().append(x)}catch(y){"e1"===y&&$.jgrid.info_dialog($.jgrid.errors.errcap,"function 'custom_element' "+$.jgrid.edit.msg.nodefined,$.jgrid.edit.bClose),"e2"===y?$.jgrid.info_dialog($.jgrid.errors.errcap,"function 'custom_element' "+$.jgrid.edit.msg.novalue,$.jgrid.edit.bClose):$.jgrid.info_dialog($.jgrid.errors.errcap,"string"==typeof y?y:y.message,$.jgrid.edit.bClose)}}return g},checkDate:function(a,b){var c,d=function(a){return a%4!==0||a%100===0&&a%400!==0?28:29},e={};if(a=a.toLowerCase(),c=-1!==a.indexOf("/")?"/":-1!==a.indexOf("-")?"-":-1!==a.indexOf(".")?".":"/",a=a.split(c),b=b.split(c),3!==b.length)return!1;var f,g,h=-1,i=-1,j=-1;for(g=0;g<a.length;g++){var k=isNaN(b[g])?0:parseInt(b[g],10);e[a[g]]=k,f=a[g],-1!==f.indexOf("y")&&(h=g),-1!==f.indexOf("m")&&(j=g),-1!==f.indexOf("d")&&(i=g)}f="y"===a[h]||"yyyy"===a[h]?4:"yy"===a[h]?2:-1;var l,m=[0,31,29,31,30,31,30,31,31,30,31,30,31];return-1===h?!1:(l=e[a[h]].toString(),2===f&&1===l.length&&(f=1),l.length!==f||0===e[a[h]]&&"00"!==b[h]?!1:-1===j?!1:(l=e[a[j]].toString(),l.length<1||e[a[j]]<1||e[a[j]]>12?!1:-1===i?!1:(l=e[a[i]].toString(),l.length<1||e[a[i]]<1||e[a[i]]>31||2===e[a[j]]&&e[a[i]]>d(e[a[h]])||e[a[i]]>m[e[a[j]]]?!1:!0)))},isEmpty:function(a){return a.match(/^\s+$/)||""===a?!0:!1},checkTime:function(a){var b,c=/^(\d{1,2}):(\d{2})([apAP][Mm])?$/;if(!$.jgrid.isEmpty(a)){if(b=a.match(c),!b)return!1;
if(b[3]){if(b[1]<1||b[1]>12)return!1}else if(b[1]>23)return!1;if(b[2]>59)return!1}return!0},checkValues:function(a,b,c,d){var e,f,g,h,i,j=this,k=j.p.colModel;if(void 0===c)if("string"==typeof b){for(f=0,i=k.length;i>f;f++)if(k[f].name===b){e=k[f].editrules,b=f,null!=k[f].formoptions&&(g=k[f].formoptions.label);break}}else b>=0&&(e=k[b].editrules);else e=c,g=void 0===d?"_":d;if(e){if(g||(g=null!=j.p.colModel?j.p.colModel[b].label:k[b].label),e.required===!0&&$.jgrid.isEmpty(a))return[!1,g+": "+$.jgrid.edit.msg.required,""];var l=e.required===!1?!1:!0;if(e.number===!0&&(l!==!1||!$.jgrid.isEmpty(a))&&isNaN(a))return[!1,g+": "+$.jgrid.edit.msg.number,""];if(void 0!==e.minValue&&!isNaN(e.minValue)&&parseFloat(a)<parseFloat(e.minValue))return[!1,g+": "+$.jgrid.edit.msg.minValue+" "+e.minValue,""];if(void 0!==e.maxValue&&!isNaN(e.maxValue)&&parseFloat(a)>parseFloat(e.maxValue))return[!1,g+": "+$.jgrid.edit.msg.maxValue+" "+e.maxValue,""];var m;if(e.email===!0&&!(l===!1&&$.jgrid.isEmpty(a)||(m=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,m.test(a))))return[!1,g+": "+$.jgrid.edit.msg.email,""];if(e.integer===!0&&(l!==!1||!$.jgrid.isEmpty(a))){if(isNaN(a))return[!1,g+": "+$.jgrid.edit.msg.integer,""];if(a%1!==0||-1!==a.indexOf("."))return[!1,g+": "+$.jgrid.edit.msg.integer,""]}if(e.date===!0&&!(l===!1&&$.jgrid.isEmpty(a)||(k[b].formatoptions&&k[b].formatoptions.newformat?(h=k[b].formatoptions.newformat,$.jgrid.formatter.date.masks.hasOwnProperty(h)&&(h=$.jgrid.formatter.date.masks[h])):h=k[b].datefmt||"Y-m-d",$.jgrid.checkDate(h,a))))return[!1,g+": "+$.jgrid.edit.msg.date+" - "+h,""];if(e.time===!0&&!(l===!1&&$.jgrid.isEmpty(a)||$.jgrid.checkTime(a)))return[!1,g+": "+$.jgrid.edit.msg.date+" - hh:mm (am/pm)",""];if(e.url===!0&&!(l===!1&&$.jgrid.isEmpty(a)||(m=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,m.test(a))))return[!1,g+": "+$.jgrid.edit.msg.url,""];if(e.custom===!0&&(l!==!1||!$.jgrid.isEmpty(a))){if($.isFunction(e.custom_func)){var n=e.custom_func.call(j,a,g,b);return $.isArray(n)?n:[!1,$.jgrid.edit.msg.customarray,""]}return[!1,$.jgrid.edit.msg.customfcheck,""]}}return[!0,"",""]}})}),!function(a){"function"==typeof define&&define.amd?define("fish.grid.inline",a):a()}(function(){"use strict";$.extend($.ui.grid.prototype,{editCell:function(a,b,c){var d,e,f,g,h=this;if(h.grid&&h.p.cellEdit===!0){if(b=parseInt(b,10),h.p.selrow=h.rows[a].id,h.p.savedRow.length>0){if(c===!0&&a==h.p.iRow&&b==h.p.iCol)return;h.p.cellAutoSave===!0||"true"===h.p.cellAutoSave?$(h.element).jqGrid("saveCell",h.p.savedRow[0].id,h.p.savedRow[0].ic):(h.p.cellAutoSave===!1||"false"===h.p.cellAutoSave)&&$(h.element).jqGrid("restoreCell",h.p.savedRow[0].id,h.p.savedRow[0].ic)}if(g=h.p.colModel[b],d=g.name,"cb"!==d&&"rn"!==d){if(f=$("td:eq("+b+")",h.rows[a]),g.editable!==!0||c!==!0||f.hasClass("not-editable-cell"))parseInt(h.p.iCol,10)>=0&&parseInt(h.p.iRow,10)>=0&&($("td:eq("+h.p.iCol+")",h.rows[h.p.iRow]).removeClass("edit-cell ui-state-highlight"),$(h.rows[h.p.iRow]).removeClass("selected-row ui-state-hover")),f.addClass("edit-cell ui-state-highlight"),$(h.rows[a]).addClass("selected-row ui-state-hover"),e=f.html().replace(/\&#160\;/gi,""),h._trigger("selectCell",[h.rows[a].id,d,e,a,b]),$.isFunction(h.p.onSelectCell)&&h.p.onSelectCell.call(h,h.rows[a].id,d,e,a,b);else{parseInt(h.p.iCol,10)>=0&&parseInt(h.p.iRow,10)>=0&&($("td:eq("+h.p.iCol+")",h.rows[h.p.iRow]).removeClass("edit-cell ui-state-highlight"),$(h.rows[h.p.iRow]).removeClass("selected-row ui-state-hover")),$(f).addClass("edit-cell ui-state-highlight"),$(h.rows[a]).addClass("selected-row ui-state-hover");try{e=$.unformat.call(h,f,{rowId:h.rows[a].id,colModel:g},b,!0)}catch(_){e=g.edittype&&"textarea"===g.edittype?$(f).text():$(f).html()}if(h.p.autoencode&&(e=$.jgrid.htmlDecode(e)),g.edittype||(g.edittype="text"),h.p.savedRow.push({id:a,ic:b,name:d,v:e}),("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))&&(e=""),$.isFunction(h.p.formatCell)){var i=h.p.formatCell.call(h,h.rows[a].id,d,e,a,b);void 0!==i&&(e=i)}h._trigger("beforeEditCell",[h.rows[a].id,d,e,a,b]);var j=$.extend({},g.editoptions||{},{id:a+"_"+d,name:d}),k=$.jgrid.createEl.call(h,g.edittype,j,e,!0,$.extend({},$.jgrid.ajaxOptions,h.p.ajaxSelectOptions||{}));$(f).html("").append(k).attr("tabindex","0"),$.jgrid.bindEv.call(h,k,j),window.setTimeout(function(){$(k).focus()},0),$("input, select, textarea",f).bind("keydown",function(c){if(27===c.keyCode&&$(h.element).jqGrid("restoreCell",a,b),13===c.keyCode)return $(h.element).jqGrid("saveCell",a,b),!1;if(9===c.keyCode){if(h.grid.hDiv.loading)return!1;c.shiftKey?$(h.element).jqGrid("prevCell",a,b):$(h.element).jqGrid("nextCell",a,b)}c.stopPropagation()}),h._trigger("afterEditCell",[h.rows[a].id,d,e,a,b])}h.p.iCol=b,h.p.iRow=a}}},saveCell:function(a,b){var c,d=this;if(d.grid&&d.p.cellEdit===!0&&(c=d.p.savedRow.length>=1?0:null,null!==c)){var e,f,g=$("td:eq("+b+")",d.rows[a]),h=d.p.colModel[b],i=h.name,j=$.jgrid.jqID(i);switch(h.edittype){case"select":e=$("#"+a+"_"+j+" option:selected",d.rows[a]).val(),f=$("#"+a+"_"+j+" option:selected",d.rows[a]).text(),h.formatter&&(f=e);break;case"checkbox":var k=["Yes","No"];h.editoptions&&(k=h.editoptions.value.split(":")),e=$("#"+a+"_"+j,d.rows[a]).is(":checked")?k[0]:k[1],f=e;break;case"password":case"text":case"textarea":case"button":e=$("#"+a+"_"+j,d.rows[a]).val(),f=e;break;case"custom":try{if(!h.editoptions||!$.isFunction(h.editoptions.custom_value))throw"e1";if(e=h.editoptions.custom_value.call(d,$(".customelement",g),"get"),void 0===e)throw"e2";f=e}catch(l){"e1"===l&&$.jgrid.info_dialog($.jgrid.errors.errcap,"function 'custom_value' "+$.jgrid.edit.msg.nodefined,$.jgrid.edit.bClose),"e2"===l?$.jgrid.info_dialog($.jgrid.errors.errcap,"function 'custom_value' "+$.jgrid.edit.msg.novalue,$.jgrid.edit.bClose):$.jgrid.info_dialog($.jgrid.errors.errcap,l.message,$.jgrid.edit.bClose)}}if(f!==d.p.savedRow[c].v){var m=d._trigger("beforeSaveCell",[d.rows[a].id,i,e,a,b]);if(m&&"object"==typeof m&&m.push&&m.length>1&&m[0]===!1){try{window.setTimeout(function(){$.jgrid.info_dialog($.jgrid.errors.errcap,e+" "+m[1],$.jgrid.edit.bClose)},100),$(d.element).jqGrid("restoreCell",a,b)}catch(l){}return!1}var n=$.jgrid.checkValues.call(d,e,b);if(n[0]===!0){var o=d._trigger("beforeSubmitCell",[d.rows[a].id,i,e,a,b])||{};$.isFunction(d.p.beforeSubmitCell)&&(o=d.p.beforeSubmitCell.call(d,d.rows[a].id,i,e,a,b),o||(o={})),$(g).empty(),$(d.element).jqGrid("setCell",d.rows[a].id,b,f,!1,!1,!0);var p=$(g).position().left;$(g).addClass("dirty-cell").prepend('<span class="span-dirty" style="left:'+p+'px"></span>'),$(d.rows[a]).addClass("edited"),d._trigger("afterSaveCell",[d.rows[a].id,i,e,a,b]),d.p.savedRow.splice(0,1)}else try{window.setTimeout(function(){$.jgrid.info_dialog($.jgrid.errors.errcap,e+" "+n[1],$.jgrid.edit.bClose)},100),$(d.element).jqGrid("restoreCell",a,b)}catch(l){}}else $(d.element).jqGrid("restoreCell",a,b)}},restoreCell:function(a,b){var c,d=this;if(d.grid&&d.p.cellEdit===!0&&(c=d.p.savedRow.length>=1?0:null,null!==c)){var e=$("td:eq("+b+")",d.rows[a]);$(e).empty().attr("tabindex","-1"),$(d.element).jqGrid("setCell",d.rows[a].id,b,d.p.savedRow[c].v,!1,!1,!0),d._trigger("afterRestoreCell",[d.rows[a].id,d.p.savedRow[c].v,a,b]),d.p.savedRow.splice(0,1)}},nextCell:function(a,b){var c,d=this,e=!1;if(d.grid&&d.p.cellEdit===!0){for(;a<=d.p.reccount;){for(c=b+1;c<d.p.colModel.length;c++)if(d.p.colModel[c].editable===!0){e=c;break}if(!(e===!1&&a<d.p.reccount))break;a++,b=0}e!==!1?$(d.element).jqGrid("editCell",a,e,!0):d.p.savedRow.length>0&&$(d.element).jqGrid("saveCell",a,b)}},prevCell:function(a,b){var c,d=this,e=!1;if(d.grid&&d.p.cellEdit===!0){for(;a>0;){for(c=b-1;c>=0;c--)if(d.p.colModel[c].editable===!0){e=c;break}if(!(e===!1&&a>1))break;a--,b=d.p.colModel.length-1}e!==!1?$(d.element).jqGrid("editCell",a,e,!0):d.p.savedRow.length>0&&$(d.element).jqGrid("saveCell",a,b)}},getChangedCells:function(a){var b=[];a||(a="all");var c,d=this;if(d.grid&&d.p.cellEdit===!0)return $(d.rows).each(function(e){var f={};$(this).hasClass("edited")&&($("td",this).each(function(b){if(c=d.p.colModel[b].name,"cb"!==c)if("dirty"===a){if($(this).hasClass("dirty-cell"))try{f[c]=$.unformat.call(d,this,{rowId:d.rows[e].id,colModel:d.p.colModel[b]},b,!0)}catch(g){f[c]=$.jgrid.htmlDecode($(this).html())}}else try{f[c]=$.unformat.call(d,this,{rowId:d.rows[e].id,colModel:d.p.colModel[b]},b,!0)}catch(g){f[c]=$.jgrid.htmlDecode($(this).html())}}),f.id=this.id,b.push(f))}),b}})}),!function(a){"function"==typeof define&&define.amd?define("fish.grid.inline",a):a()}(function(){"use strict";$.jgrid.inlineEdit=$.jgrid.inlineEdit||{},$.extend($.ui.grid.prototype,{editRow:function(a,b){b=$.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0},$.jgrid.inlineEdit,b);var c,d,e,f,g,h,i=this,j=0,k=null,l={};i.grid&&(f=$(i.element).jqGrid("getInd",a,!0),f!==!1&&(h=$.isFunction(b.beforeEditRow)?b.beforeEditRow.call(i,b,a):void 0,void 0===h&&(h=!0),h&&(e=$(f).attr("editable")||"0","0"!==e||$(f).hasClass("not-editable-row")||(g=i.p.colModel,$('td[role="gridcell"]',f).each(function(b){c=g[b].name;var e=i.p.treeGrid===!0&&c===i.p.ExpandColumn;if(e)d=$("span:first",this).html();else try{d=$.unformat.call(i,this,{rowId:a,colModel:g[b]},b,!0)}catch(_){d=g[b].edittype&&"textarea"===g[b].edittype?$(this).text():$(this).html()}if("cb"!==c&&"rn"!==c&&(i.p.autoencode&&(d=$.jgrid.htmlDecode(d)),l[c]=d,g[b].editable===!0)){null===k&&(k=b),e?$("span:first",this).html(""):$(this).html("");var f=$.extend({},g[b].editoptions||{},{id:a+"_"+c,name:c});g[b].edittype||(g[b].edittype="text"),("&nbsp;"===d||"&#160;"===d||1===d.length&&160===d.charCodeAt(0))&&(d="");var h=$.jgrid.createEl.call(i,g[b].edittype,f,d,!0,$.extend({},$.jgrid.ajaxOptions,i.p.ajaxSelectOptions||{}));$(h).addClass("editable"),e?$("span:first",this).append(h):$(this).append(h),$.jgrid.bindEv.call(i,h,f),"select"===g[b].edittype&&void 0!==g[b].editoptions&&g[b].editoptions.multiple===!0&&void 0===g[b].editoptions.dataUrl&&$.browser.msie&&$(h).width($(h).width()),j++}}),j>0&&(l.id=a,i.p.savedRow.push(l),$(f).attr("editable","1"),$("td:eq("+k+") input",f).focus(),b.keys===!0&&$(f).bind("keydown",function(c){if(27===c.keyCode)return $(i.element).jqGrid("restoreRow",a,b.afterrestorefunc),!1;if(13===c.keyCode){var d=c.target;return"TEXTAREA"===d.tagName?!0:($(i.element).jqGrid("saveRow",a,b),!1)}}),i._trigger("inlineEditRow",[a,b]),$.isFunction(b.oneditfunc)&&b.oneditfunc.call(i,a))))))},saveRow:function(a,b){b=$.extend(!0,{extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0},$.jgrid.inlineEdit,b);var c,d,e,f,g,h=!1,i=this,j={},k={};if(!i.grid)return h;if(g=$(i.element).jqGrid("getInd",a,!0),g===!1)return h;if(d=$(g).attr("editable"),"1"===d){var l;$('td[role="gridcell"]',g).each(function(a){if(l=i.p.colModel[a],c=l.name,"cb"!==c&&l.editable===!0&&"rn"!==c&&!$(this).hasClass("not-editable-cell")){switch(l.edittype){case"checkbox":var b=["Yes","No"];l.editoptions&&(b=l.editoptions.value.split(":")),j[c]=$("input",this).is(":checked")?b[0]:b[1];break;case"text":case"password":case"textarea":case"button":j[c]=$("input, textarea",this).val();break;case"select":j[c]=$("select option:selected",this).val(),k[c]=$("select option:selected",this).text(),l.formatter&&"select"===l.formatter&&(k={});break;case"custom":try{if(!l.editoptions||!$.isFunction(l.editoptions.custom_value))throw"e1";if(j[c]=l.editoptions.custom_value.call(i,$(".customelement",this),"get"),void 0===j[c])throw"e2"}catch(d){"e1"===d&&$.jgrid.info_dialog($.jgrid.errors.errcap,"function 'custom_value' "+$.jgrid.edit.msg.nodefined,$.jgrid.edit.bClose),"e2"===d?$.jgrid.info_dialog($.jgrid.errors.errcap,"function 'custom_value' "+$.jgrid.edit.msg.novalue,$.jgrid.edit.bClose):$.jgrid.info_dialog($.jgrid.errors.errcap,d.message,$.jgrid.edit.bClose)}}if(f=$.jgrid.checkValues.call(i,j[c],a),f[0]===!1)return!1;i.p.autoencode&&(j[c]=$.jgrid.htmlEncode(j[c]))}});var m=i._trigger("beforeSaveRow",[a,j,b]);if(m&&"object"==typeof m&&m.push&&m.length>1&&m[0]===!1){try{var n=$(i.element).jqGrid("getGridRowById",a),o=$.jgrid.findPos(n);$.jgrid.info_dialog($.jgrid.errors.errcap,m[1],$.jgrid.edit.bClose,{left:o[0],top:o[1]+$(n).outerHeight()})}catch(p){}return h}if(f[0]===!1){try{var n=$(i.element).jqGrid("getGridRowById",a),o=$.jgrid.findPos(n);$.jgrid.info_dialog($.jgrid.errors.errcap,f[1],$.jgrid.edit.bClose,{left:o[0],top:o[1]+$(n).outerHeight()})}catch(p){alert(f[1])}return h}var q,r=i.p.prmNames,s=a;if(q=i.p.keyName,j){if(j[r.oper]=r.editoper,void 0===j[q]||""===j[q])j[q]=a;else if(g.id!==i.p.idPrefix+j[q]){var t=$.jgrid.stripPref(i.p.idPrefix,a);if(void 0!==i.p._index[t]&&(i.p._index[j[q]]=i.p._index[t],delete i.p._index[t]),a=i.p.idPrefix+j[q],$(g).attr("id",a),i.p.selrow===s&&(i.p.selrow=a),$.isArray(i.p.selarrrow)){var u=$.inArray(s,i.p.selarrrow);u>=0&&(i.p.selarrrow[u]=a)}if(i.p.multiselect){var v="jqg_"+i.p.id+"_"+a;$("input.cbox",g).attr("id",v).attr("name",v)}}void 0===i.p.inlineData&&(i.p.inlineData={}),j=$.extend({},j,i.p.inlineData,b.extraparam)}j=$.extend({},j,k),i.p.autoencode&&$.each(j,function(a,b){j[a]=$.jgrid.htmlDecode(b)});var w,x=$(i.element).jqGrid("setRowData",a,j);for($(g).attr("editable","0"),w=0;w<i.p.savedRow.length;w++)if(String(i.p.savedRow[w].id)===String(s)){e=w;break}e>=0&&i.p.savedRow.splice(e,1),i._trigger("inlineAfterSaveRow",[a,j,b]),$.isFunction(b.aftersavefunc)&&b.aftersavefunc.call(i,a,x,b),h=!0,$(g).removeClass("jqgrid-new-row").unbind("keydown")}return h},restoreRow:function(a,b){var c=$.makeArray(arguments).slice(1),d={};"object"===$.type(c[0])?d=c[0]:$.isFunction(b)&&(d.afterrestorefunc=b),d=$.extend(!0,{},$.jgrid.inlineEdit,d);var e,f,g,h=this,i={};if(h.grid&&(f=$(h.element).jqGrid("getInd",a,!0),f!==!1)){var j=$.isFunction(d.beforeCancelRow)?d.beforeCancelRow.call(h,cancelPrm,sr):void 0;if(void 0===j&&(j=!0),j){for(g=0;g<h.p.savedRow.length;g++)if(String(h.p.savedRow[g].id)===String(a)){e=g;break}e>=0&&($.each(h.p.colModel,function(){this.editable===!0&&h.p.savedRow[e].hasOwnProperty(this.name)&&(i[this.name]=h.p.savedRow[e][this.name])}),$(h.element).jqGrid("setRowData",a,i),$(f).attr("editable","0").unbind("keydown"),h.p.savedRow.splice(e,1),$("#"+a,h.$tb).hasClass("jqgrid-new-row")&&setTimeout(function(){$(h.element).jqGrid("delRowData",a)},0)),h._trigger("inlineAfterRestoreRow",[a]),$.isFunction(d.afterrestorefunc)&&d.afterrestorefunc.call(h,a)}}},addRow:function(a){if(a=$.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},a||{}),this.grid){var b=this,c=$.isFunction(a.beforeAddRow)?a.beforeAddRow.call(b,a.addRowParams):void 0;if(void 0===c&&(c=!0),c){var d=b.p.keyName;if(a.rowID=$.isFunction(a.rowID)?a.rowID.call(b,a):null!=a.rowID?a.rowID:a.initdata[d]?a.initdata[d]:$.jgrid.randId(),a.useDefValues===!0&&$(b.p.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var c=this.editoptions.defaultValue,d=$.isFunction(c)?c.call(b):c;a.initdata[this.name]=d}}),$(b.element).jqGrid("addRowData",a.rowID,a.initdata,a.position),a.rowID=b.p.idPrefix+a.rowID,$("#"+$.jgrid.jqID(a.rowID),"#"+$.jgrid.jqID(b.p.id)).addClass("jqgrid-new-row"),a.useFormatter)$("#"+$.jgrid.jqID(a.rowID)+" .ui-inline-edit","#"+$.jgrid.jqID(b.p.id)).click();else{var e=b.p.prmNames,f=e.oper;a.addRowParams.extraparam[f]=e.addoper,$(b.element).jqGrid("editRow",a.rowID,a.addRowParams),$(b.element).jqGrid("setSelection",a.rowID)}}}}})}),!function(a){"function"==typeof define&&define.amd?define("fish.icheck",a):a()}(function(){"use strict";$.widget("ui.icheck",{_create:function(){var a=this.element.attr("type"),b="checkbox"===a?"icheckbox":"iradio";this.$parent=this.element.wrap('<div class="'+b+'"></div>').parent(),this.$helper=$('<ins class="icheck-helper"/>'),this.$helper.appendTo(this.$parent),this._update(),this._delegateEvent()},_delegateEvent:function(){this._on(this.element,{change:"_onChange"}),this.$helper.on("click",$.proxy(this._onHelperClick,this))},_setOption:function(a,b){this._super(a,b),"disabled"===a&&(this.element.attr(a,b),this.$parent.toggleClass("disabled",b))},_destroy:function(){this.$helper.remove(),this.element.unwrap()},_update:function(){this.$parent[this.element.prop("checked")?"addClass":"removeClass"]("checked")},_onChange:function(){var a,b=this.element.attr("type");"radio"===b?(this._offOtherCheck(),a=!0):(a=this.element.prop("checked"),this.$parent.removeClass("indeterminate")),this.$parent.toggleClass("checked",a)},_onHelperClick:function(){this.options.disabled||this._onChange()},_offOtherCheck:function(){var a,b,c=this;a=this.element.closest("form"),b='input[name="'+this.element.attr("name")+'"]',b=a.length?a.find(b):$(b),b.each(function(){this!=c.element[0]&&$(this).data("icheck")&&$(this).icheck("uncheck")})},check:function(){var a=this.element.prop("checked"),b=this.element.attr("type"),c=this.element.attr("name");a||("radio"===b&&c?this._offOtherCheck():this.element.prop("indeterminate",!1),this.element.prop("checked",!0)),this.$parent.removeClass("indeterminate").addClass("checked")},uncheck:function(){var a=this.element.prop("checked");a&&this.element.prop("checked",!1),this.$parent.removeClass("checked")},indeterminate:function(){var a=this.element.prop("indeterminate");a||(this.element.prop("indeterminate",!0),this.element.prop("checked",!1)),this.$parent.removeClass("checked").addClass("indeterminate")},determinate:function(){var a=this.element.prop("indeterminate");a&&this.element.prop("indeterminate",!1),this.$parent.removeClass("indeterminate")}})}),!function(a){"function"==typeof define&&define.amd?define("fish.intro",a):a()}(function(){$.widget("ui.intro",{options:{nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",toolTipPosition:"bottom",toolTipClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,scrollToElement:!0,overlayOpacity:.8,rtl:!1,beforeChange:$.noop,change:$.noop,afterChange:$.noop,complete:$.noop,exit:$.noop},_create:function(){var a=this.element;this.options=$.extend({},this.options,{nextLabel:a.data("next-label"),prevLabel:a.data("prev-label"),skipLabel:a.data("skip-label"),doneLabel:a.data("done-label"),toolTipPosition:a.data("tooltip-position"),toolTipClass:a.data("tooltip-class"),exitOnEsc:a.data("exit-on-esc"),exitOnOverlayClick:a.data("exit-on-overlay-click"),showStepNumbers:a.data("show-step-numbers"),keyboardNavigation:a.data("keyboard-navigation"),showButtons:a.data("show-buttons"),showBullets:a.data("show-bulltets")})},_init:function(){},_destroy:function(){},_start:function(){var a=[],b=this.element;if(this.options.steps)for(var c=[],d=0,e=this.options.steps.length;e>d;d++){var f=$.extend(!0,{},this.options.steps[d]);f.step=a.length+1,"string"==typeof f.element&&(f.element=$(f.element)),null!=f.element&&a.push(f)}else{var c=b.find("*[data-intro]");if(c.length<1)return!1;for(var d=0,g=c.length;g>d;d++){var h=$(c[d]),i=parseInt(h.data("step"),10);a[i-1]={element:h,intro:h.data("intro"),step:i,tooltipClass:h.data("tooltipClass"),position:h.data("position")||this.options.tooltipposition}}}a.sort(function(a,b){return a.step-b.step}),this.introItems=a,this._addOverlayLayer(),this._nextStep(),this._handleEvent()},_handleEvent:function(){function a(a){a.keyCode===$.ui.keyCode.ESCAPE&&c.options.exitOnEsc===!0?(c._trigger("exit",null,c.introItems[c.currentStep]),c._exitIntro()):a.keyCode===$.ui.keyCode.LEFT?c._previousStep():(a.keyCode===$.ui.keyCode.RIGHT||a.keyCode===$.ui.keyCode.ENTER)&&(c._nextStep(),a.preventDefault?a.preventDefault():a.returnValue=!1)}var b,c=this;this.options.keyboardNavigation===!0&&(document.addEventListener?$(window).on("keydown.intro",a):$(document).on("keydown.intro",a)),$(window).on("resize.intro",function(){clearTimeout(b),b=setTimeout(function(){c._setHelperLayer(c.element.find(".ui-intro-helper-layer"))},150)})},_addOverlayLayer:function(){var a=$('<div class="ui-intro-overlay"></div>'),b="",c=this,d=this.element;if(d.is(document)||d.is(document.body))b+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",a.attr("style",b);else{var e=d.offset();b+="width:"+d.outerwidth()+"px",b+=",height:"+d.outerheight()+"px",b+=",top:"+e.top+"px",b+=",left:"+e.left+"px",a.attr("style",b)}return d.append(a),a.on("click",function(){c.options.exitOnOverlayClick===!0&&(a.off("click"),c._trigger("exit",null,c.introItems[c.currentStep]),c._exitIntro())}),setTimeout(function(){b+="opacity: "+c.options.overlayOpacity+";",a.attr("style",b)},10),!0},_setHelperLayer:function(a){if(a&&0!=a.length){var b=this.introItems[this.currentStep];if(!b)return;var c=this._getOffset(b.element),d=10;"floating"==b.position&&(d=0),a.attr("style","width: "+(c.width+d)+"px; height:"+(c.height+d)+"px; top:"+(c.top-5)+"px;left: "+(c.left-5)+"px;")}},_showIntro:function(a){this._trigger("change",null,a);{var b=this,c=document.querySelector(".ui-intro-helper-layer");this._getOffset(a.element)}if(null!=c){var d=$(c),e=c.querySelector(".ui-intro-helper-number-layer"),f=c.querySelector(".ui-intro-tooltiptext"),g=c.querySelector(".ui-intro-arrow"),h=c.querySelector(".ui-intro-tooltip"),i=d.find(".ui-intro-skipbutton"),j=d.find(".ui-intro-prevbutton"),k=d.find(".ui-intro-nextbutton");if(h.style.opacity=0,null!=e){var l=this.introItems[a.step-2>=0?a.step-2:0];(null!=l&&"forward"==this._direction&&"floating"==l.position||"backward"==this._direction&&"floating"==a.position)&&(e.style.opacity=0)}this._setHelperLayer($(c)),$(".ui-intro-fix-parent").removeClass("ui-intro-fix-parent");var m=document.querySelector(".ui-intro-show-element");m.className=m.className.replace(/ui-intro-[a-za-z]+/g,"").replace(/^\s+|\s+$/g,""),b._lastshowelementtimer&&clearTimeout(b._lastshowelementtimer),b._lastshowelementtimer=setTimeout(function(){null!=e&&(e.innerHTML=a.step),f.innerHTML=a.intro,b._placeToolTip(a.element,h,g,e),d.find(".ui-intro-bullets li > a.active").removeClass(),d.find(".ui-intro-bullets li > a").each(function(){var b=$(this);return b.data("step-number")==a.step?(b.addClass("active"),!1):void 0}),h.style.opacity=1,e&&(e.style.opacity=1)},350)}else{var n=$('<div class="ui-intro-helper-layer"></div>'),o=$('<div class="ui-intro-arrow"></div>'),p=$('<div class="ui-intro-tooltip"></div>'),q=$('<div class="ui-intro-tooltiptext"></div>').html(a.intro),r=$('<div class="ui-intro-bullets"></div>'),s=$('<div class="ui-intro-tooltipbuttons"></div>');this.options.rtl===!0&&(s.addClass("rtl"),p.addClass("rtl")),this._setHelperLayer(n),this.element.append(n),this.options.showBullets===!1&&r.css("display","none");for(var t=$("<ul>"),u=0,v=this.introItems.length;v>u;u++){var w=$("<li>"),x=$('<a href="javascript:void(0)">&nbsp;</a>');x.on("click",function(){var a=$(this).data("step-number");t.find("li a.active").data("step-number")!==a&&b.goToStep(a)}),u===a.step-1&&x.removeClass().addClass("active"),x.data("step-number",this.introItems[u].step),w.append(x),t.append(w)}if(r.append(t),this.options.showButtons===!1&&s.css("display","none"),p.append(q).append(r),this.options.showStepNumbers===!0){var y=$('<span class="ui-intro-helper-number-layer">'+a.step+"</span>");n.append(y)}n.append(p.append(o));var k=$('<a href="javascript:void(0)" class="ui-intro-button ui-intro-nextbutton">'+this.options.nextLabel+"</a>");k.on("click",function(){b.introItems.length-1!=b.currentStep&&b._nextStep()});var j=$('<a href="javascript:void(0)" class="ui-intro-button ui-intro-prevbutton">'+this.options.prevLabel+"</a>");j.on("click",function(){0!=b.currentStep&&b._previousStep()});var i=$('<a href="javascript:void(0)" class="ui-intro-button ui-intro-skipbutton">'+this.options.skiplabel+"</a>");i.on("click",function(){b.introItems.length-1==b.currentStep&&b._trigger("complete"),b.introItems.length-1!=b.currentStep&&b._trigger("exit",null,b.introItems[b.currentStep]),b._exitIntro()}),this.options.rtl===!0&&i.addClass("rtl"),s.append(i),this.introItems.length>1&&s.append(j).append(k),p.append(s),this._placeToolTip(a.element,p[0],o[0],y[0])}0==this.currentStep&&this.introItems.length>1?(j.addClass("ui-intro-disabled"),k.removeClass("ui-intro-disabled"),i.html(this.options.skipLabel)):this.introItems.length-1==this.currentStep||1==this.introItems.length?(j.removeClass("ui-intro-disabled"),k.addClass("ui-intro-disabled"),i.html(this.options.doneLabel)):(j.removeClass("ui-intro-disabled"),k.removeClass("ui-intro-disabled"),i.html(this.options.skipLabel)),k.focus(),a.element.addClass("ui-intro-show-element");var z=a.element.css("position");"absolute"!==z&&"relative"!==z&&a.element.addClass("ui-intro-relative-position");for(var A=a.element.parent();null!=A&&0!=A.length;){var B=A[0];if("body"===B.tagName.toLowerCase())break;var C=A.css("z-index"),D=parseFloat(A.css("opacity")),E=A.css("transform")||A.css("-webkit-transform")||A.css("-moz-transform")||A.css("-ms-transform")||A.css("-o-transform");(/[0-9]+/.test(C)||1>D||"none"!==E)&&A.addClass("ui-intro-fix-parent"),A=A.parent()}if(!this._isInViewPort(a.element[0])&&this.options.scrollToElement===!0){var F=a.element[0],G=F.getBoundingClientRect(),H=$(window).outerHeight(),I=G.bottom-(G.bottom-G.top),J=G.bottom-H;0>I||F.clientHeight>H?window.scrollBy(0,I-30):window.scrollBy(0,J+100)}this._trigger("afterChange",null,a)},_placeToolTip:function(a,b,c,d){var e,f,g,h="";if(b.style.top=null,b.style.right=null,b.style.bottom=null,b.style.left=null,b.style.marginLeft=null,b.style.marginTop=null,c.style.display="inherit","undefined"!=typeof d&&null!=d&&(d.style.top=null,d.style.left=null),this.introItems[this.currentStep]){e=this.introItems[this.currentStep],h="string"==typeof e.tooltipClass?e.tooltipClass||"":this.options.tooltipClass||"",b.className=(b.className+h).replace(/^\s+|\s+$/g,"");var h=this.options.tooltipClass,i=this.introItems[this.currentStep].position;switch(i){case"top":b.style.left="15px",b.style.top="-"+(this._getOffset($(b)).height+10)+"px",c.className="ui-intro-arrow bottom";break;case"right":b.style.left=this._getOffset($(a)).width+20+"px",c.className="ui-intro-arrow left";break;case"left":1==this.options.showStepNumbers&&(b.style.top="15px"),b.style.right=this._getOffset($(a)).width+20+"px",c.className="ui-intro-arrow right";break;case"floating":c.style.display="none",f=this._getOffset($(b)),b.style.left="50%",b.style.top="50%",b.style.marginLeft="-"+f.width/2+"px",b.style.marginTop="-"+f.height/2+"px","undefined"!=typeof d&&null!=d&&(d.style.left="-"+(f.width/2+18)+"px",d.style.top="-"+(f.height/2+18)+"px");break;case"bottom-right-aligned":c.className="ui-intro-arrow top-right",b.style.right="0px",b.style.bottom="-"+(this._getOffset($(b)).height+10)+"px";break;case"bottom-middle-aligned":g=this._getOffset(a),f=this._getOffset(b),c.className="ui-intro-arrow top-middle",b.style.left=g.width/2-f.width/2+"px",b.style.bottom="-"+(f.height+10)+"px";break;case"bottom-left-aligned":case"bottom":default:b.style.bottom="-"+(this._getOffset($(b)).height+10)+"px",c.className="ui-intro-arrow top"}}},_getOffset:function(a){var b=a.offset();return $.extend({},b,{width:a.outerWidth(),height:a.outerHeight()})},_isInViewPort:function(a){var b=a.getBoundingClientRect();return b.top>=0&&b.left>=0&&b.bottom+80<=window.innerHeight&&b.right<=window.innerWidth},_nextStep:function(){if(this.direction="forward","undefined"==typeof this.currentStep?this.currentStep=0:++this.currentStep,this.introItems.length<=this.currentStep)return this._trigger("complete"),void this._exitIntro();var a=this.introItems[this.currentStep];this._trigger("beforeChange",null,a),this._showIntro(a)},_previousStep:function(){if(this.direction="backward",0===this.currentStep)return!1;var a=this.introItems[--this.currentStep];this._trigger("beforeChange",null,a),this._showIntro(a)},_goToStep:function(a){this.currentStep=a-2,"undefined"!=typeof this.introItems&&this._nextStep()},_exitIntro:function(){var a=this.element,b=a.find(".ui-intro-overlay");if(null!=b&&0!==b.length){b.css("opacity",0),setTimeout(function(){b.remove()},500),a.find(".ui-intro-helper-layer").remove(),a.find(".ui-intro-floating-element").remove();var c=document.querySelector(".ui-intro-show-element");c&&(c.className=c.className.replace(/ui-intro-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""));var d=document.querySelectorAll(".ui-intro-fix-parent");if(d&&d.length>0)for(var e=d.length-1;e>=0;e--)d[e].className=d[e].className.replace(/ui-intro-fix-parent/g,"").replace(/^\s+|\s+$/g,"");document.addEventListener?$(window).off("keydown.intro"):$(document).off("resize.intro"),this.currentStep=void 0}},start:function(){return this._start(),this},goToStep:function(a){return this._goToStep(a),this},nextStep:function(){return this._nextStep(),this},previousStep:function(){return this._previousStep(),this},exit:function(){return this._exitIntro(),this}})}),!function(a){"function"==typeof define&&define.amd?define("fish.md5",a):a()}(function(){"use strict";function a(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function b(a,b){return a<<b|a>>>32-b}function c(c,d,e,f,g,h){return a(b(a(a(d,c),a(f,h)),g),e)}function d(a,b,d,e,f,g,h){return c(b&d|~b&e,a,b,f,g,h)}function e(a,b,d,e,f,g,h){return c(b&e|d&~e,a,b,f,g,h)}function f(a,b,d,e,f,g,h){return c(b^d^e,a,b,f,g,h)}function g(a,b,d,e,f,g,h){return c(d^(b|~e),a,b,f,g,h)}function h(b,c){b[c>>5]|=128<<c%32,b[(c+64>>>9<<4)+14]=c;var h,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(h=0;h<b.length;h+=16)i=m,j=n,k=o,l=p,m=d(m,n,o,p,b[h],7,-680876936),p=d(p,m,n,o,b[h+1],12,-389564586),o=d(o,p,m,n,b[h+2],17,606105819),n=d(n,o,p,m,b[h+3],22,-1044525330),m=d(m,n,o,p,b[h+4],7,-176418897),p=d(p,m,n,o,b[h+5],12,1200080426),o=d(o,p,m,n,b[h+6],17,-1473231341),n=d(n,o,p,m,b[h+7],22,-45705983),m=d(m,n,o,p,b[h+8],7,1770035416),p=d(p,m,n,o,b[h+9],12,-1958414417),o=d(o,p,m,n,b[h+10],17,-42063),n=d(n,o,p,m,b[h+11],22,-1990404162),m=d(m,n,o,p,b[h+12],7,1804603682),p=d(p,m,n,o,b[h+13],12,-40341101),o=d(o,p,m,n,b[h+14],17,-1502002290),n=d(n,o,p,m,b[h+15],22,1236535329),m=e(m,n,o,p,b[h+1],5,-165796510),p=e(p,m,n,o,b[h+6],9,-1069501632),o=e(o,p,m,n,b[h+11],14,643717713),n=e(n,o,p,m,b[h],20,-373897302),m=e(m,n,o,p,b[h+5],5,-701558691),p=e(p,m,n,o,b[h+10],9,38016083),o=e(o,p,m,n,b[h+15],14,-660478335),n=e(n,o,p,m,b[h+4],20,-405537848),m=e(m,n,o,p,b[h+9],5,568446438),p=e(p,m,n,o,b[h+14],9,-1019803690),o=e(o,p,m,n,b[h+3],14,-187363961),n=e(n,o,p,m,b[h+8],20,1163531501),m=e(m,n,o,p,b[h+13],5,-1444681467),p=e(p,m,n,o,b[h+2],9,-51403784),o=e(o,p,m,n,b[h+7],14,1735328473),n=e(n,o,p,m,b[h+12],20,-1926607734),m=f(m,n,o,p,b[h+5],4,-378558),p=f(p,m,n,o,b[h+8],11,-2022574463),o=f(o,p,m,n,b[h+11],16,1839030562),n=f(n,o,p,m,b[h+14],23,-35309556),m=f(m,n,o,p,b[h+1],4,-1530992060),p=f(p,m,n,o,b[h+4],11,1272893353),o=f(o,p,m,n,b[h+7],16,-155497632),n=f(n,o,p,m,b[h+10],23,-1094730640),m=f(m,n,o,p,b[h+13],4,681279174),p=f(p,m,n,o,b[h],11,-358537222),o=f(o,p,m,n,b[h+3],16,-722521979),n=f(n,o,p,m,b[h+6],23,76029189),m=f(m,n,o,p,b[h+9],4,-640364487),p=f(p,m,n,o,b[h+12],11,-421815835),o=f(o,p,m,n,b[h+15],16,530742520),n=f(n,o,p,m,b[h+2],23,-995338651),m=g(m,n,o,p,b[h],6,-198630844),p=g(p,m,n,o,b[h+7],10,1126891415),o=g(o,p,m,n,b[h+14],15,-1416354905),n=g(n,o,p,m,b[h+5],21,-57434055),m=g(m,n,o,p,b[h+12],6,1700485571),p=g(p,m,n,o,b[h+3],10,-1894986606),o=g(o,p,m,n,b[h+10],15,-1051523),n=g(n,o,p,m,b[h+1],21,-2054922799),m=g(m,n,o,p,b[h+8],6,1873313359),p=g(p,m,n,o,b[h+15],10,-30611744),o=g(o,p,m,n,b[h+6],15,-1560198380),n=g(n,o,p,m,b[h+13],21,1309151649),m=g(m,n,o,p,b[h+4],6,-145523070),p=g(p,m,n,o,b[h+11],10,-1120210379),o=g(o,p,m,n,b[h+2],15,718787259),n=g(n,o,p,m,b[h+9],21,-343485551),m=a(m,i),n=a(n,j),o=a(o,k),p=a(p,l);
return[m,n,o,p]}function i(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function j(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function k(a){return i(h(j(a),8*a.length))}function l(a,b){var c,d,e=j(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=h(e,8*a.length)),c=0;16>c;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=h(f.concat(j(b)),512+8*b.length),i(h(g.concat(d),640))}function m(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function n(a){return unescape(encodeURIComponent(a))}function o(a){return k(n(a))}function p(a){return m(o(a))}function q(a,b){return l(n(a),n(b))}function r(a,b){return m(q(a,b))}fish.MD5=function(a,b,c){return b?c?q(b,a):r(b,a):c?o(a):p(a)}}),!function(a){"function"==typeof define&&define.amd?define("fish.menu",a):a()}(function(){var a=!1;$.widget("ui.menu",{defaultElement:"<ul>",delay:300,options:{icons:{submenu:"arrow-left",firstmenu:"arrow-down"},menus:"ul",position:{my:"left top",at:"right top",collision:"flipfit"},firstposition:{my:"left top",at:"left bottom+2",collision:"flipfit"},role:"menu",disabled:!1,blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,$.proxy(function(a){this.options.disabled&&a.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(b){var c=$(b.target).closest(".ui-menu-item");!a&&c.not(".ui-state-disabled").length&&(a=!0,this.select(b),c.has(".ui-menu").length?this.expand(b):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(a){var b=$(a.currentTarget);b.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(a,b)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,c)},blur:function(a){this._delay(function(){$.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(a)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(b){$(b.target).closest(".ui-menu").length||this.collapseAll(b),a=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var a=$(this);a.data("ui-menu-submenu-carat")&&a.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider")},_keydown:function(a){function b(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var c,d,e,f,g,h=!0;switch(a.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(a);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(a);break;case $.ui.keyCode.HOME:this._move("first","first",a);break;case $.ui.keyCode.END:this._move("last","last",a);break;case $.ui.keyCode.UP:this.previous(a);break;case $.ui.keyCode.DOWN:this.next(a);break;case $.ui.keyCode.LEFT:this.collapse(a);break;case $.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(a);break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(a);break;case $.ui.keyCode.ESCAPE:this.collapse(a);break;default:h=!1,d=this.previousFilter||"",e=String.fromCharCode(a.keyCode),f=!1,clearTimeout(this.filterTimer),e===d?f=!0:e=d+e,g=new RegExp("^"+b(e),"i"),c=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test($(this).children("a").text())}),c=f&&-1!==c.index(this.active.next())?this.active.nextAll(".ui-menu-item"):c,c.length||(e=String.fromCharCode(a.keyCode),g=new RegExp("^"+b(e),"i"),c=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test($(this).children("a").text())})),c.length?(this.focus(a,c),c.length>1?(this.previousFilter=e,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}h&&a.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var a,b=this,c=this.options.icons,d=this.element.find(this.options.menus);d.filter(":not(.ui-menu)").addClass("ui-menu").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var a=$(this),d=a.prev("a"),e=b.element.hasClass("ui-menu-horizontal")&&b.element[0]==a.parent().parent()[0],f=$("<span>").addClass("ui-menu-icon "+(e?c.firstmenu:c.submenu)).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(f),a.attr("aria-labelledby",d.attr("id"))}),a=d.add(this.element),a.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),a.children(":not(.ui-menu-item)").each(function(){var a=$(this);/[^\-—–\s]/.test(a.text())||a.addClass("ui-menu-divider")}),a.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!$.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(a,b){var c,d;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(a){var b,c,d,e,f,g;this._hasScroll()&&(b=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0,c=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0,d=a.offset().top-this.activeMenu.offset().top-b-c,e=this.activeMenu.scrollTop(),f=this.activeMenu.height(),g=a.height(),0>d?this.activeMenu.scrollTop(e+d):d+g>f&&this.activeMenu.scrollTop(e+d-f+g))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(a){var b=this.element.hasClass("ui-menu-horizontal")&&this.element[0]==a.parent().parent()[0],c=$.extend({of:this.active},b?this.options.firstposition:this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(a.parents(".ui-menu")).hide().attr("aria-hidden","true"),a.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(a,b){clearTimeout(this.timer),this.timer=this._delay(function(){var c=b?this.element:$(a&&a.target).closest(this.element.find(".ui-menu"));c.length||(c=this.element),this._close(c),this.blur(a),this.activeMenu=c},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[b]()),this.focus(c,d)},nextPage:function(a){var b,c,d;return this.active?void(this.isLastItem()||(this._hasScroll()?(c=this.active.offset().top,d=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return b=$(this),b.offset().top-c-d<0}),this.focus(a,b)):this.focus(a,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(a)},previousPage:function(a){var b,c,d;return this.active?void(this.isFirstItem()||(this._hasScroll()?(c=this.active.offset().top,d=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return b=$(this),b.offset().top-c+d>0}),this.focus(a,b)):this.focus(a,this.activeMenu.children(".ui-menu-item").first()))):void this.next(a)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(a){this.active=this.active||$(a.target).closest(".ui-menu-item");var b={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(a,!0),this._trigger("select",a,b)}})}),!function(a){"function"==typeof define&&define.amd?define("fish.multiselect",a):a()}(function(){"use strict";var a;a=function(){function a(){this.options_index=0,this.parsed=[]}return a.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)},a.prototype.add_group=function(a){var b,c,d,e,f,g;for(b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:_.escape(a.label),children:0,disabled:a.disabled}),f=a.childNodes,g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},a.prototype.add_option=function(a,b,c){return"OPTION"===a.nodeName.toUpperCase()?(""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:c===!0?c:a.disabled,group_array_index:b,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},a}(),a.selectToArray=function(b){var c,d,e,f,g;for(d=new a,g=b.childNodes,e=0,f=g.length;f>e;e++)c=g[e],d.add_node(c);return d.parsed};var b='<div><ul class="ui-multiselect-choices"><li class="search-field"><input type="text" autocomplete="off"/></li></ul><ul class="dropdown-menu ui-multiselect-results"></ul></div>';$.widget("ui.multiselect",{widgetEventPrefix:"",options:{dataTextField:"name",dataValueField:"value",dataSource:[],placeholder:"",completeSearch:!1,containsSearch:!1,tabKey:!0,deleteKey:!0,maxLength:1/0,inheritClasses:!1,displaySelectedOptions:!0,displayDisabledOptions:!0,groupSearch:!0},_create:function(){this._setDefaultValues(),this._setUpHtml(),this._eventHandler()},_setDefaultValues:function(){this.options.placeholder=this.options.placeholder||this.element.attr("data-placeholder"),this.currentSelectedIndex=this.element[0].selectedIndex,this._active=!1,this._mouseOn=!1,this.results_showing=!1,this.result_highlighted=null},_setUpHtml:function(){var a,c,d=this.options;a=["ui-multiselect-container"],d.inheritClasses&&this.element[0].className&&a.push(this.element[0].className),c={"class":a.join(" "),title:this.element[0].title},this.element[0].id&&(c.id=this.element[0].id.replace(/[^\w]/g,"_")+"_multi"),this.container=$(b).attr(c),this.element.hide().after(this.container),this.$ul=this.container.find(".ui-multiselect-choices").first(),this.$li=this.container.find("li.search-field").first(),this.$input=this.container.find("input").first().val(d.placeholder),this.$menu=this.container.find(".ui-multiselect-results").first(),d.dataSource&&d.dataSource.length&&this._setDataSource(d.dataSource),this._menuBuild(),this._setTabIndex(),this._setLabelBehavior()},_setOption:function(a,b){this._super(a,b),"dataSource"===a&&this._setDataSource(b),"disabled"===a&&(this.element.prop("disabled",b),this._update())},_eventHandler:function(){var a=this;this.container.on("mousedown.multiselect",function(b){a._open(b)}),this.container.on("mouseup.multiselect",function(b){a._mouseup(b)}),this.container.on("mouseenter.multiselect",function(){a._mouseOn=!0}),this.container.on("mouseleave.multiselect",function(){a._mouseOn=!1}),this.$menu.on("mouseup.multiselect",function(b){a.menuMouseup(b)}),this.$menu.on("mouseover.multiselect",function(b){a.menuMouseover(b)}),this.$menu.on("mouseout.multiselect",function(b){a.menuMouseout(b)}),this.$menu.on("mousewheel.multiselect DOMMouseScroll.multiselect",function(b){a.menuMousewheel(b)}),this.$input.on("blur.multiselect",function(b){a._blur(b)}),this.$input.on("keyup.multiselect",function(b){a._keyup(b)}),this.$input.on("keydown.multiselect",function(b){a._keydown(b)}),this.$input.on("focus.multiselect",function(b){a._focus(b)}),this.$input.on("cut.multiselect",function(b){a._clipboard(b)}),this.$input.on("paste.multiselect",function(b){a._clipboard(b)}),this.$ul.on("click.multiselect",function(b){a._click(b)})},_validateHandler:function(){var a=this.element,b=this;a.on("change.valid",function(){b._getValidFlag()&&a.isValid()}),this.$input.on("focus.valid",function(){a.hasClass("n-invalid")&&a.resetElement()})},_focus:function(){var a=this;return this._active?void 0:_.delay(function(){return a._open()},50)},_blur:function(){var a=this;_.delay(function(){a.close()},100)},_tabHandler:function(a){var b=this.$input.val();b&&this.options.tabKey&&(a.preventDefault(),this.element.append('<option value="'+b+'" selected="selected">'+b+"</option>"),this._update(),this._close())},_buildMenuOption:function(a){var b,c,d,e,f;for(b="",f=this.results_data,d=0,e=f.length;e>d;d++)c=f[d],b+=c.group?this.result_add_group(c):this.result_add_option(c),(null!=a?a.first:void 0)&&c.selected&&this._choiceBuild(c);return b},result_add_option:function(a){var b,c;return a.search_match?this._isSelectOrDisabledMenu(a)?(b=[],a.disabled||a.selected||b.push("active-result"),a.disabled&&!a.selected&&b.push("disabled-result"),a.selected&&b.push("result-selected"),null!=a.group_array_index&&b.push("group-option"),""!==a.classes&&b.push(a.classes),c=document.createElement("li"),c.className=b.join(" "),c.style.cssText=a.style,c.setAttribute("data-option-array-index",a.array_index),c.innerHTML=a.search_text,this.outerHTML(c)):"":""},result_add_group:function(a){var b;return a.search_match||a.group_match?a.active_options>0?(b=document.createElement("li"),b.className="group-result",b.innerHTML=a.search_text,this.outerHTML(b)):"":""},_update:function(){return this._clearHighlightMenu(),this._menuBuild(),this.results_showing?this.winnow_results():void 0},_search:function(){return this.results_showing?this.winnow_results():this.results_show()},winnow_results:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;for(e=0,g=this._inputValue(),a=g.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),d=this.options.containsSearch?"":"^",c=new RegExp(d+a,"i"),j=new RegExp(a,"i"),m=this.results_data,k=0,l=m.length;l>k;k++)b=m[k],b.search_match=!1,f=null,this._isSelectOrDisabledMenu(b)&&(b.group&&(b.group_match=!1,b.active_options=0),null!=b.group_array_index&&this.results_data[b.group_array_index]&&(f=this.results_data[b.group_array_index],0===f.active_options&&f.search_match&&(e+=1),f.active_options+=1),(!b.group||this.options.groupSearch)&&(b.search_text=b.group?b.label:b.html,b.search_match=this._searchMatch(b.search_text,c),b.search_match&&!b.group&&(e+=1),b.search_match?(g.length&&(h=b.search_text.search(j),i=b.search_text.substr(0,h+g.length)+"</em>"+b.search_text.substr(h+g.length),b.search_text=i.substr(0,h)+"<em>"+i.substr(h)),null!=f&&(f.group_match=!0)):null!=b.group_array_index&&this.results_data[b.group_array_index].search_match&&(b.search_match=!0)));return this._clearHighlightMenu(),1>e&&g.length?(this._updateMenu(""),void this._trigger("noresult")):(this._updateMenu(this._buildMenuOption()),this._highlightMenu())},_searchMatch:function(a,b){var c,d,e,f;if(b.test(a))return!0;if(!this.options.completeSearch&&(a.indexOf(" ")>=0||0===a.indexOf("["))&&(d=a.replace(/\[|\]/g,"").split(" "),d.length))for(e=0,f=d.length;f>e;e++)if(c=d[e],b.test(c))return!0},_choicesCount:function(){var a,b,c,d;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,d=this.element[0].options,b=0,c=d.length;c>b;b++)a=d[b],a.selected&&(this.selected_option_count+=1);return this.selected_option_count},_click:function(a){return a.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},_keyup:function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this._searchFieldScale(),b){case 8:if(this.backstroke_length<1&&this._choicesCount()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this._clearHighlightMenu(),this._search();break;case 13:if(a.preventDefault(),this.results_showing)return this._selectMenu(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this._search()}},_clipboard:function(){var a=this;return _.delay(function(){return a._search()},50)},_isSelectOrDisabledMenu:function(a){return!this.options.displaySelectedOptions&&a.selected?!1:!this.options.displayDisabledOptions&&a.disabled?!1:a.empty?!1:!0},outerHTML:function(a){var b;return a.outerHTML?a.outerHTML:(b=document.createElement("div"),b.appendChild(a),b.innerHTML)},destroy:function(){return $(this.container[0].ownerDocument).unbind("click.multiselect",$.proxy(this.isActive,this)),this.$input[0].tabIndex&&(this.element[0].tabIndex=this.$input[0].tabIndex),this.container.remove(),this.element.removeData("multiselect"),this.element.show()},search_field_disabled:function(){return this.is_disabled=this.element[0].disabled,this.is_disabled?(this.container.addClass("ui-multiselect-disabled"),this.$input[0].disabled=!0,this.close()):(this.container.removeClass("ui-multiselect-disabled"),void(this.$input[0].disabled=!1))},_open:function(a){return this.is_disabled||(a&&"mousedown"===a.type&&!this.results_showing&&a.preventDefault(),null!=a&&$(a.target).hasClass("search-choice-close"))?void 0:(this._active||(this.$input.val(""),$(this.container[0].ownerDocument).on("click.multiselect",$.proxy(this.isActive,this)),this.results_show()),this.open())},_mouseup:function(a){return"ABBR"!==a.target.nodeName||this.is_disabled?void 0:this._resetMenu(a)},menuMousewheel:function(a){var b;return a.originalEvent&&(b=-a.originalEvent.wheelDelta||a.originalEvent.detail),null!=b?(a.preventDefault(),"DOMMouseScroll"===a.type&&(b=40*b),this.$menu.scrollTop(b+this.$menu.scrollTop())):void 0},_close:function(){return $(this.container[0].ownerDocument).unbind("click.multiselect",$.proxy(this.isActive,this)),this.results_hide(),this.clear_backstroke(),this._setDefaultInput(),this._searchFieldScale()},close:function(){return this._active=!1,this.container.removeClass("ui-multiselect-container-active"),this._close()},open:function(){return this.container.addClass("ui-multiselect-container-active"),this._active=!0,this.$input.val(this.$input.val()),this.$input.focus()},isActive:function(a){var b=$(a.target).closest(".ui-multiselect-container");return b.length&&this.container[0]===b[0]?this._active=!0:this.close()},_menuBuild:function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=a.selectToArray(this.element[0]),this.$ul.find("li.search-choice").remove(),this._updateMenu(this._buildMenuOption({first:!0})),this.search_field_disabled(),this._setDefaultInput(),this._searchFieldScale(),this.parsing=!1},_doHighlightMenu:function(a){var b,c,d,e,f;if(a.length){if(this._clearHighlightMenu(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.$menu.css("maxHeight"),10),f=this.$menu.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.$menu.scrollTop(),b=c+this.result_highlight.outerHeight(),b>=e)return this.$menu.scrollTop(b-d>0?b-d:0);if(f>c)return this.$menu.scrollTop(c)}},_clearHighlightMenu:function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},results_show:function(){return this.options.maxLength<=this._choicesCount()?(this._trigger("maxselected"),!1):(this.container.addClass("open"),this.results_showing=!0,this.$input.focus(),this.$input.val(this.$input.val()),this.winnow_results(),void this._trigger("showingdropdown"))},_updateMenu:function(a){return this.$menu.html(a)},results_hide:function(){return this.results_showing&&(this._clearHighlightMenu(),this.container.removeClass("open"),this._trigger("hidingdropdown")),this.results_showing=!1},_setTabIndex:function(){var a;return this.element[0].tabIndex?(a=this.element[0].tabIndex,this.element[0].tabIndex=-1,this.$input[0].tabIndex=a):void 0},_setLabelBehavior:function(){var a=this;return this.fieldLabel=this.element.parents("label"),!this.fieldLabel.length&&this.element[0].id.length&&(this.fieldLabel=$("label[for='"+this.element[0].id+"']")),this.fieldLabel.length>0?this.fieldLabel.on("click.multiselect",function(b){return a._open(b)}):void 0},_setDefaultInput:function(){this.$input.val(this._choicesCount()<1&&!this._active?this.options.placeholder:"")},menuMouseup:function(a){var b;return b=$(a.target).hasClass("active-result")?$(a.target):$(a.target).parents(".active-result").first(),b.length?(this.result_highlight=b,this._selectMenu(a),this.$input.focus()):void 0},menuMouseover:function(a){var b;return b=$(a.target).hasClass("active-result")?$(a.target):$(a.target).parents(".active-result").first(),b?this._doHighlightMenu(b):void 0},menuMouseout:function(a){return $(a.target).hasClass("active-result")?this._clearHighlightMenu():void 0},_choiceBuild:function(a){var b,c,d=this;return b=$("<li />",{"class":"search-choice"}).html("<span>"+a.html+"</span>"),a.disabled?b.addClass("search-choice-disabled"):(c=$('<button class="search-choice-close"><span>&times;</span></button>'),c.data("option-array-index",a.array_index),c.on("click.multiselect",function(a){return a.preventDefault(),a.stopPropagation(),d.is_disabled?void 0:d._deleteMenu($(a.currentTarget))}),b.append(c)),this.$li.before(b)},_deleteMenu:function(a){this._deselectMenu(a.data("option-array-index"))&&(this._setDefaultInput(),this._choicesCount()>0&&this.$input.val().length<1&&this.results_hide(),a.parents("li").first().remove(),this._searchFieldScale())},_resetMenu:function(){return this.element[0].options[0].selected=!0,this._setDefaultInput(),this._cleanupMenu(),this._trigger("change"),this._active?this.results_hide():void 0},_cleanupMenu:function(){return this.currentSelectedIndex=this.element[0].selectedIndex,this.selected_item.find("abbr").remove()},_selectMenu:function(a){var b,c;if(this.result_highlight){if(b=this.result_highlight,this._clearHighlightMenu(),this.options.maxLength<=this._choicesCount())return this._trigger("maxselected"),!1;b.removeClass("active-result"),c=this.results_data[b[0].getAttribute("data-option-array-index")],c.selected=!0,this.element[0].options[c.options_index].selected=!0,this.selected_option_count=null,this._choiceBuild(c),a.metaKey||a.ctrlKey||this.results_hide(),this.$input.val(""),this._trigger("change",a,{selected:this.element[0].options[c.options_index].value}),this.currentSelectedIndex=this.element[0].selectedIndex,this._searchFieldScale()}},_deselectMenu:function(a){var b;return b=this.results_data[a],this.element[0].options[b.options_index].disabled?!1:(b.selected=!1,this.element[0].options[b.options_index].selected=!1,this.selected_option_count=null,this._clearHighlightMenu(),this.results_showing&&this.winnow_results(),this._trigger("change",null,{deselected:this.element[0].options[b.options_index].value}),this._searchFieldScale(),!0)},_inputValue:function(){return this.$input.val()===this.options.placeholder?"":$("<div/>").text($.trim(this.$input.val())).html()},_highlightMenu:function(){var a,b;return b=[],a=b.length?b.first():this.$menu.find(".active-result").first(),null!=a?this._doHighlightMenu(a):void 0},keydown_arrow:function(){var a;return this.results_showing&&this.result_highlight?(a=this.result_highlight.nextAll("li.active-result").first())?this._doHighlightMenu(a):void 0:this.results_show()},keyup_arrow:function(){var a;return this.result_highlight?(a=this.result_highlight.prevAll("li.active-result"),a.length?this._doHighlightMenu(a.first()):(this._choicesCount()>0&&this.results_hide(),this._clearHighlightMenu())):void 0},keydown_backstroke:function(){var a;return this.pending_backstroke?(this._deleteMenu(this.pending_backstroke.find("button")),this.clear_backstroke()):(a=this.$li.siblings("li.search-choice").last(),a.length&&!a.hasClass("search-choice-disabled")?(this.pending_backstroke=a,this.options.deleteKey?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},clear_backstroke:function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},_keydown:function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this._searchFieldScale(),8!==b&&this.pending_backstroke&&this.clear_backstroke(),b){case 8:this.backstroke_length=this.$input.val().length;break;case 9:this._tabHandler(a);break;case 13:a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}},_searchFieldScale:function(){this.$input.css("width",this.$input.val()?"100%":"25px")},refresh:function(){this._update()},value:function(a){switch($.type(a)){case"undefined":return this.element.val();default:a=null==a||0==a.length?[]:[a];case"array":this.element.val(a),this._update()}},_setDataSource:function(a,b,c){if(b=b||this.options.dataValueField,c=c||this.options.dataTextField,"array"===$.type(a)){var d="";$.each(a,function(a,e){d+='<option value="'+e[b]+'"'+(e.disabled?' disabled="true" ':"")+">"+e[c]+"</option>"}),this.element.empty().html(d),this._update()}}})}),!function(a){"function"==typeof define&&define.amd?define("fish.pagesidebar",a):a()}(function(){"use strict";function a(a,b){var c=a&&a.size()>0?a.offset().top:0;a&&(c+=b?b:-1*a.height()),$("html,body").animate({scrollTop:c},"slow")}$.widget("ui.pagesidebar",{options:{data:[],openFirst:!1,autoScroll:!0,keepExpand:!1,fixed:!1,position:"left",zIndex:1e3,customClass:"",expand:$.noop,slideUp:$.noop,slideDown:$.noop},_create:function(){this._createUI(),this._bindEvents(),this._action()},_createUI:function(){var a=this.options.data,b=this.element;b.addClass("ui-sidebar-wrapper "+this.options.customClass).css("z-index",this.options.zIndex);var c=$('<div class="ui-sidebar"></div>'),d=$('<ul class="ui-sidebar-menu"></ul>');d.append('<li class="ui-sidebar-toggler-wrapper"><span class="glyphicon glyphicon-align-justify ui-sidebar-toggler"></span></li>'),a&&0!=a.length&&$.each(a,function(b,c){var e=c.subMenus,f=$("<li></li>");0===b&&f.addClass("start"),b===a.length-1&&f.addClass("last");var g=c.hash?"#"===c.hash.charAt(0)?c.hash:"#"+c.hash:"javascript:;",h='<a href="'+g+'">';if(c.icon&&0!==c.icon.length&&(h+='<img alt="img" src="'+c.icon+'">'),h+='<span class="title">'+(c.title||"")+'</span><span class="selected"></span>',e&&0!==e.length&&(h+='<span class="arrow"></span>'),h+="</a>",f.append(h),e&&0!==e.length){var i='<ul class="sub-menu">';$.each(e,function(a,b){var c=b.hash?"#"===b.hash.charAt(0)?b.hash:"#"+b.hash:"javascript:;";i+='<li><a href="'+c+'">',b.icon&&0!==b.icon.length&&(i+='<img alt="img" src="'+b.icon+'">'),i+=b.title+"</a></li>"}),i+="</ul>",f.append(i)}d.append(f)}),b.append(c.append(d)),this._setFixed(),this._setPosition()},_bindEvents:function(){var b=this,c=this.element,d=c.find(".ui-sidebar-toggler"),e=c.find(".ui-sidebar"),f=c.find(".ui-sidebar-menu");this._on(d,{click:function(){var a=$("body");a.hasClass("ui-sidebar-closed")?(a.removeClass("ui-sidebar-closed"),f.removeClass("ui-sidebar-menu-closed"),b._trigger("expand",null,{expand:!0,$el:c})):(a.addClass("ui-sidebar-closed"),f.addClass("ui-sidebar-menu-closed"),a.hasClass("ui-sidebar-fixed")&&f.trigger("mouseleave"),b._trigger("expand",null,{expand:!1,$el:c}))}}),this._on(e.find("li > a"),{click:function(d){var e=$(d.target);if((e.is("span")||e.is("img"))&&(e=e.parent()),e.next().hasClass("sub-menu")===!1)return f.find("li.active").removeClass("active"),void e.parent().addClass("active");if(!e.next().hasClass("sub-menu always-open")){var g=e.parent().parent(),h=e,i=e.next(),j=this.options.autoScroll,k=200,l=this.options.keepExpand;l!==!0&&(g.children("li.open").children("a").children(".arrow").removeClass("open"),g.children("li.open").children(".sub-menu:not(.always-open)").slideUp(k),g.children("li.open").removeClass("open"));var m=-200;i.is(":visible")?($(".arrow",e).removeClass("open"),e.parent().removeClass("open"),i.slideUp(k,function(){j===!0&&a(h,m),b._trigger("slideUp",null,{$el:c})})):($(".arrow",e).addClass("open"),e.parent().addClass("open"),i.slideDown(k,function(){j===!0&&a(h,m),b._trigger("slideDown",null,{$el:c})})),d.preventDefault()}}}),this._on(e.find("li > ul > li > a"),{click:function(a){var b=$(a.target);b.is("img")&&(b=b.parent()),f.find("li.active").removeClass("active"),b.parent().addClass("active"),b.parent().parent().parent().addClass("active")}})},_action:function(){this._openFirst(),this._detectHash()},_openFirst:function(){if(this.options.openFirst===!0&&null!=this.options.data&&0!=this.options.data.length&&!(location.hash.length>1)){var a=this.element,b=a.find(".ui-sidebar"),c=(a.find(".ui-sidebar-menu"),b.find("ul.ui-sidebar-menu>li>a:eq(0)")),d=c[0].hash;if("#"===d.charAt(0))location.hash=d;else{var e=b.find("ul.ui-sidebar-menu>li>ul.sub-menu>li>a:eq(0)"),d=e[0].hash;"#"===d.charAt(0)&&(location.hash=d)}}},_detectHash:function(){var a=this,b=location.hash;b&&b.length>1&&setTimeout(function(){a.locate(b)},100)},_setOption:function(a,b){switch(a){case"position":this._super(a,b),this._setPosition();case"fixed":this._super(a,b),this._setFixed()}},_setFixed:function(){var a=this.element,b=a.find(".ui-sidebar-menu"),c=$("body");this.options.fixed===!0?($("body").addClass("ui-sidebar-fixed"),b.addClass("ui-sidebar-menu-fixed").removeClass("ui-sidebar-menu-default"),c.hasClass("ui-sidebar-fixed")&&this._on(b,{mouseenter:function(){c.hasClass("ui-sidebar-closed")&&b.removeClass("ui-sidebar-menu-closed")},mouseleave:function(){c.hasClass("ui-sidebar-closed")&&b.addClass("ui-sidebar-menu-closed")}}),this._setScroll()):($("body").removeClass("ui-sidebar-fixed"),b.data("ui-slim-scroll-init")&&(b.slimScroll({destroy:!0}),b.removeAttr("style")),b.addClass("ui-sidebar-menu-default").removeClass("ui-sidebar-menu-fixed").unbind("mouseenter").unbind("mouseleave"))},_setPosition:function(){"right"===this.options.position?$("body").removeClass("ui-sidebar-left").addClass("ui-sidebar-right"):$("body").removeClass("ui-sidebar-right").addClass("ui-sidebar-left")},_setScroll:function(){var a=this.element,b=a.find(".ui-sidebar-menu");b.data("ui-slim-scroll-init")&&b.slimScroll({destroy:!0});
var c=b[0].scrollHeight;b.slimScroll({allowPageScroll:!0,size:"7px",position:"right",height:c,alwaysVisible:!1,railVisible:!0,disableFadeOut:!0}),b.data("ui-slim-scroll-init",!0)},locate:function(a){var b=this.element,c=(b.find(".ui-sidebar-toggler"),b.find(".ui-sidebar")),d=b.find(".ui-sidebar-menu"),e=d.find("a");e.each(function(b,c){var e=$(c);if(c.hash===$.trim(a)){var f=e.parent().parent();return f.hasClass("sub-menu")?(d.find("li.active").removeClass("active"),e.parent().addClass("active"),e.parent().parent().parent().addClass("active")):(d.find("li.active").removeClass("active"),e.parent().addClass("active")),!1}}),this._on(c.find("li > ul > li > a"),{click:function(a){var b=$(a.target);b.is("img")&&(b=b.parent()),d.find("li.active").removeClass("active"),b.parent().addClass("active"),b.parent().parent().parent().addClass("active")}})},_destroy:function(){var a=this,b=a.element,c=b.find(".ui-sidebar-menu");c.data("ui-slim-scroll-init")&&c.slimScroll({destroy:!0}),b.removeClass("ui-sidebar-wrapper").removeClass(this.options.customClass).css("z-index","").empty(),$("body").removeClass("ui-sidebar-left ui-sidebar-right ui-sidebar-fixed")}})}),!function(a){"function"==typeof define&&define.amd?define("fish.popedit",["fish.dialog"],a):a()}(function(){"use strict";$.widget("ui.popedit",{widgetEventPrefix:"",options:{url:"",buttonIcon:"remove new-window",dialogOption:null,value:null,dataTextField:"name",dataValueField:"value",initialData:null},_createIcon:function(){for(var a=this.options,b=$(this.element),c="",d=a.buttonIcon.split(" "),e=0;e<d.length;e++)c+=' <span class="input-group-addon"><span class="glyphicon glyphicon-'+d[e]+'"></span></span>';b.after(c),this.component=b.nextAll(".input-group-addon").filter(function(){return!$(this).children(".glyphicon").hasClass("glyphicon-remove")}),this.componentReset=b.nextAll(".input-group-addon").filter(function(){return $(this).children(".glyphicon").hasClass("glyphicon-remove")}),this.component=this.component.length?this.component:!1,this.componentReset=this.componentReset.length?this.componentReset:!1},_getCreateOptions:function(){var a=$(this.element);return{url:a.data("url")}},_create:function(){var a=this.options,b=this.element,c=$(b);c.addClass("ui-widget-input"),a.buttonIcon&&this._createIcon(),this._attachEvents(),this.setValue(a.initialData)},_formHandler:function(a){var b=this;a.on("getvalue"+this.uuid+".form",function(){var a=b.getValue();return a?a[b.options.dataValueField]:""})},_update:function(a){var b,c=this.options;void 0===a?this.setValue(c.initialData):null===a?this.value=a:("string"==typeof a&&(b=a,a={},a[c.dataTextField]=$.trim(b),a[c.dataValueField]=$.trim(b)),this.value=a,this.element.val(a?a[c.dataTextField]:""))},_validateHandler:function(){var a=this.element,b=this;a.on("change.valid",function(){b._getValidFlag()&&a.isValid()})},_attachEvents:function(){this._on(this.component,{click:"_openDialog"}),this.componentReset&&this._on(this.componentReset,{click:"_clear"})},_openDialog:function(){var a=this.dialog;if(a)a.dialog("open"),this._trigger("open");else{var b=this,c=this.options.url;0===c.indexOf("#")?this._initDialog($(c)):$.ajax({url:c,type:"get",dataType:"html"}).done(function(a){var c=$(a);$("body").append(c),c.attr("id")?c.uniqueId():"",b._initDialog($("#"+c.attr("id")))})}},_initDialog:function(a){var b=this;a.dialog(this.options.dialogOption).on({change:function(a,c){b.setValue(c)}}),this._trigger("open"),this.dialog=a},_setOption:function(a,b){"url"===a&&this.dialog&&this.options.url!==b&&(this.dialog.dialog("destroy"),this.dialog=null),this._super(a,b),"dialogOption"===a&&this.dialog&&this.dialog.dialog("option",b),"disabled"===a&&this.element.prop("disabled",b)},_clear:function(){this.setValue("")},setValue:function(a){var b,c=this.options;"string"==typeof a&&(b=a,a={},a[c.dataTextField]=$.trim(b),a[c.dataValueField]=$.trim(b)),this.value=a,this.element.val(a?a[c.dataTextField]:""),this._trigger("change",null,a)},getValue:function(){var a,b=this.options,c=this.value;return"string"==typeof c&&(a=c,c={},c[b.dataTextField]=$.trim(a),c[b.dataValueField]=$.trim(a)),c}})}),!function(a){"function"==typeof define&&define.amd?define("fish.progressbar",a):a()}(function(){"use strict";$.widget("ui.progressbar",{options:{max:100,value:0,progressbarClass:"",label:"",change:null,complete:null},min:0,_getCreateEventData:function(){return{progressbar:this.element}},_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar"+this.options.progressbarClass).attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=$("<div class='ui-progressbar-value'></div>").appendTo(this.element),this.labelDiv=$('<div class="progress-label"></div>').html(this.options.label).prependTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return void 0===a?this.options.value:(this.options.value=this._constrainedValue(a),void this._refreshValue())},label:function(a){this.labelDiv.html(a)},_constrainedValue:function(a){return void 0===a&&(a=this.options.value),"number"!=typeof a&&(a=0),Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value,this._super(a),this.options.value=this._constrainedValue(b),this._refreshValue()},_setOption:function(a,b){"max"===a&&(b=Math.max(this.min,b)),this._super(a,b)},_percentage:function(){return 100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var a=this.options.value,b=this._percentage();this.valueDiv.toggle(a>this.min).css("width",b.toFixed(0)+"%"),this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":a}),this.oldValue!==a&&(this.oldValue=a,this._trigger("change",null,{progressbar:this.element})),a===this.options.max&&this._trigger("complete",null,{progressbar:this.element})}})}),!function(a){"function"==typeof define&&define.amd?define("fish.raterstar",a):a()}(function(){"use strict";$.widget("ui.raterstar",{options:{disabled:!1,min:1,max:5,step:1,value:null,image:null,width:25,height:25,titleFormat:null,zIndex:1e3},_create:function(){this._initUI(),this._initEvent()},_initUI:function(){var a=this.options,b=$('<ul class="ui-rater-star"></ul>');b.css({height:a.height,width:a.width*a.step*(a.max-a.min+a.step)/a.step}),a.image&&b.css("background-image","url("+a.image+")");var c=$('<li class="ui-rater-star-item-current"></li>');if(a.image&&c.css("background-image","url("+a.image+")"),c.css("height",a.height),c.css("width",0),c.css("z-index",a.zIndex+a.max/a.step+1),a.value&&c.css("width",((a.value-a.min)/a.step+1)*a.step*a.width),b.append(c),!a.disabled)for(var d=a.min;d<=a.max;d+=a.step)c=$('<li class="ui-rater-star-item"></li>'),"function"==typeof a.titleFormat?c.attr("title",a.titleFormat(d)):c.attr("title",d),c.css("height",a.height),c.css("width",(d-a.min+a.step)*a.width),c.css("z-index",a.zIndex+(a.max-d)/a.step+1),a.image&&c.css("background-image","url("+a.image+")"),b.append(c);this.element.append(b)},_initEvent:function(){var a=this,b=a.element,c=this.options,d=a.element.find(".ui-rater-star");c.disabled||d.mouseover(function(){c.disabled||$(this).find(".ui-rater-star-item-current").hide()}).mouseout(function(){c.disabled||$(this).find(".ui-rater-star-item-current").show()}),d.find(".ui-rater-star-item").mouseover(function(){c.disabled||$(this).attr("class","ui-rater-star-item-hover")}).mouseout(function(){c.disabled||$(this).attr("class","ui-rater-star-item")}).click(function(){if(!c.disabled){var d=$(this);d.prevAll(".ui-rater-star-item-current").css("width",d.width());var e=c.max-c.min+c.step,f=d.prevAll(".ui-rater-star-item").size()+1,g=c.min+(f-1)*c.step;b.data("ui-value",g);var h={value:g,number:f,count:e,min:c.min,max:c.max};a._trigger("afterClick",null,h)}})},enable:function(){this.options.disabled=!1},disable:function(){this.options.disabled=!0},value:function(a){var b=this,c=b.element,d=this.options,e=b.element.find(".ui-rater-star");return null==a?c.data("ui-value"):(c.data("ui-value",a),void e.find(".ui-rater-star-item-current").css("width",((a-d.min)/d.step+1)*d.step*d.width))},_destroy:function(){this.element.find(".ui-rater-star").off(),this.element.find(".ui-rater-star-item").off(),this.element.empty()}})}),!function(a){"function"==typeof define&&define.amd?define("fish.resize",a):a()}(function(){"use strict";var a,b,c=$.event;a=c.special.debouncedresize={setup:function(){$(this).on("resize",a.handler)},teardown:function(){$(this).off("resize",a.handler)},handler:function(d,e){var f=this,g=arguments,h=function(){d.type="debouncedresize",c.dispatch.apply(f,g)};b&&clearTimeout(b),e?h():b=setTimeout(h,a.threshold)},threshold:150};var d,e,f,g={_:0},h=0;d=c.special.throttledresize={setup:function(){$(this).on("resize",d.handler)},teardown:function(){$(this).off("resize",d.handler)},handler:function(a,b){var i=this,j=arguments;e=!0,f||(setInterval(function(){h++,(h>d.threshold&&e||b)&&(a.type="throttledresize",c.dispatch.apply(i,j),e=!1,h=0),h>9&&($(g).stop(),f=!1,h=0)},30),f=!0)},threshold:0}}),!function(a){"function"==typeof define&&define.amd?define("fish.router",a):a()}(function(){var _=fish.util,a=fish.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},b=/\((.*?)\)/g,c=/(\(\?)?:\w+/g,d=/\*\w+/g,e=/[\-{}\[\]+?.,\\\^$|#\s]/g;_.extend(a.prototype,{initialize:function(){},route:function(a,b,c){_.isRegExp(a)||(a=this._routeToRegExp(a)),_.isFunction(b)&&(c=b,b=""),c||(c=this[b]);var d=this;return fish.history.route(a,function(e){var f=d._extractParameters(a,e);d.execute(c,f,b)!==!1}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,b){return fish.history.navigate(a,b),this},_bindRoutes:function(){if(this.routes){this.routes=_.result(this,"routes");for(var a,b=_.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(e,"\\$&").replace(b,"(?:$1)?").replace(c,function(a,b){return b?a:"([^/?]+)"}).replace(d,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return _.map(c,function(a,b){return b===c.length-1?a||null:a?decodeURIComponent(a):null})}});var f=fish.History=function(){this.handlers=[],_.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},g=/^[#\/]|\s+$/g,h=/^\/+|\/+$/g,i=/#.*$/;f.started=!1,_.extend(f.prototype,{interval:50,atRoot:function(){var a=this.location.pathname.replace(/[^\/]$/,"$&/");return a===this.root&&!this.location.search},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getPath:function(){var a=decodeURI(this.location.pathname+this.location.search),b=this.root.slice(0,-1);return a.indexOf(b)||(a=a.slice(b.length)),a.slice(1)},getFragment:function(a){return null==a&&(a=this._hasPushState||!this._wantsHashChange?this.getPath():this.getHash()),a.replace(g,"")},start:function(a){if(f.started)throw new Error("Backbone.history has already been started");f.started=!0,this.options=_.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState),this.fragment=this.getFragment();var b=window.addEventListener||function(a,b){return attachEvent("on"+a,b)};if(this.root=("/"+this.root+"/").replace(h,"/"),!(this._hasHashChange||!this._wantsHashChange||this._wantsPushState&&this._hasPushState)){var c=document.createElement("iframe");c.src="javascript:0",c.style.display="none",c.tabIndex=-1;var d=document.body;this.iframe=d.insertBefore(c,d.firstChild).contentWindow,this.navigate(this.fragment)}if(this._hasPushState?b("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange&&!this.iframe?b("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.location.replace(this.root+"#"+this.getPath()),!0;this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}return this.options.silent?void 0:this.loadUrl()},stop:function(){var a=window.removeEventListener||function(a,b){return detachEvent("on"+a,b)};this._hasPushState?a("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange&&!this.iframe&&a("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe.frameElement),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),f.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getHash(this.iframe)),a===this.fragment?!1:(this.iframe&&this.navigate(a),void this.loadUrl())},loadUrl:function(a){return a=this.fragment=this.getFragment(a),_.any(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0})},navigate:function(a,b){if(!f.started)return!1;b&&b!==!0||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if(a=decodeURI(a.replace(i,"")),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getHash(this.iframe)&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),fish.history=new f;var j=function(a,b){var c,d=this;c=a&&_.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},_.extend(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&_.extend(c.prototype,a),c.__super__=d.prototype,c};a.extend=f.extend=j}),!function(a){"function"==typeof define&&define.amd?define("fish.scrollspy",a):a()}(function(){"use strict";$.widget("ui.scrollspy",{options:{offset:10},_create:function(){this.$body=$("body");var a=this.element;this.$scrollElement=$($(a).is("body")?window:a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll",$.proxy(this._process,this)),this.refresh(),this._process()},_getScrollHeight:function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},refresh:function(){var a="offset",b=0;$.isWindow(this.$scrollElement[0])||(a="position",b=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this._getScrollHeight();var c=this;this.$body.find(this.selector).map(function(){var c=$(this),d=c.data("target")||c.attr("href"),e=/^#./.test(d)&&$(d);return e&&e.length&&e.is(":visible")&&[[e[a]().top+b,d]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},_process:function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this._getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this._activate(a);if(g&&b<=e[0])return g!=(a=f[0])&&this._activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this._activate(f[a])},_activate:function(a){this.activeTarget=a,$(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var b=this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]',c=$(b).parents("li").addClass("active");c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),this._trigger("activate",null,{item:c})}})}),!function(a){"function"==typeof define&&define.amd?define("fish.slider",a):a()}(function(){"use strict";var a=5;$.widget("ui.slider",$.ui.mouse,{widgetEventPrefix:"slide",options:{sliderClass:"",animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,ticks:!1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit();var a="ui-slider ui-slider-"+this.orientation;a+=" "+this.options.sliderClass,this.element.addClass(a),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._createTicks(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var a,b,c=this.options,d=this.element.find(".ui-slider-handle"),e="<a class='ui-slider-handle' href='#'></a>",f=[];for(b=c.values&&c.values.length||1,d.length>b&&(d.slice(b).remove(),d=d.slice(0,b)),a=d.length;b>a;a++)f.push(e);this.handles=d.add($(f.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(a){$(this).data("ui-slider-handle-index",a)})},_createRange:function(){var a=this.options,b="";a.range?(a.range===!0&&(a.values?a.values.length&&2!==a.values.length?a.values=[a.values[0],a.values[0]]:$.isArray(a.values)&&(a.values=a.values.slice(0)):a.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=$("<div></div>").appendTo(this.element),b="ui-slider-range"),this.range.addClass(b+("min"===a.range||"max"===a.range?" ui-slider-range-"+a.range:""))):(this.range&&this.range.remove(),this.range=null)},_createTicks:function(){if(this.options.ticks&&!(this.options.step<5)){this.element.find(".ui-slider-tick").remove();for(var a,b=this.options.max,c=this.options.min,d=this.options.min+this.options.step,e=this.element.css("border-color"),f="horizontal"===this.orientation?"left":"bottom";b>d;){a=(d-c)/(b-c)*100+"%";var g={background:e};g[f]=a,$("<div/>").addClass("ui-slider-tick "+this.orientation).appendTo(this.element).css(g),d+=this.options.step}}},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a),this._on(a,this._handleEvents),this._hoverable(a),this._focusable(a)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.options.ticks&&this.element.find(".ui-slider-tick").remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical"),this._mouseDestroy()},_mouseCapture:function(a){var b,c,d,e,f,g,h,i,j=this,k=this.options;return k.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b),d=this._valueMax()-this._valueMin()+1,this.handles.each(function(a){var b=Math.abs(c-j.values(a));(d>b||d===b&&(a===j._lastChangedValue||j.values(a)===k.min))&&(d=b,e=$(this),f=a)}),g=this._start(a,f),g===!1?!1:(this._mouseSliding=!0,this._handleIndex=f,e.addClass("ui-state-active").focus(),h=e.offset(),i=!$(a.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=i?{left:0,top:0}:{left:a.pageX-h.left-e.width()/2,top:a.pageY-h.top-e.height()/2-(parseInt(e.css("borderTopWidth"),10)||0)-(parseInt(e.css("borderBottomWidth"),10)||0)+(parseInt(e.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(a,f,c),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._lastChangedValue=b,this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(a,b){var c,d,e;if(arguments.length>1)return this.options.values[a]=this._trimAlignValue(b),this._refreshValue(),void this._change(null,a);if(!arguments.length)return this._values();if(!$.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(a):this.value();for(c=this.options.values,d=arguments[0],e=0;e<c.length;e+=1)c[e]=this._trimAlignValue(d[e]),this._change(null,e);this._refreshValue()},_setOption:function(a,b){var c,d=0;switch("range"===a&&this.options.range===!0&&("min"===b?(this.options.value=this._values(0),this.options.values=null):"max"===b&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),$.isArray(this.options.values)&&(d=this.options.values.length),$.Widget.prototype._setOption.apply(this,arguments),a){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this._refreshTick();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),c=0;d>c;c+=1)this._change(null,c);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._refreshTick(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshTick:function(){this._createTicks()},_refreshValue:function(){var a,b,c,d,e,f=this.options.range,g=this.options,h=this,i=this._animateOff?!1:g.animate,j={};this.options.values&&this.options.values.length?this.handles.each(function(c){b=(h.values(c)-h._valueMin())/(h._valueMax()-h._valueMin())*100,j["horizontal"===h.orientation?"left":"bottom"]=b+"%",$(this).stop(1,1)[i?"animate":"css"](j,g.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===c&&h.range.stop(1,1)[i?"animate":"css"]({left:b+"%"},g.animate),1===c&&h.range[i?"animate":"css"]({width:b-a+"%"},{queue:!1,duration:g.animate})):(0===c&&h.range.stop(1,1)[i?"animate":"css"]({bottom:b+"%"},g.animate),1===c&&h.range[i?"animate":"css"]({height:b-a+"%"},{queue:!1,duration:g.animate}))),a=b}):(c=this.value(),d=this._valueMin(),e=this._valueMax(),b=e!==d?(c-d)/(e-d)*100:0,j["horizontal"===this.orientation?"left":"bottom"]=b+"%",this.handle.stop(1,1)[i?"animate":"css"](j,g.animate),"min"===f&&"horizontal"===this.orientation&&this.range.stop(1,1)[i?"animate":"css"]({width:b+"%"},g.animate),"max"===f&&"horizontal"===this.orientation&&this.range[i?"animate":"css"]({width:100-b+"%"},{queue:!1,duration:g.animate}),"min"===f&&"vertical"===this.orientation&&this.range.stop(1,1)[i?"animate":"css"]({height:b+"%"},g.animate),"max"===f&&"vertical"===this.orientation&&this.range[i?"animate":"css"]({height:100-b+"%"},{queue:!1,duration:g.animate}))},_handleEvents:{keydown:function(b){var c,d,e,f,g=$(b.target).data("ui-slider-handle-index");switch(b.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,$(b.target).addClass("ui-state-active"),c=this._start(b,g),c===!1))return}switch(f=this.options.step,d=e=this.options.values&&this.options.values.length?this.values(g):this.value(),b.keyCode){case $.ui.keyCode.HOME:e=this._valueMin();break;case $.ui.keyCode.END:e=this._valueMax();break;case $.ui.keyCode.PAGE_UP:e=this._trimAlignValue(d+(this._valueMax()-this._valueMin())/a);break;case $.ui.keyCode.PAGE_DOWN:e=this._trimAlignValue(d-(this._valueMax()-this._valueMin())/a);break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(d===this._valueMax())return;e=this._trimAlignValue(d+f);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(d===this._valueMin())return;e=this._trimAlignValue(d-f)}this._slide(b,g,e)},click:function(a){a.preventDefault()},keyup:function(a){var b=$(a.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(a,b),this._change(a,b),$(a.target).removeClass("ui-state-active"))}}})}),!function(a){"function"==typeof define&&define.amd?define("fish.spinner",["jquery.mousewheel"],a):a()}(function(){"use strict";function a(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}var b='<div class="input-group ui-spinner"></div>',c='<span class="input-group-addon btn-group-vertical btn-group-stepper"><button type="button" class="btn btn-stepper js-increase" tabindex="-1"><span class="glyphicon glyphicon-triangle-top"></span><span class="sr-only">Increase</span></button><button type="button" class="btn btn-stepper" tabindex="-1"><span class="glyphicon glyphicon-triangle-bottom"></span><span class="sr-only">Decrease</span></button></span>';$.widget("ui.spinner",{defaultElement:"<input>",widgetEventPrefix:"spin",options:{incremental:!0,max:null,min:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh()},_getCreateOptions:function(){var a={},b=this.element;return $.each(["min","max","step"],function(c,d){var e=b.attr(d);void 0!==e&&e.length&&(a[d]=e)}),a},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val(),this.uiSpinner.addClass("focus")},blur:function(a){return this.uiSpinner.removeClass("focus"),this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",a)))},"mousewheel .form-control:focus":function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .btn-stepper":function(a){function b(){var a=this.element[0]===this.document[0].activeElement;a||(this.element.focus(),this.previous=c,this._delay(function(){this.previous=c}))}var c;c=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),a.preventDefault(),b.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,b.call(this)}),this._start(a)!==!1&&this._repeat(null,$(a.currentTarget).hasClass("js-increase")?1:-1,a)},"mouseup .btn-stepper":"_stop","mouseenter .btn-stepper":function(a){return $(a.currentTarget).hasClass("ui-state-active")?this._start(a)===!1?!1:void this._repeat(null,$(a.currentTarget).hasClass("js-increase")?1:-1,a):void 0},"mouseleave .btn-stepper":"_stop"},_draw:function(){var a=(this.options,this.uiSpinner=this.element.attr("autocomplete","off").wrap(b).parent().append(c));this.element.attr("role","spinbutton"),this.buttons=a.find(".btn-stepper"),this.options.disabled&&this.disable()},_keydown:function(a){var b=this.options,c=$.ui.keyCode;switch(a.keyCode){case c.UP:return this._repeat(null,1,a),!0;case c.DOWN:return this._repeat(null,-1,a),!0;case c.PAGE_UP:return this._repeat(null,b.page,a),!0;case c.PAGE_DOWN:return this._repeat(null,-b.page,a),!0}return!1},_start:function(a){return this.spinning||this._trigger("start",a)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,b,c){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,b,c)},a),this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+a*this._increment(this.counter)),this.spinning&&this._trigger("spin",b,{value:c})===!1||(this._value(c),this.counter++)},_increment:function(a){var b=this.options.incremental;return b?$.isFunction(b)?b(a):Math.floor(a*a*a/5e4-a*a/500+17*a/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return-1===c?0:b.length-c-1},_adjustValue:function(a){var b,c,d=this.options;return b=null!==d.min?d.min:0,c=a-b,c=Math.round(c/d.step)*d.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),null!==d.max&&a>d.max?d.max:null!==d.min&&a<d.min?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){("max"===a||"min"===a||"step"===a)&&"string"==typeof b&&(b=this._parse(b)),this._super(a,b),"disabled"===a&&(b?(this.element.prop("disabled",!0),this.buttons.prop("disabled",!0)):(this.element.prop("disabled",!1),this.buttons.prop("disabled",!1)))},_setOptions:a(function(a){this._super(a),this._value(this.element.val())}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=+a),""===a||isNaN(a)?null:a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(a,b){var c;
""!==a&&(c=this._parse(a),null!==c&&(b||(c=this._adjustValue(c)))),this.element.val(c),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:a(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:a(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:a(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:a(function(a){this._stepDown((a||1)*this.options.page)}),value:function(b){return arguments.length?void a(this._value).call(this,b):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}),!function(a){"function"==typeof define&&define.amd?define("fish.splitter",["fish.resize"],a):a()}(function(){"use strict";function a(a){return e.test(a)}function b(a){return d.test(a)||/^\d+$/.test(a)}function c(c){return!a(c)&&!b(c)}var d=/^\d+(\.\d+)?px$/i,e=/^\d+(\.\d+)?%$/i,f=".splitter";$.widget("ui.splitter",$.ui.mouse,{widgetEventPrefix:"split",options:{orientation:"horizontal",panes:[]},_create:function(){var a="vertical"!=this.options.orientation.toLowerCase();this.orientation=a?"horizontal":"vertical",a?(this.sizingProperty="width",this.sizingDomProperty="outerWidth",this.alternateSizingProperty="height",this.positioningProperty="left",this.mousePositioningProperty="pageX"):(this.sizingProperty="height",this.sizingDomProperty="outerHeight",this.alternateSizingProperty="width",this.positioningProperty="top",this.mousePositioningProperty="pageY"),this.id=this.element.attr("id"),this.id||(this.element.uniqueId(),this.id=this.element.attr("id")),this._initPanes(),this._mouseInit(),$(window).on("debouncedresize."+this.id+f,$.proxy(this._waitResize,this))},_initPanes:function(){var a=this.options.panes||[],b=this;this.element.addClass("ui-splitter").children("div").each(function(c,d){b._initPane(d,a[c])}),this._waitResize(!1)},_initPane:function(a,b){a=$(a).attr("role","group").addClass("ui-pane"),a.data("pane",b?b:{}).toggleClass("ui-scrollable",b?b.scrollable!==!1:!0)},_waitResize:function(a){var b=this;a===!1?b._resize.call(b):b.waitResize||(b.waitResize=!0,b._delay(function(){b._resize.call(b),b.waitResize=!1},30)),$(b.element).find(".ui-splitter").each(function(a,b){var c=$.data(b,"ui-splitter");c._waitResize(!1)})},_resize:function(){var b=this,d=b.element,e=d.children(".ui-pane"),f=d.children(".ui-splitbar"),g=f.length,h=d[b.sizingProperty]();0===g?(g=e.length-1,e.slice(0,g).after("<div tabindex='0' class='ui-splitbar'/>"),b._updateSplitBars(),f=d.children(".ui-splitbar")):b._updateSplitBars(),f.each(function(){h-=$(this)[b.sizingDomProperty]()});var i=0,j=0,k=$();e.css({position:"absolute",top:0})[b.sizingProperty](function(){var b,d=$(this).data("pane")||{};if(d.collapsed)b=0,$(this).css("overflow","hidden");else{if(c(d.size))return void(k=k.add(this));b=parseInt(d.size,10),a(d.size)&&(b=Math.floor(b*h/100))}return j++,i+=b,b}),h-=i;var l=k.length,m=Math.floor(h/l);k.slice(0,l-1).css(b.sizingProperty,m).end().eq(l-1).css(b.sizingProperty,h-(l-1)*m);var n=0;if(0===l){var o=e.filter(function(){return!($(this).data("pane")||{}).collapsed}).last();if(0>h&&o[0]==e.last()[0]){var p=e.eq(-2);p[b.sizingProperty](h+p[b.sizingDomProperty]())}else o[b.sizingProperty](h+o[b.sizingDomProperty]())}d.children("div").css(b.alternateSizingProperty,d[b.alternateSizingProperty]()).each(function(a,c){$(c).css(b.positioningProperty,Math.floor(n)+"px"),n+=$(c)[b.sizingDomProperty]()}),b._detachEvents(),b._attachEvents(),b._trigger("layoutChange")},_updateSplitBars:function(){var a=this;this.element.children(".ui-splitbar").each(function(){var b=$(this),c=b.prev(".ui-pane").data("pane"),d=b.next(".ui-pane").data("pane");a._updateSplitBar(b,c,d)})},_updateSplitBar:function(a,b,c){var d=function(a,b){return b?"<div class='ui-icon "+a+"' />":""},e=this.orientation,f=b.resizable!==!1&&c.resizable!==!1,g=b.collapsible,h=b.collapsed,i=c.collapsible,j=c.collapsed;a.addClass("ui-splitbar ui-splitbar-"+e).attr("role","separator").attr("aria-expanded",!(h||j)).removeClass("ui-splitbar-"+e+"-hover").toggleClass("ui-splitbar-draggable-"+e,f&&!h&&!j).toggleClass("ui-splitbar-static-"+e,!f&&!g&&!i).html(d("ui-collapse-prev",g&&!h&&!j)+d("ui-expand-prev",g&&h&&!j)+d("ui-resize-handle",f)+d("ui-collapse-next",i&&!j&&!h)+d("ui-expand-next",i&&j&&!h))},_attachEvents:function(){var a=this,b=a.orientation;a.element.children(".ui-splitbar-draggable-"+b).on("mousedown"+f,function(a){a.currentTarget.focus()}).on("focus"+f,function(a){$(a.currentTarget).addClass("ui-state-focused")}).on("blur"+f,function(a){$(a.currentTarget).removeClass("ui-state-focused")}).on("mouseenter"+f,function(){$(this).addClass("ui-splitbar-"+b+"-hover")}).on("mouseleave"+f,function(){$(this).removeClass("ui-splitbar-"+b+"-hover")}).on("mousedown"+f,function(){a._panes().append("<div class='ui-splitter-overlay ui-overlay' />")}).on("mouseup"+f,function(){a._panes().children(".ui-splitter-overlay").remove()}).end().children(".ui-splitbar").on("dblclick"+f,$.proxy(a._togglePane,a)).children(".ui-collapse-next, .ui-collapse-prev").on("click"+f,a._arrowClick("collapse")).end().children(".ui-expand-next, .ui-expand-prev").on("click"+f,a._arrowClick("expand")).end().end()},_detachEvents:function(){var a=this;a.element.children(".ui-splitbar-draggable-"+a.orientation).off(f).end().children(".ui-splitbar").off("dblclick"+f).children(".ui-collapse-next, .ui-collapse-prev, .ui-expand-next, .ui-expand-prev").off(f)},_togglePane:function(a){var b,c=this,d=$(a.target);d.closest(".ui-splitter")[0]==c.element[0]&&(b=d.children(".ui-icon:not(.ui-resize-handle)"),1===b.length&&(b.is(".ui-collapse-prev")?this.collapse(d.prev()):b.is(".ui-collapse-next")?this.collapse(d.next()):b.is(".ui-expand-prev")?this.expand(d.prev()):b.is(".ui-expand-next")&&this.expand(d.next())))},toggle:function(a,b,c){var d,e,f=this;a=f.element.find(a),d=a.data("pane"),(c||d.collapsible)&&(arguments.length<3&&(c=void 0===d.collapsed?!1:d.collapsed),d.collapsed=!c,e=d.collapsed?"collapse":"expand",d.collapsed?a.css("overflow","hidden"):a.css("overflow",""),f._waitResize(!1),0!=b&&f._trigger(e,null,a[0]))},collapse:function(a,b){b=void 0===b?!0:b,this.toggle(a,b,!1)},expand:function(a,b){b=void 0===b?!0:b,this.toggle(a,b,!0)},_arrowClick:function(a){var b=this;return function(c){var d,e=$(c.target);e.closest(".ui-splitter")[0]==b.element[0]&&(d=e.is(".ui-"+a+"-prev")?e.parent().prev():e.parent().next(),b[a](d))}},_panes:function(){return this.element.children(".ui-pane")},_mouseCapture:function(a){var b=!1,c=$(a.target);return($(a.target).is(".ui-splitbar")||$(a.target).is(".ui-resize-handle"))&&(b=!0),(c.is(".ui-splitbar-static-vertical")||c.is(".ui-splitbar-static-horizontal"))&&(b=!1),b},_mouseStart:function(a){var c=this,d=c.splitbar=$(a.target).is(".ui-resize-handle")?$(a.target).parent():$(a.target);c._initialElementPosition=d.position()[c.positioningProperty],c._initialMousePosition=a[c.mousePositioningProperty],c.hint=$("<div class='ui-ghost-splitbar ui-ghost-splitbar-"+c.orientation+"' />").css(c.alternateSizingProperty,d[c.alternateSizingProperty]()),c.hint.css({position:"absolute"}).css(c.positioningProperty,c._initialElementPosition).appendTo(c.element);var e=d.prev(),f=d.next(),g=e.data("pane"),h=f.data("pane"),i=parseInt(e.css(c.positioningProperty),10),j=parseInt(f.css(c.positioningProperty),10)+f[c.sizingDomProperty]()-d[c.sizingDomProperty](),k=parseInt(c.element[c.sizingProperty](),10),l=function(a){var c=parseInt(a,10);return(b(a)?c:k*c/100)||0},m=l(g.min),n=l(g.max)||j-i,o=l(h.min),p=l(h.max)||j-i;c.previousPane=e,c.nextPane=f,c._maxPosition=Math.min(j-o,i+n),c._minPosition=Math.max(i+m,j-p)},_mouseDrag:function(a){var b,c=this,d=c._maxPosition,e=c._minPosition,f=c._initialElementPosition+(a[c.mousePositioningProperty]-c._initialMousePosition);b=void 0!==e?Math.max(e,f):f,c.position=b=void 0!==d?Math.min(d,b):b,c.hint&&c.hint.toggleClass("ui-restricted-size-"+c.orientation||"",b==d||b==e).css(c.positioningProperty,b),c.resizing=!0,c._trigger("resize",$.extend(a,{position:b}))},_mouseStop:function(){var a=this;a.hint&&a.hint.remove(),a.resizing=!1,a._panes().children(".ui-splitter-overlay").remove();var b=a.position,d=a.splitbar.prev(),e=a.splitbar.next(),f=d.data("pane"),g=e.data("pane"),h=b-parseInt(d.css(a.positioningProperty),10),i=parseInt(e.css(a.positioningProperty),10)+e[a.sizingDomProperty]()-b-a.splitbar[a.sizingDomProperty](),j=a.element.children(".ui-pane").filter(function(){return c($(this).data("pane").size)}).length;(!c(f.size)||j>1)&&(c(f.size)&&j--,f.size=h+"px"),(!c(g.size)||j>1)&&(g.size=i+"px"),a._waitResize(!1)},_destroy:function(){$(window).off("debouncedresize."+this.id+f);var a=$(this.element);a.removeClass("ui-splitter"),a.children(".ui-splitbar").remove(),a.children(".ui-pane").removeClass("ui-pane")}})}),!function(a){"function"==typeof define&&define.amd?define("fish.switchbutton",["fish.formfield"],a):a()}(function(){"use strict";var a="ui-switch";$.widget("ui.switchbutton",{widgetEventPrefix:"",options:{state:!0,size:null,animate:!0,disabled:!1,readonly:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",customClass:"",radioAllOff:!1,change:$.noop},_getCreateOptions:function(){return this.$element=this.element,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),customClass:this.$element.data("custom-class"),radioAllOff:this.$element.data("radio-all-off")}},_create:function(){this.$wrapper=$("<div>",{"class":function(b){return function(){var c=[a];return c.push(a+(b.options.state?"-on":"-off")),b.options.size?c.push(a+"-"+b.options.size):"",b.options.animate?c.push(a+"-animate"):"",b.options.disabled?c.push(a+"-disabled"):"",b.options.readonly?c.push(a+"-readonly"):"",c.push(b.options.customClass),c.join(" ")}}(this)()}),this.$container=$("<div>",{"class":a+"-container"}),this.$on=$("<span>",{html:this.options.onText,"class":a+"-handle-on "+a+"-"+this.options.onColor}),this.$off=$("<span>",{html:this.options.offText,"class":a+"-handle-off "+a+"-"+this.options.offColor}),this.$label=$("<label>",{html:this.options.labelText,"class":a+"-label"}),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.$on).before(this.$label).before(this.$off),this._elementHandlers(),this._handleHandlers(),this._labelHandlers()},_formHandler:function(a){var b=this;a.on("reset.form",function(){setTimeout(function(){b._update()},0)}).on("clear.form",function(){b._update()}).on("setvalue"+this.uuid+".form",function(){b._update()}).on("disable.form",function(){b.disable()}).on("enable.form",function(){b.enable()})},_setOption:function(a,b){this["_"+a](b),this._super(a,b)},_update:function(){this.$element.is(":checked");this.$element.trigger("change")},state:function(a,b){this.options.disabled||this.options.readonly||this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")||(a=!!a,this.$element.prop("checked",a).trigger("change",b))},toggle:function(a){this.options.disabled||this.options.readonly||this.$element.prop("checked",!this.options.state).trigger("change",a)},_state:function(a){return this.state(a)},value:function(a){return void 0===a?this.element.val():void this.element.val(a)},_size:function(b){null!=this.options.size&&this.$wrapper.removeClass(a+"-"+this.options.size),b&&this.$wrapper.addClass(a+"-"+b)},_animate:function(b){b=!!b,this.$wrapper[b?"addClass":"removeClass"](a+"-animate")},_disabled:function(b){b=!!b,this.$wrapper[b?"addClass":"removeClass"](a+"-disabled"),this.$element.prop("disabled",b)},_readonly:function(b){b=!!b,this.$wrapper[b?"addClass":"removeClass"](a+"-readonly"),this.$element.prop("readonly",b)},_onColor:function(b){var c;c=this.options.onColor,null!=c&&this.$on.removeClass(a+"-"+c),this.$on.addClass(a+"-"+b)},_offColor:function(b){var c;c=this.options.offColor,null!=c&&this.$off.removeClass(a+"-"+c),this.$off.addClass(a+"-"+b)},_onText:function(a){this.$on.html(a)},_offText:function(a){this.$off.html(a)},_labelText:function(a){this.$label.html(a)},_destroy:function(){this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap(),this.$element.off()},_elementHandlers:function(){var b=this;b.$element.on({change:function(c,d){var e;c.preventDefault(),c.stopImmediatePropagation(),e=b.$element.is(":checked"),e!==b.options.state&&(b.options.state=e,b.$wrapper.removeClass(e?a+"-off":a+"-on").addClass(e?a+"-on":a+"-off"),d||(b.$element.is(":radio")&&$("[name='"+b.$element.attr("name")+"']").not(b.$element).prop("checked",!1).trigger("change",!0),b._trigger("switchChange",c,[e])))},focus:function(){return b.options.disabled?void 0:b.$wrapper.addClass(a+"-focused")},blur:function(c){return b.options.disabled?void 0:(c.preventDefault(),b.$wrapper.removeClass(a+"-focused"))},keydown:function(a){if(a.which&&!b.options.disabled&&!b.options.readonly)switch(a.which){case 37:return a.preventDefault(),a.stopImmediatePropagation(),b.state(!1);case 39:return a.preventDefault(),a.stopImmediatePropagation(),b.state(!0)}}})},_handleHandlers:function(){var a=this;this.$on.on("click",function(b){return b.preventDefault(),b.stopPropagation(),a.state(!1),a.$element.focus()}),this.$off.on("click",function(b){return b.preventDefault(),b.stopPropagation(),a.state(!0),a.$element.focus()})},_labelHandlers:function(){var b=this;this.$label.on({mousemove:function(c){var d,e,f,g;b.isLabelDragging&&(c.preventDefault(),b.isLabelDragged=!0,e=c.pageX||c.originalEvent.touches[0].pageX,f=(e-b.$wrapper.offset().left)/b.$wrapper.width()*100,d=25,g=75,b.options.animate&&b.$wrapper.removeClass(a+"-animate"),d>f?f=d:f>g&&(f=g),b.$container.css("margin-left",""+(f-g)+"%"))},mousedown:function(a){return b.isLabelDragging||b.options.disabled||b.options.readonly?void 0:(a.preventDefault(),b.isLabelDragging=!0,b.$element.focus())},mouseup:function(c){return b.isLabelDragging?(c.preventDefault(),b.isLabelDragged?(b.isLabelDragged=!1,b.state(parseInt(b.$container.css("margin-left"),10)>-(b.$container.width()/6)),b.options.animate&&b.$wrapper.addClass(a+"-animate"),b.$container.css("margin-left","")):b.state(!b.options.state),b.isLabelDragging=!1):void 0},mouseleave:function(){return b.$label.trigger("mouseup")}})}})}),!function(a){"function"==typeof define&&define.amd?define("fish.tabs",a):a()}(function(){"use strict";function a(){return++c}function b(a){return a.hash.length>1&&a.href.replace(d,"")===location.href.replace(d,"").replace(/\s/g,"%20")}var c=0,d=/#.*$/;$.widget("ui.tabs",{delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",activate:null,beforeActivate:null,beforeRemove:null,remove:null,add:null,paging:!1},_create:function(){var a=this,b=this.options,c=b.active;this.running=!1,this.element.addClass("ui-tabs").toggleClass("ui-tabs-collapsible",b.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(a){$(this).is(".ui-state-disabled")&&a.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){$(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),null===c&&(null===c&&(c=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===c||-1===c)&&(c=this.tabs.length?0:!1)),c!==!1&&(c=this.tabs.index(this.tabs.eq(c)),-1===c&&(c=b.collapsible?!1:0)),b.active=c,!b.collapsible&&b.active===!1&&this.anchors.length&&(b.active=0),$.isArray(b.disabled)&&(b.disabled=$.unique(b.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"),function(b){return a.tabs.index(b)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(this.options.active):$(),this._refresh(),b.canClose&&this._bindCloseEvent(!0)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):$()}},_tabKeydown:function(a){var b=$(this.document[0].activeElement).closest("li"),c=this.tabs.index(b),d=!0;if(!this._handlePageNav(a)){switch(a.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:c++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:d=!1,c--;break;case $.ui.keyCode.END:c=this.anchors.length-1;break;case $.ui.keyCode.HOME:c=0;break;case $.ui.keyCode.SPACE:return a.preventDefault(),clearTimeout(this.activating),void this._activate(c);case $.ui.keyCode.ENTER:return a.preventDefault(),clearTimeout(this.activating),void this._activate(c===this.options.active?!1:c);default:return}a.preventDefault(),clearTimeout(this.activating),c=this._focusNextTab(c,d),a.ctrlKey||(b.attr("aria-selected","false"),this.tabs.eq(c).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",c)},this.delay))}},_panelKeydown:function(a){this._handlePageNav(a)||a.ctrlKey&&a.keyCode===$.ui.keyCode.UP&&(a.preventDefault(),this.active.focus())},_handlePageNav:function(a){return a.altKey&&a.keyCode===$.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):a.altKey&&a.keyCode===$.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(a,b){function c(){return a>d&&(a=0),0>a&&(a=d),a}for(var d=this.tabs.length-1;-1!==$.inArray(c(),this.options.disabled);)a=b?a+1:a-1;return a},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?void this._activate(b):("canClose"===a&&this._bindCloseEvent(b),"disabled"===a?void this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b))))},_tabId:function(b){return b.attr("aria-controls")||"ui-tabs-"+a()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var a=this.options,b=this.tablist.children(":has(a[href])");a.disabled=$.map(b.filter(".ui-state-disabled"),function(a){return b.index(a)}),this._processTabs(),a.active!==!1&&this.anchors.length?this.active.length&&!$.contains(this.tablist[0],this.active[0])?this.tabs.length===a.disabled.length?(a.active=!1,this.active=$()):this._activate(this._findNextTab(Math.max(0,a.active-1),!1)):a.active=this.tabs.index(this.active):(a.active=!1,this.active=$()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0),this.options.paging&&this._paging()},_processTabs:function(){var a=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a)").addClass("ui-state-default").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return $("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=$(),this.anchors.each(function(c,d){var e,f,g,h=$(d).uniqueId().attr("id"),i=$(d).closest("li");b(d)?(e=d.hash,f=a.element.find(a._sanitizeSelector(e))):(f=a.element.children("div:eq("+c+")"),g=f.attr("id"),g||(g=a._tabId($(d)),f.attr("id",g)),e="#"+g,$(d).attr("href",e)),f.length&&(a.panels=a.panels.add(f)),i.attr({"aria-controls":e.substring(1),"aria-labelledby":h}),f.attr("aria-labelledby",h)}),this.panels.addClass("ui-tabs-panel").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(a){return $("<div>").attr("id",a).addClass("ui-tabs-panel").data("ui-tabs-destroy",!0)},_setupDisabled:function(a){$.isArray(a)&&(a.length?a.length===this.anchors.length&&(a=!0):a=!1);for(var b,c=0;b=this.tabs[c];c++)a===!0||-1!==$.inArray(c,a)?$(b).addClass("ui-state-disabled").attr("aria-disabled","true"):$(b).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=a},_setupEvents:function(a){var b={click:function(a){a.preventDefault()}};a&&$.each(a.split(" "),function(a,c){b[c]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,b),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(a){var b,c,d=this.element.parent();"fill"===a?($.support.minHeight||(c=d.css("overflow"),d.css("overflow","hidden")),b=d.height(),this.element.siblings(":visible").each(function(){var a=$(this),c=a.css("position");"absolute"!==c&&"fixed"!==c&&(b-=a.outerHeight(!0))}),c&&d.css("overflow",c),this.element.children().not(this.panels).each(function(){b-=$(this).outerHeight(!0)}),this.panels.each(function(){$(this).height(Math.max(0,b-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")):"auto"===a&&(b=0,this.panels.each(function(){b=Math.max(b,$(this).height("").height())}).height(b))},_eventHandler:function(a){var b=this.options,c=this.active,d=$(a.currentTarget),e=d.closest("li"),f=e[0]===c[0],g=f&&b.collapsible,h=g?$():this._getPanelForTab(e),i=c.length?this._getPanelForTab(c):$(),j={oldTab:c,oldPanel:i,newTab:g?$():e,newPanel:h};a.preventDefault(),e.hasClass("ui-state-disabled")||e.hasClass("ui-tabs-loading")||this.running||f&&!b.collapsible||this._trigger("beforeActivate",a,j)===!1||(b.active=g?!1:this.tabs.index(e),this.active=f?$():e,this.xhr&&this.xhr.abort(),i.length||h.length||$.error("jQuery UI Tabs: Mismatching fragment identifier."),this._toggle(a,j))},_toggle:function(a,b){function c(){e.running=!1,e._trigger("activate",a,b)}function d(){b.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),f.length&&e.options.show?e._show(f,e.options.show,c):(f.show(),c())}var e=this,f=b.newPanel,g=b.oldPanel;this.running=!0,g.length&&this.options.hide?this._hide(g,this.options.hide,function(){b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),d()}):(b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),g.hide(),d()),g.attr({"aria-expanded":"false","aria-hidden":"true"}),b.oldTab.attr("aria-selected","false"),f.length&&g.length?b.oldTab.attr("tabIndex",-1):f.length&&this.tabs.filter(function(){return 0===$(this).attr("tabIndex")}).attr("tabIndex",-1),f.attr({"aria-expanded":"true","aria-hidden":"false"}),b.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(a){var b,c=this._findActive(a);if(c[0]!==this.active[0]&&(c.length||(c=this.active),b=c.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,currentTarget:b,preventDefault:$.noop}),this.options.paging)){var d=this,e=d.options.currentPage,f=d.options.pages;for(var g in f){var h=f[g].start,i=f[g].end;if(a>=h&&i>a){g!=e&&(d.tabs.hide().slice(h,i).show(),d._delay(function(){d.active.focus()}),e=parseInt(g),0==e?(d._enableButton("next"),!d.options.cycle&&0>=h&&d._disableButton("prev")):(d._enableButton("prev"),!d.options.cycle&&i>=d.tabs.length&&d._disableButton("next")));break}}d.options.currentPage=e}},_findActive:function(a){return a===!1?$():this.tabs.eq(a)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){$.data(this,"ui-tabs-destroy")?$(this).remove():$(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var a=$(this),b=a.data("ui-tabs-aria-controls");b?a.attr("aria-controls",b):a.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(a){var b=this.options.disabled;b!==!1&&(void 0===a?b=!1:(a=this._getIndex(a),b=$.isArray(b)?$.map(b,function(b){return b!==a?b:null}):$.map(this.tabs,function(b,c){return c!==a?c:null})),this._setupDisabled(b))},disable:function(a){var b=this.options.disabled;if(b!==!0){if(void 0===a)b=!0;else{if(a=this._getIndex(a),-1!==$.inArray(a,b))return;b=$.isArray(b)?$.merge([a],b).sort():[a]}this._setupDisabled(b)}},_getPanelForTab:function(a){var b=$(a).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+b))}}),$.widget("ui.tabs",$.ui.tabs,{options:{canClose:!1,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>",tabCanCloseTemplate:"<li><a href='#{href}'>#{label}</a><button type='button' class='ui-tabs-close close' role='button'><span aria-hidden='true' title='close'>&times;<span class='sr-only'>Close</span></span></button></li>",panelTemplate:"<div></div>"},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_createPanel:function(a){return $(this.options.panelTemplate).attr("id",a)},add:function(b){b=b||{};{var c=b.index,d=b.id,e=b.label;b.content}void 0===c&&(c=this.anchors.length),d=d||"ui-tabs-"+a(),e=e||d,this.options.paging&&this._pageReset();var f,g,h=this.options,i=$((h.canClose?h.tabCanCloseTemplate:h.tabTemplate).replace(/#\{href\}/g,"#"+d).replace(/#\{label\}/g,e));return f=c>=this.tabs.length,g=this.element.find("#"+d),g.length||(g=this._createPanel(d),g.append(b.content),f?c>0?g.insertAfter(this.panels.eq(-1)):g.appendTo(this.element):g.insertBefore(this.panels[c])),g.hide(),f?i.appendTo(this.tablist):i.insertBefore(this.tabs[c]),h.disabled=$.map(h.disabled,function(a){return a>=c?++a:a}),this.refresh(),1===this.tabs.length&&h.active===!1&&this.option("active",0),b.active===!0&&this.option("active",c),this._trigger("add",null,this._ui(this.anchors[c],this.panels[c])),this},remove:function(a){this.options.paging&&this._pageReset(),a=this._getIndex(a);var b=this.options,c=this.tabs.eq(a),d=this._getPanelForTab(c);return this._trigger("beforeRemove",null,this._ui(c,d))!==!1?(c.remove(),d.remove(),c.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(a+(a+1<this.anchors.length?1:-1)),b.disabled=$.map($.grep(b.disabled,function(b){return b!==a}),function(b){return b>=a?--b:b}),this.refresh(),this._trigger("remove",null,this._ui(c.find("a")[0],d[0])),this):void 0},update:function(a,b){a=this._getIndex(a);var c=(this.options,this.tabs.eq(a)),d=(this._getPanelForTab(c),c.find("span"));return d.length||(d=c.find("a")),void 0===b.label?"":d.text(b.label),alert(typeof b.cssprop),void 0!==b.cssprop&&("string"==typeof b.cssprop?d.addClass(b.cssprop):"object"==typeof b.cssprop&&d.css(b.cssprop)),this},_bindCloseEvent:function(){var a=this;a.hasBindCloseEvent||(this.element.on("click","button.ui-tabs-close",function(){var b=a.tabs.index($(this).closest("li"));a.remove(b)}),a.hasBindCloseEvent=!0)}}),$.widget("ui.tabs",$.ui.tabs,{_disableButton:function(a){$(".ui-tabs-paging-"+a,this.element).addClass("ui-tabs-paging-disabled")},_enableButton:function(a){$(".ui-tabs-paging-"+a,this.element).removeClass("ui-tabs-paging-disabled")},_pageReset:function(){$(".ui-tabs-paging-next",this.element).remove(),$(".ui-tabs-paging-prev",this.element).remove(),this.tabs.show()},_paging:function(){var a={tabsPerPage:0,nextButton:"&#187;",prevButton:"&#171;",follow:!0,cycle:!1};a=$.extend(a,this.options.paging);var b,c,d,e,f,g,h,i,j,k=this;k._pageReset(),i=$(window).height(),j=$(window).width();var e=0,b=0,g=0,c=0,h=new Array,f=new Array,l=new Array;d=k.element.width();var m=0;if(k.tabs.each(function(a){a==k.options.active?(l[a]=$(this).outerWidth(!0),f[a]=k.tabs.eq(a).removeClass("ui-tabs-selected").outerWidth(!0),k.tabs.eq(a).addClass("ui-tabs-selected"),m=Math.min(m,Math.abs(l[a]-f[a])),e+=f[a]):(f[a]=$(this).outerWidth(!0),l[a]=k.tabs.eq(a).addClass("ui-tabs-selected").outerWidth(!0),k.tabs.eq(a).removeClass("ui-tabs-selected"),m=Math.max(m,Math.abs(l[a]-f[a])),e+=f[a])}),e+=m+($.browser.msie?4:0),e>d){var n=$("<li></li>").addClass("ui-state-default ui-tabs-paging-next ui-corner-right").append($('<a href="#"></a>').click(function(){return $(this).closest("li").hasClass("ui-tabs-paging-disabled")?!1:(k._page("next"),!1)}).html(a.nextButton));k.tabs.eq(k.tabs.length-1).after(n),c=n.outerWidth(!0),n=$("<li></li>").addClass("ui-state-default ui-tabs-paging-prev ui-corner-left").append($('<a href="#"></a>').click(function(){return $(this).closest("li").hasClass("ui-tabs-paging-disabled")?!1:(k._page("prev"),!1)}).html(a.prevButton)),k.tabs.eq(0).before(n),c+=n.outerWidth(!0);for(var o=0,p=0,q=0,r=0;r<f.length;r++)(0==p||l[r]-f[r]>q)&&(q=l[r]-f[r]),null==h[o]?h[o]={start:r}:(r>0&&r%a.tabsPerPage==0||f[r]+p+c>d)&&(p+q>g&&(g=p+q),o++,h[o]={start:r},p=0),h[o].end=r+1,p+=f[r],r==k.options.active&&(b=o);p+q>g&&(g=p+q),k.tabs.hide().slice(h[b].start,h[b].end).show(),b!=h.length-1||a.cycle||k._disableButton("next"),0!=b||a.cycle||k._disableButton("prev")}else k._pageReset();k.options.currentPage=b,k.options.pages=h,k.options.cycle=a.cycle,k.options.follow=a.follow},_page:function(a){var b=this,c=b.options.currentPage,d=b.options.pages;c+="prev"==a?-1:1,"prev"==a&&0>c&&b.options.cycle||"next"==a&&c>=d.length&&!b.options.cycle?c=d.length-1:("prev"==a&&0>c||"next"==a&&c>=d.length&&b.options.cycle)&&(c=0);var e=d[c].start,f=d[c].end;b.tabs.hide().slice(e,f).show(),"prev"==a?(b._enableButton("next"),b.options.follow&&(b.options.active<e||b.options.active>f-1)&&b._activate(f-1),!b.options.cycle&&0>=e&&b._disableButton("prev")):(b._enableButton("prev"),b.options.follow&&(b.options.active<e||b.options.active>f-1)&&b._activate(e),!b.options.cycle&&f>=b.tabs.length&&b._disableButton("next")),b.options.currentPage=c}})}),!function(a){"function"==typeof define&&define.amd?define("fish.tooltip",a):a()}(function(){"use strict";var a=150;$.widget("ui.tooltip",{options:{animation:!0,placement:"top",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",html:!1,container:!1},_create:function(){this.enabled=!0,this.timeout=null,this.hoverState=null,this.showState=!1;for(var a=this.options.trigger.split(" "),b=a.length;b--;){var c=a[b];if("click"==c)this._on({click:"toggle"});else if("manual"!=c){var d="hover"==c?"mouseenter":"focusin",e="hover"==c?"mouseleave":"focusout",f={};f[d]="enter",f[e]="leave",this._on(f)}}this.fixTitle()},enter:function(){if("in"!=this.hoverState){var a=this;this.hoverState="in",setTimeout(function(){a.show()},100)}},leave:function(){if("out"!=this.hoverState){var a=this;this.hoverState="out",setTimeout(function(){a.hide()},100)}},show:function(){if(!this.showState&&"out"!=this.hoverState&&this.hasContent()&&this.enabled){this._trigger("show");var b=this,c=this.tip(),d=_.uniqueId(this.widgetName);this.setContent(),c.attr("id",d),this.element.attr("aria-describedby",d),this.options.animation&&c.addClass("fade");
var e="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.element[0]):this.options.placement,f=/\s?auto?\s?/i,g=f.test(e);g&&(e=e.replace(f,"")||"top"),c.detach().css({top:0,left:0,display:"block"}).addClass(e),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.element);var h=this.getPosition(),i=c[0].offsetWidth,j=c[0].offsetHeight;if(g){var k=e,l=this.options.container?$(this.options.container):this.element.parent(),m=this.getPosition(l);e="bottom"==e&&h.bottom+j>m.bottom?"top":"top"==e&&h.top-j<m.top?"bottom":"right"==e&&h.right+i>m.width?"left":"left"==e&&h.left-i<m.left?"right":e,c.removeClass(k).addClass(e)}var n=this.getCalculatedOffset(e,h,i,j);this.applyPlacement(n,e);var o=function(){b._trigger("shown"),b.hoverState=null,b.showState=!0};$.support.transition&&this.$tip.hasClass("fade")?c.one("bsTransitionEnd",o).emulateTransitionEnd(a):o()}},applyPlacement:function(a,b){var c=this.tip(),d=c[0].offsetHeight,e=parseInt(c.css("margin-top"),10),f=parseInt(c.css("margin-left"),10);isNaN(e)&&(e=0),isNaN(f)&&(f=0),a.top=a.top+e,a.left=a.left+f,$.offset.setOffset(c[0],$.extend({using:function(a){c.css({top:Math.round(a.top),left:Math.round(a.left)})}},a),0),c.addClass("in");var g=c[0].offsetHeight;/top/.test(b)&&g!=d&&(a.top=a.top+d-g),c.offset(a)},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function b(){c.hoverState=null,c.showState=!1,d.detach(),c.element.removeAttr("aria-describedby"),c._trigger("hidden")}if(this.showState&&"in"!=this.hoverState){var c=this,d=this.tip();return this._trigger("hide"),d.removeClass("in"),$.support.transition&&this.$tip.hasClass("fade")?d.one("bsTransitionEnd",b).emulateTransitionEnd(a):b(),this}},fixTitle:function(){var a=this.element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(a){a=a||this.element;var b=a[0],c="BODY"==b.tagName,d=b.getBoundingClientRect();null==d.width&&(d=$.extend({},d,{width:d.right-d.left,height:d.bottom-d.top}));var e=c?{top:0,left:0}:a.offset(),f={scroll:c?document.documentElement.scrollTop||document.body.scrollTop:a.scrollTop()},g=c?{width:$(window).width(),height:$(window).height()}:null;return $.extend({},d,f,g,e)},getCalculatedOffset:function(a,b,c,d){var e;switch(a){case"bottom":e={top:b.top+b.height,left:b.left+b.width/2-c/2};break;case"top":e={top:b.top-d,left:b.left+b.width/2-c/2};break;case"left":e={top:b.top+b.height/2-d/2,left:b.left-c};break;case"right":e={top:b.top+b.height/2-d/2,left:b.left+b.width};break;case"bottom-left":e={top:b.top+b.height,left:b.left+b.width-c};break;case"bottom-right":e={top:b.top+b.height,left:b.left};break;case"top-left":e={top:b.top-d,left:b.left+b.width-c};break;case"top-right":e={top:b.top-d,left:b.left}}return e},getTitle:function(){var a,b=this.element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},tip:function(){return this.$tip||(this.$tip=$(this.options.template),this.options.trigger.indexOf("hover")>=0&&this._on(this.$tip,{mouseenter:"enter",mouseleave:"leave"})),this.$tip},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggle:function(a){this.tip().hasClass("in")?this.leave(a):this.enter(a)},_destroy:function(){clearTimeout(this.timeout),this.hide()}})}),+function($){"use strict";function a(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}$.fn.emulateTransitionEnd=function(a){var b=!1,c=this;$(this).one("bsTransitionEnd",function(){b=!0});var d=function(){b||$(c).trigger($.support.transition.end)};return setTimeout(d,a),this},$(function(){$.support.transition=a(),$.support.transition&&($.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(a){return $(a.target).is(this)?a.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),!function(a){"function"==typeof define&&define.amd?define("fish.validator",a):a()}(function(){"use strict";function a(b,c){var d=this;return!d instanceof a?new a(b,c):(d.$el=$(b),void d._init(b,c))}function b(a,c){var e=c?c===!0?this:c:b.prototype;if(z(a))for(var f in a)e[f]=d(a[f])}function c(a,b){var d=b?b===!0?this:b:c.prototype;if(z(a))for(var e in a){if(!a[e])return;d[e]=a[e]}}function d(a){switch($.type(a)){case"function":return a;case"array":return function(b){return a[0].test(b.value)||a[1]||!1};case"regexp":return function(b){return a.test(b.value)}}}function e(a){var b="";return $.map(a.split(" "),function(a){b+=","+("#"===a.charAt(0)?a:'[name="'+a+'"]')}),b.substring(1)}function f(a){var b;if(a&&a.tagName){switch(a.tagName){case"INPUT":case"SELECT":case"TEXTAREA":case"BUTTON":case"FIELDSET":b=a.form||$(a).closest(".ui-validator");break;case"FORM":b=a;break;default:b=$(a).closest(".ui-validator")}return $(b).data(l)||$(b)[l]().data(l)}}function g(a,b){var c=$.trim(A(a,"data-rule-"+b));if(c)return c=new Function("return "+c)(),c?d(c):void 0}function h(a,b,c,d){var e=b.msg,f=b._r;return z(e)&&(e=e[f]),y(e)||(e=A(a,"data-msg-"+f)||A(a,"data-msg")||c||(d?y(d)?d:d[f]:"")),e}function i(a){var b;return a&&(b=r.exec(a)),b?b[1]:""}function j(a){return"INPUT"===a.tagName&&"checkbox"===a.type||"radio"===a.type}function k(a){return Date.parse(a.replace(/\.|\-/g,"/"))}var l="validator",m=".validator",n=/(!?)\s?(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?\s*(;|\||&)?/g,o=/(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?/,p=/(?:([^:;\(\[]*):)?(.*)/,q=/[^\x00-\xff]/g,r=/^.*(top|right|bottom|left).*$/,s=/(?:(post|get):)?(.+)/i,t=/<|>/g,u=$.noop,v=$.proxy,w=$.isFunction,x=$.isArray,y=function(a){return"string"==typeof a},z=function(a){return a&&"[object Object]"===Object.prototype.toString.call(a)},A=function(a,b,c){return void 0===c?a.getAttribute(b):void(null===c?a.removeAttribute(b):a.setAttribute(b,""+c))},B=window.console||{log:u,info:u},C={debug:0,timely:1,theme:"default",ignore:"",focusCleanup:!0,focusInvalid:!1,invalid:null,validClass:"n-valid",invalidClass:"n-invalid",msgWrapper:"span",msgMaker:function(a){var b,c={error:"n-error",ok:"n-ok",tip:"n-tip",loading:"n-loading"}[a.type];return b='<span class="msg-wrap '+c+'" role="alert">',b+=a.arrow+a.icon+'<span class="n-msg">'+a.msg+"</span>",b+="</span>"},msgIcon:'<span class="n-icon"></span>',msgArrow:'<span class="n-arrow"><b>◆</b><i>◆</i></span>',msgClass:"",showOk:!1,defaultMsg:"{0} is not valid.",loadingMsg:"Validating..."},D={"default":{formClass:"n-default",msgClass:"n-bottom"}};$.fn.validator=function(b){var c=this,d=arguments;return c.is(":input")?c:(!c.is("form")&&(c=this.find("form")),!c.length&&(c=this),c.each(function(){var c=$(this).data("validator");if(c)if(y(b)){if("_"===b.charAt(0))return;c[b].apply(c,Array.prototype.slice.call(d,1))}else b&&(c._reset(!0),c._init(this,b));else new a(this,b)}),this)},$.fn.isValid=function(a){var b,c,d=f(this[0]);return d?(d.checkOnly=!!a,c=d.options,d.submiting=!0,b=d._multiValidate(this.is(":input")?this:this.find(":verifiable"),function(a){a||(c.focusInvalid&&!d.checkOnly&&d.$el.find(':input[aria-invalid="true"]:first').focus(),w(c.invalid)&&c.invalid.call(d,d.errors)),d.submiting=!1,d.checkOnly=!1})):!0},$.fn.resetElement=function(){var a=f(this[0]);a._resetElement(this)},$.expr[":"].verifiable=function(a){var b=a.nodeName.toLowerCase();return("input"===b&&!{submit:1,button:1,reset:1,image:1}[a.type]||"select"===b||"textarea"===b)&&a.disabled===!1},a.prototype={_init:function(a,d){var f,g,h,j=this;if(w(d)&&(d={valid:d}),d=d||{},h=A(a,"data-validator-option"),h=h&&"{"===h.charAt(0)?new Function("return "+h)():{},g=D[d.theme||h.theme||C.theme],f=j.options=$.extend({},C,g,h,j.options,d),j.rules=new b(f.rules,!0),j.messages=new c(f.messages,!0),j.elements=j.elements||{},j.errors={},j.fields={},j._initFields(f.fields),x(f.groups)&&$.map(f.groups,function(a){return y(a.fields)&&w(a.callback)?(a.$elems=j.$el.find(e(a.fields)),void $.map(a.fields.split(" "),function(b){j.fields[b]=j.fields[b]||{},j.fields[b].group=a})):null}),j.msgOpt={type:"error",pos:i(f.msgClass),wrapper:f.msgWrapper,cls:f.msgClass,style:f.msgStyle,icon:f.msgIcon,arrow:f.msgArrow,show:f.msgShow,hide:f.msgHide},j.isAjaxSubmit=!1,f.valid||!$.trim(A(a,"action")))j.isAjaxSubmit=!0;else{var k=$[$._data?"_data":"data"](a,"events");k&&k.valid&&$.map(k.valid,function(a){return-1!==a.namespace.indexOf("form")?1:null}).length&&(j.isAjaxSubmit=!0)}j.$el.data("validator")||(j.$el.data("validator",j).addClass("ui-validator "+f.formClass).on("reset.validator",v(j,"_reset")).on("showtip.validator",v(j,"_showTip")).on("focusin.validator click.validator showtip.validator",":verifiable",v(j,"_focusin")).on("focusout.validator validate.validator",":verifiable",v(j,"_focusout")),f.timely>=2&&j.$el.on("keyup.validator paste.validator",":verifiable",v(j,"_focusout")).on("click.validator",":radio,:checkbox",v(j,"_focusout")).on("change.validator",'select,input[type="file"]',v(j,"_focusout")),j._novalidate=A(a,"novalidate"),A(a,"novalidate","novalidate"))},_initFields:function(a){var b=this;z(a)&&$.each(a,function(a,c){if(null===c){var d=b.elements[a];d&&b._resetElement(d,!0),delete b.fields[a]}else b.fields[a]=y(c)?{rule:c}:c}),b.$el.find(":verifiable").each(function(){b._parse(this)})},_parse:function(a){var b,c=this,d=a.name,e=A(a,"data-rule");e&&A(a,"data-rule",null),(a.id&&"#"+a.id in c.fields||!a.name)&&(d="#"+a.id),d&&(b=c.fields[d]||{},b.key=d,b.old={},b.rule=b.rule||e||"",b.rule&&(b.rule.match(/match|checked/)&&(b.must=!0),-1!==b.rule.indexOf("required")&&(b.required=!0,A(a,"aria-required",!0)),("timely"in b&&!b.timely||!c.options.timely)&&A(a,"notimely",!0),y(b.target)&&A(a,"data-target",b.target),y(b.tip)&&A(a,"data-tip",b.tip),c.fields[d]=c._parseRule(b)))},_parseRule:function(a){var b=p.exec(a.rule),c=this.options;if(b)return a._i=0,b[1]&&(a.display=b[1]),!a.display&&c.display&&(a.display=c.display),b[2]&&(a.rules=[],b[2].replace(n,function(){var b=arguments;b[3]=b[3]||b[4],a.rules.push({not:"!"===b[1],method:b[2],params:b[3]?b[3].split(", "):void 0,or:"|"===b[5]})})),a},_multiValidate:function(a,b){var c=this,d=c.options;return c.isValid=!0,d.ignore&&(a=a.not(d.ignore)),a.each(function(a,b){var e=c.getField(b);return e&&(c._validate(b,e),!c.isValid&&d.stopOnError)?!1:void 0}),b.call(c,c.isValid),c.isValid},_reset:function(a){var b=this;b.errors={},a&&b.$el.find(":verifiable").each(function(a,c){b._resetElement(c)})},_resetElement:function(a,b){var c=this.options;$(a).removeClass(c.validClass+" "+c.invalidClass),this.hideMsg(a),b&&A(a,"aria-required",null)},_focusin:function(a){var b,c=this,d=c.options,e=a.target;c.verifying||("showtip"!==a.type&&"error"===A(e,"data-inputstatus")&&d.focusCleanup&&($(e).removeClass(d.invalidClass),c.hideMsg(e)),b=A(e,"data-tip"),b&&c.showMsg(e,{type:"tip",msg:b}))},_focusout:function(a){var b,c,d=this,e=d.options,f=a.target,g=a.type,h={click:1,change:1,paste:1},i=0;if(!h[g]){if("validate"===g)c=!0;else{if(A(f,"notimely"))return;if(e.timely>=2&&"keyup"!==g)return}if(e.ignore&&$(f).is(e.ignore))return;if("keyup"===g){var j=a.keyCode,k={8:1,9:1,16:1,32:1,46:1};if(9===j&&!f.value)return;if(48>j&&!k[j])return;i=e.timely>=100?e.timely:500}}b=d.getField(f),b&&(i?(b._t&&clearTimeout(b._t),b._t=setTimeout(function(){d._validate(f,b,c)},i)):d._validate(f,b,c))},_showTip:function(a){var b=this;b.$el[0]===a.target&&b.$el.find(":verifiable[data-tip]").each(function(){b.showMsg(this,{msg:A(this,"data-tip"),type:"tip"})})},_validatedField:function(a,b,c){var d=this,e=d.options,f=c.isValid=b.isValid=!!c.isValid,g=f?"valid":"invalid";c.key=b.key,c.rule=b._r,f?c.type="ok":(d.submiting&&(d.errors[b.key]=c.msg),d.isValid=!1),b.old.value=a.value,b.old.id=a.id,d.elements[b.key]=c.element=a,d.$el[0].isValid=f?d.isFormValid():f,w(b[g])&&b[g].call(d,a,c),$(a).attr("aria-invalid",f?null:!0).removeClass(f?e.invalidClass:e.validClass).addClass(c.skip?"":f?e.validClass:e.invalidClass).trigger(g+".field",[c,d]),d.$el.triggerHandler("validation",[c,d]),d.checkOnly||(b.msgMaker||e.msgMaker)&&d[c.showOk||c.msg?"showMsg":"hideMsg"](a,c,b)},_validatedRule:function(a,b,c,d){b=b||i.getField(a),d=d||{};var e,f,g,i=this,j=i.options,k=b._r,l=!1;if(null===c)return void i._validatedField(a,b,{isValid:!0,skip:!0});if(c===!0||void 0===c||""===c?l=!0:y(c)?e=c:z(c)&&(c.error?e=c.error:(e=c.ok,l=!0)),b.rules&&(f=b.rules[b._i],f.not&&(e=void 0,l="required"===k||!l),f.or))if(l)for(;b._i<b.rules.length&&b.rules[b._i].or;)b._i++;else g=!0;g||(l?(d.isValid=l,j.showOk!==!1&&(y(e)||(y(b.ok)?e=b.ok:y(A(a,"data-ok"))?e=A(a,"data-ok"):y(j.showOk)&&(e=j.showOk)),y(e)&&(d.showOk=l,d.msg=e)),$(a).trigger("valid.rule",[k,d.msg])):(d.msg=(h(a,b,e,i.messages[k])||C.defaultMsg).replace("{0}",i._getDisplay(a,b.display||"")),$(a).trigger("invalid.rule",[k,d.msg]))),j.debug&&B.log("   "+b._i+": "+k+" => "+(l||d.msg||l)),g||l&&b._i<b.rules.length-1?(b._i++,i._checkRule(a,b)):(b._i=0,i._validatedField(a,b,d))},_checkRule:function(a,b){var c,d,e=this,f=(b.key,b.rules[b._i]),h=f.method,i=f.params;d=b.old,b._r=h,c=!b.must&&void 0!==d.ret&&d.rule===f&&d.id===a.id&&a.value&&d.value===a.value?d.ret:(g(a,h)||e.rules[h]||u).call(e,a,i,b),e._validatedRule(a,b,c)},_validate:function(a,b){if(!a.disabled&&null===A(a,"novalidate")){var c,d=this,e={},f=b.group,g=b.isValid=!0;if(b.rules||d._parse(a),d.options.debug&&B.info(b.key),f&&(c=f.callback.call(d,f.$elems),void 0!==c&&(d.hideMsg(f.target,{},b),c===!0?c=void 0:(b._i=0,b._r="group",g=!1,d.hideMsg(a,{},b),$.extend(e,f)))),g&&!b.required&&!b.must&&!a.value){if("tip"===A(a,"data-inputstatus"))return;if(!j(a))return void d._validatedField(a,b,{isValid:!0})}void 0!==c?d._validatedRule(a,b,c,e):b.rule&&d._checkRule(a,b)}},test:function(a,b){var c,d,e,f=this,g=o.exec(b);return g&&(d=g[1],d in f.rules&&(e=g[2]||g[3],e=e?e.split(", "):void 0,c=f.rules[d].call(f,a,e))),c===!0||void 0===c||null===c},getRangeMsg:function(a,b,c,d){if(b){var e=this,f=e.messages[c]||"",g=b[0].split("~"),h=g[0],i=g[1],j="rg",k=[""],l=+a===+a;if(2===g.length){if(h&&i){if(l&&a>=+h&&+i>=a)return!0;k=k.concat(g)}else if(h&&!i){if(l&&a>=+h)return!0;k.push(h),j="gte"}else if(!h&&i){if(l&&+i>=a)return!0;k.push(i),j="lte"}}else{if(a===+h)return!0;k.push(h),j="eq"}return f&&(d&&f[j+d]&&(j+=d),k[0]=f[j]),e.renderMsg.apply(null,k)}},renderMsg:function(){var a=arguments,b=a[0],c=a.length;if(b){for(;--c;)b=b.replace("{"+c+"}",a[c]);return b}},_getDisplay:function(a,b){return y(b)?b:w(b)?b.call(this,a):""},_getMsgOpt:function(a){return $.extend({},this.msgOpt,y(a)?{msg:a}:a)},_getMsgDOM:function(a,b){var c,d,e,f=$(a);if(f.is(":input")?(e=b.target||A(a,"data-target"),e&&(e=w(e)?e.call(this,a):this.$el.find(e),e.length&&(e.is(":input")?a=e.get(0):c=e)),c||(d=!j(a)&&a.id?a.id:a.name,c=this.$el.find(b.wrapper+'.msg-box[for="'+d+'"]'))):c=f,!c.length)if(f=this.$el.find(e||a),c=$("<"+b.wrapper+">").attr({"class":"msg-box"+(b.cls?" "+b.cls:""),style:b.style||"","for":d}),j(a)){var g=f.parent();c[b.pos&&"right"!==b.pos?"insertBefore":"insertAfter"](g.is("label")?g:f)}else c[b.pos&&"right"!==b.pos?"insertBefore":"insertAfter"](f);return c},showMsg:function(a,b,c){var d,e=this,f=e.options;if(b=e._getMsgOpt(b),(b.msg||b.showOk)&&(a=$(a).get(0),$(a).is(":verifiable")&&(A(a,"data-inputstatus",b.type),c=c||e.getField(a),c&&(b.style=c.msgStyle||b.style,b.cls=c.msgClass||b.cls,b.wrapper=c.msgWrapper||b.wrapper,b.target=c.target||f.target)),d=(c||{}).msgMaker||f.msgMaker)){var g=e._getMsgDOM(a,b),h=g[0].className;!r.test(h)&&g.addClass(b.cls),g.html(d.call(e,b))[0].style.display="",w(b.show)&&b.show.call(e,g,b.type)}},hideMsg:function(a,b,c){var d=this,e=d.options;a=$(a).get(0),b=d._getMsgOpt(b),$(a).is(":verifiable")&&(A(a,"data-inputstatus",null),A(a,"aria-invalid",null),c=c||d.getField(a),c&&(b.wrapper=c.msgWrapper||b.wrapper,b.target=c.target||e.target));var f=d._getMsgDOM(a,b);f.length&&(w(b.hide)?b.hide.call(d,f,b.type):f[0].style.display="none")},mapMsg:function(a){var b=this;$.each(a,function(a,c){var d=b.elements[a]||b.$el.find(':input[name="'+a+'"]')[0];b.showMsg(d,c)})},setMsg:function(a){new c(a,this.messages)},setRule:function(a){new b(a,this.rules),$.map(this.fields,function(a){a.old={}})},getField:function(a){var b,c=this;return b=a.id&&"#"+a.id in c.fields||!a.name?"#"+a.id:a.name,A(a,"data-rule")&&c._parse(a),c.fields[b]},setField:function(a,b){var c={};y(a)?c[a]=b:z(a)&&(c=a),this._initFields(c)},isFormValid:function(){var a=this.fields;for(var b in a)if(!a[b].isValid)return a[b].isValid;return!0},cleanUp:function(){this._reset(1)},destroy:function(){this._reset(1),this.$el.off(m).removeData(l),A(this.$el[0],"novalidate",this._novalidate)}},new b({required:function(a,b){var c=$.trim(a.value),d=!0;if(b)if(1===b.length){if(!c&&!this.test(a,b[0]))return A(a,"aria-required",null),null;A(a,"aria-required",!0)}else"not"===b[0]&&$.map(b.slice(1),function(a){c===$.trim(a)&&(d=!1)});return d&&!!c},integer:function(a,b){var c,d="0|",e="[1-9]\\d*",f=b?b[0]:"*";switch(f){case"+":c=e;break;case"-":c="-"+e;break;case"+0":c=d+e;break;case"-0":c=d+"-"+e;break;default:c=d+"-?"+e}return c="^(?:"+c+")$",new RegExp(c).test(a.value)||this.messages.integer[f]},match:function(a,b,c){if(b){var d,e,f,g,h,i,j,l=this,n="eq";if(1===b.length?f=b[0]:(n=b[0],f=b[1]),h="#"===f.charAt(0)?f:':input[name="'+f+'"]',i=l.$el.find(h)[0]){if(j=l.getField(i),d=a.value,e=i.value,c._match||(l.$el.on("valid.field"+m,h,function(){$(a).trigger("validate")}),c._match=j._match=1),!c.required&&""===d&&""===e)return null;if(b[2]&&("date"===b[2]?(d=k(d),e=k(e)):"time"===b[2]&&(d=+d.replace(":",""),e=+e.replace(":",""))),"eq"!==n&&!isNaN(+d)&&isNaN(+e))return!0;switch(g=l.messages.match[n].replace("{1}",l._getDisplay(a,j.display||f)),n){case"lt":return+e>+d||g;case"lte":return+e>=+d||g;case"gte":return+d>=+e||g;case"gt":return+d>+e||g;case"neq":return d!==e||g;default:return d===e||g}}}},range:function(a,b){return this.getRangeMsg(+a.value,b,"range")},checked:function(a,b,c){if(j(a)){var d,e,f=this;return e=f.$el.find('input[name="'+a.name+'"]').filter(function(){var a=this;return!d&&j(a)&&(d=a),!a.disabled&&a.checked&&$(a).is(":visible")}).length,b?f.getRangeMsg(e,b,"checked"):!!e||h(d,c,"")||f.messages.required}},length:function(a,b){var c=a.value,d=(b[1]?c.replace(q,"xx"):c).length;return this.getRangeMsg(d,b,"length",b[1]?"_2":"")},remote:function(a,b){if(b){var c,d=this,e=s.exec(b[0]),f=e[2],g=(e[1]||"POST").toUpperCase(),h={};return h[a.name]=a.value,b[1]&&$.map(b.slice(1),function(a){var b,c=a.split(":");a=$.trim(c[0]),b=$.trim(c[1]||"")||a,h[a]=d.$el.find("#"===b.charAt(0)?b:':input[name="'+b+'"]').val()}),h=$.param(h),"POST"===g&&(c=f.indexOf("?"),-1!==c&&(h+="&"+f.substring(c+1,f.length),f=f.substring(0,c))),$.ajax({url:f,type:g,data:h,cache:!1})}},filter:function(a,b){a.value=a.value.replace(b?new RegExp("["+b[0]+"]","gm"):t,"")}}),a.config=function(a){$.each(a,function(a,d){"rules"===a?new b(d):"messages"===a?new c(d):C[a]=d})},$.validator=a,a.config({messages:fish.getResource("validator.msg"),rules:fish.getResource("validator.rules")})}),!function(a){"function"==typeof define&&define.amd?define("fish.popover",["fish.tooltip"],a):a()}(function(){$.widget("ui.popover",$.ui.tooltip,{options:{placement:"bottom",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'},setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a=this.element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")}})}),function(a){"function"==typeof define&&define.amd?define("fish.tree",["jquery"],a):a(jQuery)}(function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{children:"children",name:"name",title:"",url:"url"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(a){var b=data.getRoot(a);b||(b={},data.setRoot(a,b)),b[a.data.key.children]=[],b.expandTriggerFlag=!1,b.curSelectedList=[],b.noSelection=!0,b.createdNodes=[],b.zId=0,b._ver=(new Date).getTime()},_initCache=function(a){var b=data.getCache(a);b||(b={},data.setCache(a,b)),b.nodes=[],b.doms=[]},_bindEvent=function(a){var b=a.treeObj,c=consts.event;b.bind(c.NODECREATED,function(b,c,d){tools.apply(a.callback.onNodeCreated,[b,c,d])}),b.bind(c.CLICK,function(b,c,d,e,f){tools.apply(a.callback.onClick,[c,d,e,f])}),b.bind(c.EXPAND,function(b,c,d){tools.apply(a.callback.onExpand,[b,c,d])}),b.bind(c.COLLAPSE,function(b,c,d){tools.apply(a.callback.onCollapse,[b,c,d])}),b.bind(c.ASYNC_SUCCESS,function(b,c,d,e){tools.apply(a.callback.onAsyncSuccess,[b,c,d,e])}),b.bind(c.ASYNC_ERROR,function(b,c,d,e,f,g){tools.apply(a.callback.onAsyncError,[b,c,d,e,f,g])}),b.bind(c.REMOVE,function(b,c,d){tools.apply(a.callback.onRemove,[b,c,d])})},_unbindEvent=function(a){var b=a.treeObj,c=consts.event;b.unbind(c.NODECREATED).unbind(c.CLICK).unbind(c.EXPAND).unbind(c.COLLAPSE).unbind(c.ASYNC_SUCCESS).unbind(c.ASYNC_ERROR).unbind(c.REMOVE)},_eventProxy=function(a){var b=a.target,c=data.getSetting(a.data.treeId),d="",e=null,f="",g="",h=null,i=null,j=null;if(tools.eqs(a.type,"mousedown")?g="mousedown":tools.eqs(a.type,"mouseup")?g="mouseup":tools.eqs(a.type,"contextmenu")?g="contextmenu":tools.eqs(a.type,"click")?tools.eqs(b.tagName,"span")&&null!==b.getAttribute("treeNode"+consts.id.SWITCH)?(d=tools.getNodeMainDom(b).id,f="switchNode"):(j=tools.getMDom(c,b,[{tagName:"a",attrName:"treeNode"+consts.id.A}]),j&&(d=tools.getNodeMainDom(j).id,f="clickNode")):tools.eqs(a.type,"dblclick")&&(g="dblclick",j=tools.getMDom(c,b,[{tagName:"a",attrName:"treeNode"+consts.id.A}]),j&&(d=tools.getNodeMainDom(j).id,f="switchNode")),g.length>0&&0==d.length&&(j=tools.getMDom(c,b,[{tagName:"a",attrName:"treeNode"+consts.id.A}]),j&&(d=tools.getNodeMainDom(j).id)),d.length>0)switch(e=data.getNodeCache(c,d),f){case"switchNode":e.isParent?tools.eqs(a.type,"click")||tools.eqs(a.type,"dblclick")&&tools.apply(c.view.dblClickExpand,[c.treeId,e],c.view.dblClickExpand)?h=handler.onSwitchNode:f="":f="";break;case"clickNode":h=handler.onClickNode}switch(g){case"mousedown":i=handler.onZTreeMousedown;break;case"mouseup":i=handler.onZTreeMouseup;break;case"dblclick":i=handler.onZTreeDblclick;break;case"contextmenu":i=handler.onZTreeContextmenu}var k={stop:!1,node:e,nodeEventType:f,nodeEventCallback:h,treeEventType:g,treeEventCallback:i};return k},_initNode=function(a,b,c,d,e,f){if(c){var g=data.getRoot(a),h=a.data.key.children;c.level=b,c.tId=a.treeId+"_"+ ++g.zId,c.parentTId=d?d.tId:null,c.open="string"==typeof c.open?tools.eqs(c.open,"true"):!!c.open,c[h]&&c[h].length>0?(c.isParent=!0,c.zAsync=!0):(c.isParent="string"==typeof c.isParent?tools.eqs(c.isParent,"true"):!!c.isParent,c.open=c.isParent&&!a.async.enable?c.open:!1,c.zAsync=!c.isParent),c.isFirstNode=e,c.isLastNode=f,c.getParentNode=function(){return data.getNodeCache(a,c.parentTId)},c.getPreNode=function(){return data.getPreNode(a,c)},c.getNextNode=function(){return data.getNextNode(a,c)},c.isAjaxing=!1,data.fixPIdKeyValue(a,c)}},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(a,b){data.getCache(a).nodes[data.getNodeCacheId(b.tId)]=b},getNodeCacheId:function(a){return a.substring(a.lastIndexOf("_")+1)},addAfterA:function(a){_init.afterA.push(a)},addBeforeA:function(a){_init.beforeA.push(a)},addInnerAfterA:function(a){_init.innerAfterA.push(a)},addInnerBeforeA:function(a){_init.innerBeforeA.push(a)},addInitBind:function(a){_init.bind.push(a)},addInitUnBind:function(a){_init.unbind.push(a)},addInitCache:function(a){_init.caches.push(a)},addInitNode:function(a){_init.nodes.push(a)},addInitProxy:function(a,b){b?_init.proxys.splice(0,0,a):_init.proxys.push(a)},addInitRoot:function(a){_init.roots.push(a)},addNodesData:function(a,b,c){var d=a.data.key.children;b[d]||(b[d]=[]),b[d].length>0&&(b[d][b[d].length-1].isLastNode=!1,view.setNodeLineIcos(a,b[d][b[d].length-1])),b.isParent=!0,b[d]=b[d].concat(c)},addSelectedNode:function(a,b){var c=data.getRoot(a);data.isSelectedNode(a,b)||c.curSelectedList.push(b)},addCreatedNode:function(a,b){if(a.callback.onNodeCreated||a.view.addDiyDom){var c=data.getRoot(a);c.createdNodes.push(b)}},addZTreeTools:function(a){_init.zTreeTools.push(a)},exSetting:function(a){$.extend(!0,_setting,a)},fixPIdKeyValue:function(a,b){a.data.simpleData.enable&&(b[a.data.simpleData.pIdKey]=b.parentTId?b.getParentNode()[a.data.simpleData.idKey]:a.data.simpleData.rootPId)},getAfterA:function(){for(var a=0,b=_init.afterA.length;b>a;a++)_init.afterA[a].apply(this,arguments)},getBeforeA:function(){for(var a=0,b=_init.beforeA.length;b>a;a++)_init.beforeA[a].apply(this,arguments)},getInnerAfterA:function(){for(var a=0,b=_init.innerAfterA.length;b>a;a++)_init.innerAfterA[a].apply(this,arguments)},getInnerBeforeA:function(){for(var a=0,b=_init.innerBeforeA.length;b>a;a++)_init.innerBeforeA[a].apply(this,arguments)},getCache:function(a){return caches[a.treeId]},getNextNode:function(a,b){if(!b)return null;for(var c=a.data.key.children,d=b.parentTId?b.getParentNode():data.getRoot(a),e=0,f=d[c].length-1;f>=e;e++)if(d[c][e]===b)return e==f?null:d[c][e+1];return null},getNodeByParam:function(a,b,c,d){if(!b||!c)return null;for(var e=a.data.key.children,f=0,g=b.length;g>f;f++){if(b[f][c]==d)return b[f];var h=data.getNodeByParam(a,b[f][e],c,d);if(h)return h}return null},getNodeCache:function(a,b){if(!b)return null;var c=caches[a.treeId].nodes[data.getNodeCacheId(b)];return c?c:null},getNodeName:function(a,b){var c=a.data.key.name;return""+b[c]},getNodeTitle:function(a,b){var c=""===a.data.key.title?a.data.key.name:a.data.key.title;return""+b[c]},getNodes:function(a){return data.getRoot(a)[a.data.key.children]},getNodesByParam:function(a,b,c,d){if(!b||!c)return[];for(var e=a.data.key.children,f=[],g=0,h=b.length;h>g;g++)b[g][c]==d&&f.push(b[g]),f=f.concat(data.getNodesByParam(a,b[g][e],c,d));return f},getNodesByParamFuzzy:function(a,b,c,d){if(!b||!c)return[];var e=a.data.key.children,f=[];d=d.toLowerCase();for(var g=0,h=b.length;h>g;g++)"string"==typeof b[g][c]&&b[g][c].toLowerCase().indexOf(d)>-1&&f.push(b[g]),f=f.concat(data.getNodesByParamFuzzy(a,b[g][e],c,d));return f},getNodesByFilter:function(a,b,c,d,e){if(!b)return d?null:[];for(var f=a.data.key.children,g=d?null:[],h=0,i=b.length;i>h;h++){if(tools.apply(c,[b[h],e],!1)){if(d)return b[h];g.push(b[h])}var j=data.getNodesByFilter(a,b[h][f],c,d,e);if(d&&j)return j;g=d?j:g.concat(j)}return g},getPreNode:function(a,b){if(!b)return null;for(var c=a.data.key.children,d=b.parentTId?b.getParentNode():data.getRoot(a),e=0,f=d[c].length;f>e;e++)if(d[c][e]===b)return 0==e?null:d[c][e-1];return null},getRoot:function(a){return a?roots[a.treeId]:null},getRoots:function(){return roots},getSetting:function(a){return settings[a]},getSettings:function(){return settings},getZTreeTools:function(a){var b=this.getRoot(this.getSetting(a));return b?b.treeTools:null},initCache:function(){for(var a=0,b=_init.caches.length;b>a;a++)_init.caches[a].apply(this,arguments)},initNode:function(){for(var a=0,b=_init.nodes.length;b>a;a++)_init.nodes[a].apply(this,arguments)},initRoot:function(){for(var a=0,b=_init.roots.length;b>a;a++)_init.roots[a].apply(this,arguments)},isSelectedNode:function(a,b){for(var c=data.getRoot(a),d=0,e=c.curSelectedList.length;e>d;d++)if(b===c.curSelectedList[d])return!0;return!1},removeNodeCache:function(a,b){var c=a.data.key.children;if(b[c])for(var d=0,e=b[c].length;e>d;d++)arguments.callee(a,b[c][d]);data.getCache(a).nodes[data.getNodeCacheId(b.tId)]=null},removeSelectedNode:function(a,b){for(var c=data.getRoot(a),d=0,e=c.curSelectedList.length;e>d;d++)b!==c.curSelectedList[d]&&data.getNodeCache(a,c.curSelectedList[d].tId)||(c.curSelectedList.splice(d,1),d--,e--)},setCache:function(a,b){caches[a.treeId]=b},setRoot:function(a,b){roots[a.treeId]=b},setZTreeTools:function(){for(var a=0,b=_init.zTreeTools.length;b>a;a++)_init.zTreeTools[a].apply(this,arguments)},transformToArrayFormat:function(a,b){if(!b)return[];var c=a.data.key.children,d=[];if(tools.isArray(b))for(var e=0,f=b.length;f>e;e++)d.push(b[e]),b[e][c]&&(d=d.concat(data.transformToArrayFormat(a,b[e][c])));else d.push(b),b[c]&&(d=d.concat(data.transformToArrayFormat(a,b[c])));return d},transformTozTreeFormat:function(a,b){var c,d,e=a.data.simpleData.idKey,f=a.data.simpleData.pIdKey,g=a.data.key.children;if(!e||""==e||!b)return[];if(tools.isArray(b)){var h=[],i=[];for(c=0,d=b.length;d>c;c++)i[b[c][e]]=b[c];for(c=0,d=b.length;d>c;c++)i[b[c][f]]&&b[c][e]!=b[c][f]?(i[b[c][f]][g]||(i[b[c][f]][g]=[]),i[b[c][f]][g].push(b[c])):h.push(b[c]);return h}return[b]}},event={bindEvent:function(){for(var a=0,b=_init.bind.length;b>a;a++)_init.bind[a].apply(this,arguments)},unbindEvent:function(){for(var a=0,b=_init.unbind.length;b>a;a++)_init.unbind[a].apply(this,arguments)},bindTree:function(a){var b={treeId:a.treeId},c=a.treeObj;a.view.txtSelectedEnable||c.bind("selectstart",function(a){var b=a.originalEvent.srcElement.nodeName.toLowerCase();return"input"===b||"textarea"===b}).css({"-moz-user-select":"-moz-none"}),c.bind("click",b,event.proxy),c.bind("dblclick",b,event.proxy),c.bind("mouseover",b,event.proxy),c.bind("mouseout",b,event.proxy),c.bind("mousedown",b,event.proxy),c.bind("mouseup",b,event.proxy),c.bind("contextmenu",b,event.proxy)},unbindTree:function(a){var b=a.treeObj;b.unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},doProxy:function(){for(var a=[],b=0,c=_init.proxys.length;c>b;b++){var d=_init.proxys[b].apply(this,arguments);
if(a.push(d),d.stop)break}return a},proxy:function(a){var b=data.getSetting(a.data.treeId);if(!tools.uCanDo(b,a))return!0;for(var c=event.doProxy(a),d=!0,e=!1,f=0,g=c.length;g>f;f++){var h=c[f];h.nodeEventCallback&&(e=!0,d=h.nodeEventCallback.apply(h,[a,h.node])&&d),h.treeEventCallback&&(e=!0,d=h.treeEventCallback.apply(h,[a,h.node])&&d)}return d}},handler={onSwitchNode:function(a,b){var c=data.getSetting(a.data.treeId);if(b.open){if(0==tools.apply(c.callback.beforeCollapse,[c.treeId,b],!0))return!0;data.getRoot(c).expandTriggerFlag=!0,view.switchNode(c,b)}else{if(0==tools.apply(c.callback.beforeExpand,[c.treeId,b],!0))return!0;data.getRoot(c).expandTriggerFlag=!0,view.switchNode(c,b)}return!0},onClickNode:function(a,b){var c=data.getSetting(a.data.treeId),d=c.view.autoCancelSelected&&(a.ctrlKey||a.metaKey)&&data.isSelectedNode(c,b)?0:c.view.autoCancelSelected&&(a.ctrlKey||a.metaKey)&&c.view.selectedMulti?2:1;return 0==tools.apply(c.callback.beforeClick,[c.treeId,b,d],!0)?!0:(0===d?view.cancelPreSelectedNode(c,b):view.selectNode(c,b,2===d),c.treeObj.trigger(consts.event.CLICK,[a,c.treeId,b,d]),!0)},onZTreeMousedown:function(a,b){var c=data.getSetting(a.data.treeId);return tools.apply(c.callback.beforeMouseDown,[c.treeId,b],!0)&&tools.apply(c.callback.onMouseDown,[a,c.treeId,b]),!0},onZTreeMouseup:function(a,b){var c=data.getSetting(a.data.treeId);return tools.apply(c.callback.beforeMouseUp,[c.treeId,b],!0)&&tools.apply(c.callback.onMouseUp,[a,c.treeId,b]),!0},onZTreeDblclick:function(a,b){var c=data.getSetting(a.data.treeId);return tools.apply(c.callback.beforeDblClick,[c.treeId,b],!0)&&tools.apply(c.callback.onDblClick,[a,c.treeId,b]),!0},onZTreeContextmenu:function(a,b){var c=data.getSetting(a.data.treeId);return tools.apply(c.callback.beforeRightClick,[c.treeId,b],!0)&&tools.apply(c.callback.onRightClick,[a,c.treeId,b]),"function"!=typeof c.callback.onRightClick}},tools={apply:function(a,b,c){if("function"==typeof a){b=b?b:[];for(var d=0;d<b.length;d++)if("string"===$.type(b[d])&&$("#"+b[d]).length>0){var e=$("#"+b[d])[0];return b.splice(d,1),a.apply(e,b)}return a.apply(zt,b?b:[])}return c},canAsync:function(a,b){var c=a.data.key.children;return a.async.enable&&b&&b.isParent&&!(b.zAsync||b[c]&&b[c].length>0)},clone:function(a){if(null===a)return null;var b=tools.isArray(a)?[]:{};for(var c in a)b[c]=a[c]instanceof Date?new Date(a[c].getTime()):"object"==typeof a[c]?arguments.callee(a[c]):a[c];return b},eqs:function(a,b){return a.toLowerCase()===b.toLowerCase()},isArray:function(a){return"[object Array]"===Object.prototype.toString.apply(a)},$:function(a,b,c){return b&&"string"!=typeof b&&(c=b,b=""),"string"==typeof a?$(a,c?c.treeObj.get(0).ownerDocument:null):$("#"+a.tId+b,c?c.treeObj:null)},getMDom:function(a,b,c){if(!b)return null;for(;b&&b.id!==a.treeId;){for(var d=0,e=c.length;b.tagName&&e>d;d++)if(tools.eqs(b.tagName,c[d].tagName)&&null!==b.getAttribute(c[d].attrName))return b;b=b.parentNode}return null},getNodeMainDom:function(a){return $(a).parent("li").get(0)||$(a).parentsUntil("li").parent().get(0)},isChildOrSelf:function(a,b){return $(a).closest("#"+b).length>0},uCanDo:function(){return!0}},view={addNodes:function(a,b,c,d){if(!a.data.keep.leaf||!b||b.isParent)if(tools.isArray(c)||(c=[c]),a.data.simpleData.enable&&(c=data.transformTozTreeFormat(a,c)),b){var e=$$(b,consts.id.SWITCH,a),f=$$(b,consts.id.ICON,a),g=$$(b,consts.id.UL,a);b.open||(view.replaceSwitchClass(b,e,consts.folder.CLOSE),view.replaceIcoClass(b,f,consts.folder.CLOSE),b.open=!1,g.css({display:"none"})),data.addNodesData(a,b,c),view.createNodes(a,b.level+1,c,b),d||view.expandCollapseParentNode(a,b,!0)}else data.addNodesData(a,data.getRoot(a),c),view.createNodes(a,0,c,null)},appendNodes:function(a,b,c,d,e,f){if(!c)return[];for(var g=[],h=a.data.key.children,i=0,j=c.length;j>i;i++){var k=c[i];if(e){var l=d?d:data.getRoot(a),m=l[h],n=m.length==c.length&&0==i,o=i==c.length-1;data.initNode(a,b,k,d,n,o,f),data.addNodeCache(a,k)}var p=[];k[h]&&k[h].length>0&&(p=view.appendNodes(a,b+1,k[h],k,e,f&&k.open)),f&&(view.makeDOMNodeMainBefore(g,a,k),view.makeDOMNodeLine(g,a,k),data.getBeforeA(a,k,g),view.makeDOMNodeNameBefore(g,a,k),data.getInnerBeforeA(a,k,g),view.makeDOMNodeIcon(g,a,k),data.getInnerAfterA(a,k,g),view.makeDOMNodeNameAfter(g,a,k),data.getAfterA(a,k,g),k.isParent&&k.open&&view.makeUlHtml(a,k,g,p.join("")),view.makeDOMNodeMainAfter(g,a,k),data.addCreatedNode(a,k))}return g},appendParentULDom:function(a,b){var c=[],d=$$(b,a);!d.get(0)&&b.parentTId&&(view.appendParentULDom(a,b.getParentNode()),d=$$(b,a));var e=$$(b,consts.id.UL,a);e.get(0)&&e.remove();var f=a.data.key.children,g=view.appendNodes(a,b.level+1,b[f],b,!1,!0);view.makeUlHtml(a,b,c,g.join("")),d.append(c.join(""))},asyncNode:function(setting,node,isSilent,callback){var i,l;if(node&&!node.isParent)return tools.apply(callback),!1;if(node&&node.isAjaxing)return!1;if(0==tools.apply(setting.callback.beforeAsync,[setting.treeId,node],!0))return tools.apply(callback),!1;if(node){node.isAjaxing=!0;var icoObj=$$(node,consts.id.ICON,setting);icoObj.attr({style:"","class":consts.className.BUTTON+" "+consts.className.ICO_LOADING})}var tmpParam={};for(i=0,l=setting.async.autoParam.length;node&&l>i;i++){var pKey=setting.async.autoParam[i].split("="),spKey=pKey;pKey.length>1&&(spKey=pKey[1],pKey=pKey[0]),tmpParam[spKey]=node[pKey]}if(tools.isArray(setting.async.otherParam))for(i=0,l=setting.async.otherParam.length;l>i;i+=2)tmpParam[setting.async.otherParam[i]]=setting.async.otherParam[i+1];else for(var p in setting.async.otherParam)tmpParam[p]=setting.async.otherParam[p];var _tmpV=data.getRoot(setting)._ver;return $.ajax({contentType:setting.async.contentType,cache:!1,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:tmpParam,dataType:setting.async.dataType,success:function(msg){if(_tmpV==data.getRoot(setting)._ver){var newNodes=[];try{newNodes=msg&&0!=msg.length?"string"==typeof msg?eval("("+msg+")"):msg:[]}catch(err){newNodes=msg}node&&(node.isAjaxing=null,node.zAsync=!0),view.setNodeLineIcos(setting,node),newNodes&&""!==newNodes?(newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes),view.addNodes(setting,node,newNodes?tools.clone(newNodes):[],!!isSilent)):view.addNodes(setting,node,[],!!isSilent),setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]),tools.apply(callback)}},error:function(a,b,c){_tmpV==data.getRoot(setting)._ver&&(node&&(node.isAjaxing=null),view.setNodeLineIcos(setting,node),setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,a,b,c]))}}),!0},cancelPreSelectedNode:function(a,b){for(var c=data.getRoot(a).curSelectedList,d=0,e=c.length-1;e>=d;e--)if((!b||b===c[e])&&($$(c[e],consts.id.A,a).removeClass(consts.node.CURSELECTED),b)){data.removeSelectedNode(a,b);break}b||(data.getRoot(a).curSelectedList=[])},createNodeCallback:function(a){if(a.callback.onNodeCreated||a.view.addDiyDom)for(var b=data.getRoot(a);b.createdNodes.length>0;){var c=b.createdNodes.shift();tools.apply(a.view.addDiyDom,[a.treeId,c]),a.callback.onNodeCreated&&a.treeObj.trigger(consts.event.NODECREATED,[a.treeId,c])}},createNodes:function(a,b,c,d){if(c&&0!=c.length){var e=data.getRoot(a),f=a.data.key.children,g=!d||d.open||!!$$(d[f][0],a).get(0);e.createdNodes=[];var h=view.appendNodes(a,b,c,d,!0,g);if(d){var i=$$(d,consts.id.UL,a);i.get(0)&&i.append(h.join(""))}else a.treeObj.append(h.join(""));view.createNodeCallback(a)}},destroy:function(a){a&&(data.initCache(a),data.initRoot(a),event.unbindTree(a),event.unbindEvent(a),a.treeObj.empty(),delete settings[a.treeId])},expandCollapseNode:function(a,b,c,d,e){var f=data.getRoot(a),g=a.data.key.children;if(!b)return void tools.apply(e,[]);if(f.expandTriggerFlag){var h=e;e=function(){h&&h(),b.open?a.treeObj.trigger(consts.event.EXPAND,[a.treeId,b]):a.treeObj.trigger(consts.event.COLLAPSE,[a.treeId,b])},f.expandTriggerFlag=!1}if(!b.open&&b.isParent&&(!$$(b,consts.id.UL,a).get(0)||b[g]&&b[g].length>0&&!$$(b[g][0],a).get(0))&&(view.appendParentULDom(a,b),view.createNodeCallback(a)),b.open==c)return void tools.apply(e,[]);var i=$$(b,consts.id.UL,a),j=$$(b,consts.id.SWITCH,a),k=$$(b,consts.id.ICON,a);b.isParent?(b.open=!b.open,b.iconOpen&&b.iconClose&&k.attr("style",view.makeNodeIcoStyle(a,b)),b.open?(view.replaceSwitchClass(b,j,consts.folder.OPEN),view.replaceIcoClass(b,k,consts.folder.OPEN),0==d||""==a.view.expandSpeed?(i.show(),tools.apply(e,[])):b[g]&&b[g].length>0?i.slideDown(a.view.expandSpeed,e):(i.show(),tools.apply(e,[]))):(view.replaceSwitchClass(b,j,consts.folder.CLOSE),view.replaceIcoClass(b,k,consts.folder.CLOSE),0!=d&&""!=a.view.expandSpeed&&b[g]&&b[g].length>0?i.slideUp(a.view.expandSpeed,e):(i.hide(),tools.apply(e,[])))):tools.apply(e,[])},expandCollapseParentNode:function(a,b,c,d,e){if(b){if(!b.parentTId)return void view.expandCollapseNode(a,b,c,d,e);view.expandCollapseNode(a,b,c,d),b.parentTId&&view.expandCollapseParentNode(a,b.getParentNode(),c,d,e)}},expandCollapseSonNode:function(a,b,c,d,e){var f=data.getRoot(a),g=a.data.key.children,h=b?b[g]:f[g],i=b?!1:d,j=data.getRoot(a).expandTriggerFlag;if(data.getRoot(a).expandTriggerFlag=!1,h)for(var k=0,l=h.length;l>k;k++)h[k]&&view.expandCollapseSonNode(a,h[k],c,i);data.getRoot(a).expandTriggerFlag=j,view.expandCollapseNode(a,b,c,d,e)},makeDOMNodeIcon:function(a,b,c){var d=data.getNodeName(b,c),e=b.view.nameIsHTML?d:d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");a.push("<span id='",c.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(b,c),"' style='",view.makeNodeIcoStyle(b,c),"'></span><span id='",c.tId,consts.id.SPAN,"'>",e,"</span>")},makeDOMNodeLine:function(a,b,c){a.push("<span id='",c.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(b,c),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(a){a.push("</li>")},makeDOMNodeMainBefore:function(a,b,c){a.push("<li id='",c.tId,"' class='",consts.className.LEVEL,c.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(a){a.push("</a>")},makeDOMNodeNameBefore:function(a,b,c){var d=data.getNodeTitle(b,c),e=view.makeNodeUrl(b,c),f=view.makeNodeFontCss(b,c),g=[];for(var h in f)g.push(h,":",f[h],";");a.push("<a id='",c.tId,consts.id.A,"' class='",consts.className.LEVEL,c.level,"' treeNode",consts.id.A,' onclick="',c.click||"",'" ',null!=e&&e.length>0?"href='"+e+"'":""," target='",view.makeNodeTarget(c),"' style='",g.join(""),"'"),tools.apply(b.view.showTitle,[b.treeId,c],b.view.showTitle)&&d&&a.push("title='",d.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),a.push(">")},makeNodeFontCss:function(a,b){var c=tools.apply(a.view.fontCss,[a.treeId,b],a.view.fontCss);return c&&"function"!=typeof c?c:{}},makeNodeIcoClass:function(a,b){var c=["ico"];return b.isAjaxing||(c[0]=(b.iconSkin?b.iconSkin+"_":"")+c[0],c.push(b.isParent?b.open?consts.folder.OPEN:consts.folder.CLOSE:consts.folder.DOCU)),consts.className.BUTTON+" "+c.join("_")},makeNodeIcoStyle:function(a,b){var c=[];if(!b.isAjaxing){var d=b.isParent&&b.iconOpen&&b.iconClose?b.open?b.iconOpen:b.iconClose:b.icon;d&&c.push("background:url(",d,") 0 0 no-repeat;"),0!=a.view.showIcon&&tools.apply(a.view.showIcon,[a.treeId,b],!0)||c.push("width:0px;height:0px;")}return c.join("")},makeNodeLineClass:function(a,b){var c=[];return c.push(a.view.showLine?0==b.level&&b.isFirstNode&&b.isLastNode?consts.line.ROOT:0==b.level&&b.isFirstNode?consts.line.ROOTS:b.isLastNode?consts.line.BOTTOM:consts.line.CENTER:consts.line.NOLINE),c.push(b.isParent?b.open?consts.folder.OPEN:consts.folder.CLOSE:consts.folder.DOCU),view.makeNodeLineClassEx(b)+c.join("_")},makeNodeLineClassEx:function(a){return consts.className.BUTTON+" "+consts.className.LEVEL+a.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(a){return a.target||"_blank"},makeNodeUrl:function(a,b){var c=a.data.key.url;return b[c]?b[c]:null},makeUlHtml:function(a,b,c,d){c.push("<ul id='",b.tId,consts.id.UL,"' class='",consts.className.LEVEL,b.level," ",view.makeUlLineClass(a,b),"' style='display:",b.open?"block":"none","'>"),c.push(d),c.push("</ul>")},makeUlLineClass:function(a,b){return a.view.showLine&&!b.isLastNode?consts.line.LINE:""},removeChildNodes:function(a,b){if(b){var c=a.data.key.children,d=b[c];if(d){for(var e=0,f=d.length;f>e;e++)data.removeNodeCache(a,d[e]);if(data.removeSelectedNode(a),delete b[c],a.data.keep.parent)$$(b,consts.id.UL,a).empty();else{b.isParent=!1,b.open=!1;var g=$$(b,consts.id.SWITCH,a),h=$$(b,consts.id.ICON,a);view.replaceSwitchClass(b,g,consts.folder.DOCU),view.replaceIcoClass(b,h,consts.folder.DOCU),$$(b,consts.id.UL,a).remove()}}}},setFirstNode:function(a,b){var c=a.data.key.children,d=b[c].length;d>0&&(b[c][0].isFirstNode=!0)},setLastNode:function(a,b){var c=a.data.key.children,d=b[c].length;d>0&&(b[c][d-1].isLastNode=!0)},removeNode:function(a,b){var c=data.getRoot(a),d=a.data.key.children,e=b.parentTId?b.getParentNode():c;if(b.isFirstNode=!1,b.isLastNode=!1,b.getPreNode=function(){return null},b.getNextNode=function(){return null},data.getNodeCache(a,b.tId)){$$(b,a).remove(),data.removeNodeCache(a,b),data.removeSelectedNode(a,b);for(var f=0,g=e[d].length;g>f;f++)if(e[d][f].tId==b.tId){e[d].splice(f,1);break}view.setFirstNode(a,e),view.setLastNode(a,e);var h,i,j,k=e[d].length;if(a.data.keep.parent||0!=k){if(a.view.showLine&&k>0){var l=e[d][k-1];if(h=$$(l,consts.id.UL,a),i=$$(l,consts.id.SWITCH,a),j=$$(l,consts.id.ICON,a),e==c)if(1==e[d].length)view.replaceSwitchClass(l,i,consts.line.ROOT);else{var m=$$(e[d][0],consts.id.SWITCH,a);view.replaceSwitchClass(e[d][0],m,consts.line.ROOTS),view.replaceSwitchClass(l,i,consts.line.BOTTOM)}else view.replaceSwitchClass(l,i,consts.line.BOTTOM);h.removeClass(consts.line.LINE)}}else e.isParent=!1,e.open=!1,h=$$(e,consts.id.UL,a),i=$$(e,consts.id.SWITCH,a),j=$$(e,consts.id.ICON,a),view.replaceSwitchClass(e,i,consts.folder.DOCU),view.replaceIcoClass(e,j,consts.folder.DOCU),h.css("display","none")}},replaceIcoClass:function(a,b,c){if(b&&!a.isAjaxing){var d=b.attr("class");if(void 0!=d){var e=d.split("_");switch(c){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:e[e.length-1]=c}b.attr("class",e.join("_"))}}},replaceSwitchClass:function(a,b,c){if(b){var d=b.attr("class");if(void 0!=d){var e=d.split("_");switch(c){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:e[0]=view.makeNodeLineClassEx(a)+c;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:e[1]=c}b.attr("class",e.join("_")),c!==consts.folder.DOCU?b.removeAttr("disabled"):b.attr("disabled","disabled")}}},selectNode:function(a,b,c){c||view.cancelPreSelectedNode(a),$$(b,consts.id.A,a).addClass(consts.node.CURSELECTED),data.addSelectedNode(a,b)},setNodeFontCss:function(a,b){var c=$$(b,consts.id.A,a),d=view.makeNodeFontCss(a,b);d&&c.css(d)},setNodeLineIcos:function(a,b){if(b){var c=$$(b,consts.id.SWITCH,a),d=$$(b,consts.id.UL,a),e=$$(b,consts.id.ICON,a),f=view.makeUlLineClass(a,b);0==f.length?d.removeClass(consts.line.LINE):d.addClass(f),c.attr("class",view.makeNodeLineClass(a,b)),b.isParent?c.removeAttr("disabled"):c.attr("disabled","disabled"),e.removeAttr("style"),e.attr("style",view.makeNodeIcoStyle(a,b)),e.attr("class",view.makeNodeIcoClass(a,b))}},setNodeName:function(a,b){var c=data.getNodeTitle(a,b),d=$$(b,consts.id.SPAN,a);if(d.empty(),a.view.nameIsHTML?d.html(data.getNodeName(a,b)):d.text(data.getNodeName(a,b)),tools.apply(a.view.showTitle,[a.treeId,b],a.view.showTitle)){var e=$$(b,consts.id.A,a);e.attr("title",c?c:"")}},setNodeTarget:function(a,b){var c=$$(b,consts.id.A,a);c.attr("target",view.makeNodeTarget(b))},setNodeUrl:function(a,b){var c=$$(b,consts.id.A,a),d=view.makeNodeUrl(a,b);null==d||0==d.length?c.removeAttr("href"):c.attr("href",d)},switchNode:function(a,b){if(b.open||!tools.canAsync(a,b))view.expandCollapseNode(a,b,!b.open);else if(a.async.enable){if(!view.asyncNode(a,b))return void view.expandCollapseNode(a,b,!b.open)}else b&&view.expandCollapseNode(a,b,!b.open)}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(a){var b=data.getZTreeTools(a);return b?b:null},destroy:function(a){if(a&&a.length>0)view.destroy(data.getSetting(a));else for(var b in settings)view.destroy(settings[b])},init:function(a,b,c){var d=tools.clone(_setting);$.extend(!0,d,b),d.treeId=a.attr("id"),d.treeObj=a,d.treeObj.empty(),settings[d.treeId]=d,"undefined"==typeof document.body.style.maxHeight&&(d.view.expandSpeed=""),data.initRoot(d);var e=data.getRoot(d),f=d.data.key.children;c=c?tools.clone(tools.isArray(c)?c:[c]):[],e[f]=d.data.simpleData.enable?data.transformTozTreeFormat(d,c):c,data.initCache(d),event.unbindTree(d),event.bindTree(d),event.unbindEvent(d),event.bindEvent(d);var g={setting:d,addNodes:function(a,b,c){function e(){view.addNodes(d,a,f,1==c)}if(!b)return null;if(a||(a=null),a&&!a.isParent&&d.data.keep.leaf)return null;var f=tools.clone(tools.isArray(b)?b:[b]);return tools.canAsync(d,a)?view.asyncNode(d,a,c,e):e(),f},cancelSelectedNode:function(a){view.cancelPreSelectedNode(d,a)},destroy:function(){view.destroy(d)},expandAll:function(a){return a=!!a,view.expandCollapseSonNode(d,null,a,!0),a},expandNode:function(a,b,c,e,f){if(!a||!a.isParent)return null;if(b!==!0&&b!==!1&&(b=!a.open),f=!!f,f&&b&&0==tools.apply(d.callback.beforeExpand,[d.treeId,a],!0))return null;if(f&&!b&&0==tools.apply(d.callback.beforeCollapse,[d.treeId,a],!0))return null;if(b&&a.parentTId&&view.expandCollapseParentNode(d,a.getParentNode(),b,!1),b===a.open&&!c)return null;if(data.getRoot(d).expandTriggerFlag=f,!tools.canAsync(d,a)&&c)view.expandCollapseSonNode(d,a,b,!0,function(){if(e!==!1)try{$$(a,d).focus().blur()}catch(b){}});else if(a.open=!b,view.switchNode(this.setting,a),e!==!1)try{$$(a,d).focus().blur()}catch(g){}return b},getNodes:function(){return data.getNodes(d)},getNodeByParam:function(a,b,c){return a?data.getNodeByParam(d,c?c[d.data.key.children]:data.getNodes(d),a,b):null},getNodeByTId:function(a){return data.getNodeCache(d,a)},getNodesByParam:function(a,b,c){return a?data.getNodesByParam(d,c?c[d.data.key.children]:data.getNodes(d),a,b):null},getNodesByParamFuzzy:function(a,b,c){return a?data.getNodesByParamFuzzy(d,c?c[d.data.key.children]:data.getNodes(d),a,b):null},getNodesByFilter:function(a,b,c,e){return b=!!b,a&&"function"==typeof a?data.getNodesByFilter(d,c?c[d.data.key.children]:data.getNodes(d),a,b,e):b?null:[]},getNodeIndex:function(a){if(!a)return null;for(var b=d.data.key.children,c=a.parentTId?a.getParentNode():data.getRoot(d),e=0,f=c[b].length;f>e;e++)if(c[b][e]==a)return e;return-1},getSelectedNodes:function(){for(var a=[],b=data.getRoot(d).curSelectedList,c=0,e=b.length;e>c;c++)a.push(b[c]);return a},isSelectedNode:function(a){return data.isSelectedNode(d,a)},reAsyncChildNodes:function(a,b,c){if(this.setting.async.enable){var e=!a;if(e&&(a=data.getRoot(d)),"refresh"==b){for(var f=this.setting.data.key.children,g=0,h=a[f]?a[f].length:0;h>g;g++)data.removeNodeCache(d,a[f][g]);if(data.removeSelectedNode(d),a[f]=[],e)this.setting.treeObj.empty();else{var i=$$(a,consts.id.UL,d);i.empty()}}view.asyncNode(this.setting,e?null:a,!!c)}},refresh:function(){this.setting.treeObj.empty();var a=data.getRoot(d),b=a[d.data.key.children];data.initRoot(d),a[d.data.key.children]=b,data.initCache(d),view.createNodes(d,0,a[d.data.key.children])},removeChildNodes:function(a){if(!a)return null;var b=d.data.key.children,c=a[b];return view.removeChildNodes(d,a),c?c:null},removeNode:function(a,b){a&&(b=!!b,b&&0==tools.apply(d.callback.beforeRemove,[d.treeId,a],!0)||(view.removeNode(d,a),b&&this.setting.treeObj.trigger(consts.event.REMOVE,[d.treeId,a])))},selectNode:function(a,b){if(a&&tools.uCanDo(d)){if(b=d.view.selectedMulti&&b,a.parentTId)view.expandCollapseParentNode(d,a.getParentNode(),!0,!1,function(){try{$$(a,d).focus().blur()}catch(b){}});else try{$$(a,d).focus().blur()}catch(c){}view.selectNode(d,a,b)}},transformTozTreeNodes:function(a){return data.transformTozTreeFormat(d,a)},transformToArray:function(a){return data.transformToArrayFormat(d,a)},updateNode:function(a){if(a){var b=$$(a,d);b.get(0)&&tools.uCanDo(d)&&(view.setNodeName(d,a),view.setNodeTarget(d,a),view.setNodeUrl(d,a),view.setNodeLineIcos(d,a),view.setNodeFontCss(d,a))}}};return e.treeTools=g,data.setZTreeTools(d,g),e[f]&&e[f].length>0?view.createNodes(d,0,e[f]):d.async.enable&&d.async.url&&""!==d.async.url&&view.asyncNode(d),g}};var zt=$.fn.zTree,$$=tools.$,consts=zt.consts;$.widget("ui.tree",{widgetEventPrefix:"tree",options:_setting,_create:function(){var a=$.fn.zTree.init(this.element,this.options,this.options.fNodes);$.extend(!0,$.ui.tree.prototype,a)},reloadData:function(a){for(var b=this.getNodes();b.length;)this.removeNode(b[0]);return this.addNodes(null,a)}})}),function(a){"function"==typeof define&&define.amd?define("fish.tree.excheck",["jquery","fish.tree"],a):a(jQuery)}(function($){var a={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},b={check:{enable:!1,autoCheckTrigger:!1,chkStyle:a.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:a.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},c=function(a){var b=u.getRoot(a);b.radioCheckedList=[]},d=function(){},e=function(a){var b=a.treeObj,c=s.event;b.bind(c.CHECK,function(b,c,d,e){b.srcEvent=c,r.apply(a.callback.onCheck,[b,d,e])})},f=function(a){var b=a.treeObj,c=s.event;b.unbind(c.CHECK)},g=function(a){var b=a.target,c=u.getSetting(a.data.treeId),d="",e=null,f="",g="",h=null,i=null;if(r.eqs(a.type,"mouseover")?c.check.enable&&r.eqs(b.tagName,"span")&&null!==b.getAttribute("treeNode"+s.id.CHECK)&&(d=r.getNodeMainDom(b).id,f="mouseoverCheck"):r.eqs(a.type,"mouseout")?c.check.enable&&r.eqs(b.tagName,"span")&&null!==b.getAttribute("treeNode"+s.id.CHECK)&&(d=r.getNodeMainDom(b).id,f="mouseoutCheck"):r.eqs(a.type,"click")&&c.check.enable&&r.eqs(b.tagName,"span")&&null!==b.getAttribute("treeNode"+s.id.CHECK)&&(d=r.getNodeMainDom(b).id,f="checkNode"),d.length>0)switch(e=u.getNodeCache(c,d),f){case"checkNode":h=m.onCheckNode;break;case"mouseoverCheck":h=m.onMouseoverCheck;break;case"mouseoutCheck":h=m.onMouseoutCheck}var j={stop:"checkNode"===f,node:e,nodeEventType:f,nodeEventCallback:h,treeEventType:g,treeEventCallback:i};return j},h=function(a,b,c,d){if(c){var e=a.data.key.checked;if("string"==typeof c[e]&&(c[e]=r.eqs(c[e],"true")),c[e]=!!c[e],c.checkedOld=c[e],"string"==typeof c.nocheck&&(c.nocheck=r.eqs(c.nocheck,"true")),c.nocheck=!!c.nocheck||a.check.nocheckInherit&&d&&!!d.nocheck,"string"==typeof c.chkDisabled&&(c.chkDisabled=r.eqs(c.chkDisabled,"true")),c.chkDisabled=!!c.chkDisabled||a.check.chkDisabledInherit&&d&&!!d.chkDisabled,"string"==typeof c.halfCheck&&(c.halfCheck=r.eqs(c.halfCheck,"true")),c.halfCheck=!!c.halfCheck,c.check_Child_State=-1,c.check_Focus=!1,c.getCheckStatus=function(){return u.getCheckStatus(a,c)},a.check.chkStyle==s.radio.STYLE&&a.check.radioType==s.radio.TYPE_ALL&&c[e]){var f=u.getRoot(a);f.radioCheckedList.push(c)}}},i=function(a,b,c){a.data.key.checked;a.check.enable&&(u.makeChkFlag(a,b),c.push("<span ID='",b.tId,s.id.CHECK,"' class='",t.makeChkClass(a,b),"' treeNode",s.id.CHECK,b.nocheck===!0?" style='display:none;'":"","></span>"))},j=function(a,b){b.checkNode=function(a,b,c,d){var e=this.setting.data.key.checked;if(a.chkDisabled!==!0&&(b!==!0&&b!==!1&&(b=!a[e]),d=!!d,(a[e]!==b||c)&&(!d||0!=r.apply(this.setting.callback.beforeCheck,[this.setting.treeId,a],!0))&&r.uCanDo(this.setting)&&this.setting.check.enable&&a.nocheck!==!0)){a[e]=b;var f=v(a,s.id.CHECK,this.setting);(c||this.setting.check.chkStyle===s.radio.STYLE)&&t.checkNodeRelation(this.setting,a),t.setChkClass(this.setting,f,a),t.repairParentChkClassWithSelf(this.setting,a),d&&this.setting.treeObj.trigger(s.event.CHECK,[null,this.setting.treeId,a])}},b.checkAllNodes=function(a){t.repairAllChk(this.setting,!!a)},b.getCheckedNodes=function(a){var b=this.setting.data.key.children;return a=a!==!1,u.getTreeCheckedNodes(this.setting,u.getRoot(this.setting)[b],a)},b.getChangeCheckedNodes=function(){var a=this.setting.data.key.children;return u.getTreeChangeCheckedNodes(this.setting,u.getRoot(this.setting)[a])},b.setChkDisabled=function(a,b,c,d){b=!!b,c=!!c,d=!!d,t.repairSonChkDisabled(this.setting,a,b,d),t.repairParentChkDisabled(this.setting,a.getParentNode(),b,c)};var c=b.updateNode;b.updateNode=function(a,d){if(c&&c.apply(b,arguments),a&&this.setting.check.enable){var e=v(a,this.setting);if(e.get(0)&&r.uCanDo(this.setting)){var f=v(a,s.id.CHECK,this.setting);(1==d||this.setting.check.chkStyle===s.radio.STYLE)&&t.checkNodeRelation(this.setting,a),t.setChkClass(this.setting,f,a),t.repairParentChkClassWithSelf(this.setting,a)}}}},k={getRadioCheckedList:function(a){for(var b=u.getRoot(a).radioCheckedList,c=0,d=b.length;d>c;c++)u.getNodeCache(a,b[c].tId)||(b.splice(c,1),c--,d--);return b},getCheckStatus:function(a,b){if(!a.check.enable||b.nocheck||b.chkDisabled)return null;var c=a.data.key.checked,d={checked:b[c],half:b.halfCheck?b.halfCheck:a.check.chkStyle==s.radio.STYLE?2===b.check_Child_State:b[c]?b.check_Child_State>-1&&b.check_Child_State<2:b.check_Child_State>0};return d},getTreeCheckedNodes:function(a,b,c,d){if(!b)return[];var e=a.data.key.children,f=a.data.key.checked,g=c&&a.check.chkStyle==s.radio.STYLE&&a.check.radioType==s.radio.TYPE_ALL;d=d?d:[];for(var h=0,i=b.length;i>h&&(b[h].nocheck===!0||b[h].chkDisabled===!0||b[h][f]!=c||(d.push(b[h]),!g))&&(u.getTreeCheckedNodes(a,b[h][e],c,d),!(g&&d.length>0));h++);return d},getTreeChangeCheckedNodes:function(a,b,c){if(!b)return[];var d=a.data.key.children,e=a.data.key.checked;c=c?c:[];for(var f=0,g=b.length;g>f;f++)b[f].nocheck!==!0&&b[f].chkDisabled!==!0&&b[f][e]!=b[f].checkedOld&&c.push(b[f]),u.getTreeChangeCheckedNodes(a,b[f][d],c);return c},makeChkFlag:function(a,b){if(b){var c=a.data.key.children,d=a.data.key.checked,e=-1;if(b[c])for(var f=0,g=b[c].length;g>f;f++){var h=b[c][f],i=-1;if(a.check.chkStyle==s.radio.STYLE){if(i=h.nocheck===!0||h.chkDisabled===!0?h.check_Child_State:h.halfCheck===!0?2:h[d]?2:h.check_Child_State>0?2:0,2==i){e=2;break}0==i&&(e=0)}else if(a.check.chkStyle==s.checkbox.STYLE){if(i=h.nocheck===!0||h.chkDisabled===!0?h.check_Child_State:h.halfCheck===!0?1:h[d]?-1===h.check_Child_State||2===h.check_Child_State?2:1:h.check_Child_State>0?1:0,1===i){e=1;break}if(2===i&&e>-1&&f>0&&i!==e){e=1;break}if(2===e&&i>-1&&2>i){e=1;break}i>-1&&(e=i)}}b.check_Child_State=e}}},l={},m={onCheckNode:function(a,b){if(b.chkDisabled===!0)return!1;var c=u.getSetting(a.data.treeId),d=c.data.key.checked;if(0==r.apply(c.callback.beforeCheck,[c.treeId,b],!0))return!0;b[d]=!b[d],t.checkNodeRelation(c,b);var e=v(b,s.id.CHECK,c);return t.setChkClass(c,e,b),t.repairParentChkClassWithSelf(c,b),c.treeObj.trigger(s.event.CHECK,[a,c.treeId,b]),!0},onMouseoverCheck:function(a,b){if(b.chkDisabled===!0)return!1;var c=u.getSetting(a.data.treeId),d=v(b,s.id.CHECK,c);return b.check_Focus=!0,t.setChkClass(c,d,b),!0},onMouseoutCheck:function(a,b){if(b.chkDisabled===!0)return!1;var c=u.getSetting(a.data.treeId),d=v(b,s.id.CHECK,c);return b.check_Focus=!1,t.setChkClass(c,d,b),!0}},n={},o={checkNodeRelation:function(a,b){var c,d,e,f=a.data.key.children,g=a.data.key.checked,h=s.radio;if(a.check.chkStyle==h.STYLE){var i=u.getRadioCheckedList(a);if(b[g])if(a.check.radioType==h.TYPE_ALL){for(d=i.length-1;d>=0;d--)c=i[d],c[g]&&c!=b&&(c[g]=!1,i.splice(d,1),t.setChkClass(a,v(c,s.id.CHECK,a),c),c.parentTId!=b.parentTId&&t.repairParentChkClassWithSelf(a,c));i.push(b)}else{var j=b.parentTId?b.getParentNode():u.getRoot(a);for(d=0,e=j[f].length;e>d;d++)c=j[f][d],c[g]&&c!=b&&(c[g]=!1,t.setChkClass(a,v(c,s.id.CHECK,a),c))}else if(a.check.radioType==h.TYPE_ALL)for(d=0,e=i.length;e>d;d++)if(b==i[d]){i.splice(d,1);break}}else b[g]&&(!b[f]||0==b[f].length||a.check.chkboxType.Y.indexOf("s")>-1)&&t.setSonNodeCheckBox(a,b,!0),b[g]||b[f]&&0!=b[f].length&&!(a.check.chkboxType.N.indexOf("s")>-1)||t.setSonNodeCheckBox(a,b,!1),b[g]&&a.check.chkboxType.Y.indexOf("p")>-1&&t.setParentNodeCheckBox(a,b,!0),!b[g]&&a.check.chkboxType.N.indexOf("p")>-1&&t.setParentNodeCheckBox(a,b,!1)},makeChkClass:function(a,b){var c=a.data.key.checked,d=s.checkbox,e=s.radio,f="";f=b.chkDisabled===!0?d.DISABLED:b.halfCheck?d.PART:a.check.chkStyle==e.STYLE?b.check_Child_State<1?d.FULL:d.PART:b[c]?2===b.check_Child_State||-1===b.check_Child_State?d.FULL:d.PART:b.check_Child_State<1?d.FULL:d.PART;var g=a.check.chkStyle+"_"+(b[c]?d.TRUE:d.FALSE)+"_"+f;return g=b.check_Focus&&b.chkDisabled!==!0?g+"_"+d.FOCUS:g,s.className.BUTTON+" "+d.DEFAULT+" "+g},repairAllChk:function(a,b){if(a.check.enable&&a.check.chkStyle===s.checkbox.STYLE)for(var c=a.data.key.checked,d=a.data.key.children,e=u.getRoot(a),f=0,g=e[d].length;g>f;f++){var h=e[d][f];h.nocheck!==!0&&h.chkDisabled!==!0&&(h[c]=b),t.setSonNodeCheckBox(a,h,b)}},repairChkClass:function(a,b){if(b&&(u.makeChkFlag(a,b),b.nocheck!==!0)){var c=v(b,s.id.CHECK,a);t.setChkClass(a,c,b)}},repairParentChkClass:function(a,b){if(b&&b.parentTId){var c=b.getParentNode();t.repairChkClass(a,c),t.repairParentChkClass(a,c)}},repairParentChkClassWithSelf:function(a,b){if(b){var c=a.data.key.children;b[c]&&b[c].length>0?t.repairParentChkClass(a,b[c][0]):t.repairParentChkClass(a,b)}},repairSonChkDisabled:function(a,b,c,d){if(b){var e=a.data.key.children;if(b.chkDisabled!=c&&(b.chkDisabled=c),t.repairChkClass(a,b),b[e]&&d)for(var f=0,g=b[e].length;g>f;f++){var h=b[e][f];t.repairSonChkDisabled(a,h,c,d)}}},repairParentChkDisabled:function(a,b,c,d){b&&(b.chkDisabled!=c&&d&&(b.chkDisabled=c),t.repairChkClass(a,b),t.repairParentChkDisabled(a,b.getParentNode(),c,d))},setChkClass:function(a,b,c){b&&(c.nocheck===!0?b.hide():b.show(),b.attr("class",t.makeChkClass(a,c)))},setParentNodeCheckBox:function(a,b,c,d){var e=a.data.key.children,f=a.data.key.checked,g=v(b,s.id.CHECK,a);if(d||(d=b),u.makeChkFlag(a,b),b.nocheck!==!0&&b.chkDisabled!==!0&&(b[f]=c,t.setChkClass(a,g,b),a.check.autoCheckTrigger&&b!=d&&a.treeObj.trigger(s.event.CHECK,[null,a.treeId,b])),b.parentTId){var h=!0;if(!c)for(var i=b.getParentNode()[e],j=0,k=i.length;k>j;j++)if(i[j].nocheck!==!0&&i[j].chkDisabled!==!0&&i[j][f]||(i[j].nocheck===!0||i[j].chkDisabled===!0)&&i[j].check_Child_State>0){h=!1;break}h&&t.setParentNodeCheckBox(a,b.getParentNode(),c,d)}},setSonNodeCheckBox:function(a,b,c,d){if(b){var e=a.data.key.children,f=a.data.key.checked,g=v(b,s.id.CHECK,a);d||(d=b);var h=!1;if(b[e])for(var i=0,j=b[e].length;j>i&&b.chkDisabled!==!0;i++){var k=b[e][i];t.setSonNodeCheckBox(a,k,c,d),k.chkDisabled===!0&&(h=!0)}b!=u.getRoot(a)&&b.chkDisabled!==!0&&(h&&b.nocheck!==!0&&u.makeChkFlag(a,b),b.nocheck!==!0&&b.chkDisabled!==!0?(b[f]=c,h||(b.check_Child_State=b[e]&&b[e].length>0?c?2:0:-1)):b.check_Child_State=-1,t.setChkClass(a,g,b),a.check.autoCheckTrigger&&b!=d&&b.nocheck!==!0&&b.chkDisabled!==!0&&a.treeObj.trigger(s.event.CHECK,[null,a.treeId,b]))}}},p={tools:n,view:o,event:l,data:k};$.extend(!0,$.fn.zTree.consts,a),$.extend(!0,$.fn.zTree._z,p);var q=$.fn.zTree,r=q._z.tools,s=q.consts,t=q._z.view,u=q._z.data,v=(q._z.event,r.$);u.exSetting(b),u.addInitBind(e),u.addInitUnBind(f),u.addInitCache(d),u.addInitNode(h),u.addInitProxy(g,!0),u.addInitRoot(c),u.addBeforeA(i),u.addZTreeTools(j);var w=t.createNodes;t.createNodes=function(a,b,c,d){w&&w.apply(t,arguments),c&&t.repairParentChkClassWithSelf(a,d)};var x=t.removeNode;t.removeNode=function(a,b){var c=b.getParentNode();x&&x.apply(t,arguments),b&&c&&(t.repairChkClass(a,c),t.repairParentChkClass(a,c))};var y=t.appendNodes;t.appendNodes=function(a,b,c,d){var e="";return y&&(e=y.apply(t,arguments)),d&&u.makeChkFlag(a,d),e}}),function(a){"function"==typeof define&&define.amd?define("fish.tree.excedit",["jquery","fish.tree"],a):a(jQuery)
}(function($){var a={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},b={edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}},c=function(a){var b=t.getRoot(a),c=t.getRoots();b.curEditNode=null,b.curEditInput=null,b.curHoverNode=null,b.dragFlag=0,b.dragNodeShowBefore=[],b.dragMaskList=new Array,c.showHoverDom=!0},d=function(){},e=function(a){var b=a.treeObj,c=r.event;b.bind(c.RENAME,function(b,c,d,e){q.apply(a.callback.onRename,[b,c,d,e])}),b.bind(c.DRAG,function(b,c,d,e){q.apply(a.callback.onDrag,[c,d,e])}),b.bind(c.DRAGMOVE,function(b,c,d,e){q.apply(a.callback.onDragMove,[c,d,e])}),b.bind(c.DROP,function(b,c,d,e,f,g,h){q.apply(a.callback.onDrop,[c,d,e,f,g,h])})},f=function(a){var b=a.treeObj,c=r.event;b.unbind(c.RENAME),b.unbind(c.DRAG),b.unbind(c.DRAGMOVE),b.unbind(c.DROP)},g=function(a){var b=a.target,c=t.getSetting(a.data.treeId),d=a.relatedTarget,e="",f=null,g="",h="",i=null,j=null,k=null;if(q.eqs(a.type,"mouseover")?(k=q.getMDom(c,b,[{tagName:"a",attrName:"treeNode"+r.id.A}]),k&&(e=q.getNodeMainDom(k).id,g="hoverOverNode")):q.eqs(a.type,"mouseout")?(k=q.getMDom(c,d,[{tagName:"a",attrName:"treeNode"+r.id.A}]),k||(e="remove",g="hoverOutNode")):q.eqs(a.type,"mousedown")&&(k=q.getMDom(c,b,[{tagName:"a",attrName:"treeNode"+r.id.A}]),k&&(e=q.getNodeMainDom(k).id,g="mousedownNode")),e.length>0)switch(f=t.getNodeCache(c,e),g){case"mousedownNode":i=l.onMousedownNode;break;case"hoverOverNode":i=l.onHoverOverNode;break;case"hoverOutNode":i=l.onHoverOutNode}var m={stop:!1,node:f,nodeEventType:g,nodeEventCallback:i,treeEventType:h,treeEventCallback:j};return m},h=function(a,b,c){c&&(c.isHover=!1,c.editNameFlag=!1)},i=function(a,b){b.cancelEditName=function(a){var b=t.getRoot(this.setting);b.curEditNode&&s.cancelCurEditNode(this.setting,a?a:null,!0)},b.copyNode=function(a,b,c,d){function e(){s.addNodes(f.setting,a,[g],d)}if(!b)return null;if(a&&!a.isParent&&this.setting.data.keep.leaf&&c===r.move.TYPE_INNER)return null;var f=this,g=q.clone(b);return a||(a=null,c=r.move.TYPE_INNER),c==r.move.TYPE_INNER?q.canAsync(this.setting,a)?s.asyncNode(this.setting,a,d,e):e():(s.addNodes(this.setting,a.parentNode,[g],d),s.moveNode(this.setting,a,g,c,!1,d)),g},b.editName=function(a){a&&a.tId&&a===t.getNodeCache(this.setting,a.tId)&&(a.parentTId&&s.expandCollapseParentNode(this.setting,a.getParentNode(),!0),s.editNode(this.setting,a))},b.moveNode=function(a,b,c,d){function e(){s.moveNode(f.setting,a,b,c,!1,d)}if(!b)return b;if(a&&!a.isParent&&this.setting.data.keep.leaf&&c===r.move.TYPE_INNER)return null;if(a&&(b.parentTId==a.tId&&c==r.move.TYPE_INNER||u(b,this.setting).find("#"+a.tId).length>0))return null;a||(a=null);var f=this;return q.canAsync(this.setting,a)&&c===r.move.TYPE_INNER?s.asyncNode(this.setting,a,d,e):e(),b},b.setEditable=function(a){return this.setting.edit.enable=a,this.refresh()}},j={setSonNodeLevel:function(a,b,c){if(c){var d=a.data.key.children;if(c.level=b?b.level+1:0,c[d])for(var e=0,f=c[d].length;f>e;e++)c[d][e]&&t.setSonNodeLevel(a,c,c[d][e])}}},k={},l={onHoverOverNode:function(a,b){var c=t.getSetting(a.data.treeId),d=t.getRoot(c);d.curHoverNode!=b&&l.onHoverOutNode(a),d.curHoverNode=b,s.addHoverDom(c,b)},onHoverOutNode:function(a){var b=t.getSetting(a.data.treeId),c=t.getRoot(b);c.curHoverNode&&!t.isSelectedNode(b,c.curHoverNode)&&(s.removeTreeDom(b,c.curHoverNode),c.curHoverNode=null)},onMousedownNode:function(b,c){function d(b){if(0==j.dragFlag&&Math.abs(H-b.clientX)<i.edit.drag.minMoveSize&&Math.abs(I-b.clientY)<i.edit.drag.minMoveSize)return!0;var c,d,f,g,h,l=i.data.key.children;if(z.css("cursor","pointer"),0==j.dragFlag){if(0==q.apply(i.callback.beforeDrag,[i.treeId,n],!0))return e(b),!0;for(c=0,d=n.length;d>c;c++)0==c&&(j.dragNodeShowBefore=[]),f=n[c],f.isParent&&f.open?(s.expandCollapseNode(i,f,!f.open),j.dragNodeShowBefore[f.tId]=!0):j.dragNodeShowBefore[f.tId]=!1;j.dragFlag=1,k.showHoverDom=!1,q.showIfameMask(i,!0);var m=!0,C=-1;if(n.length>1){var K=n[0].parentTId?n[0].getParentNode()[l]:t.getNodes(i);for(h=[],c=0,d=K.length;d>c;c++)if(void 0!==j.dragNodeShowBefore[K[c].tId]&&(m&&C>-1&&C+1!==c&&(m=!1),h.push(K[c]),C=c),n.length===h.length){n=h;break}}for(m&&(w=n[0].getPreNode(),x=n[n.length-1].getNextNode()),o=u("<ul class='zTreeDragUL'></ul>",i),c=0,d=n.length;d>c;c++)f=n[c],f.editNameFlag=!1,s.selectNode(i,f,c>0),s.removeTreeDom(i,f),c>i.edit.drag.maxShowNodeNum-1||(g=u("<li id='"+f.tId+"_tmp'></li>",i),g.append(u(f,r.id.A,i).clone()),g.css("padding","0"),g.children("#"+f.tId+r.id.A).removeClass(r.node.CURSELECTED),o.append(g),c==i.edit.drag.maxShowNodeNum-1&&(g=u("<li id='"+f.tId+"_moretmp'><a>  ...  </a></li>",i),o.append(g)));o.attr("id",n[0].tId+r.id.UL+"_tmp"),o.addClass(i.treeObj.attr("class")),o.appendTo(z),p=u("<span class='tmpzTreeMove_arrow'></span>",i),p.attr("id","zTreeMove_arrow_tmp"),p.appendTo(z),i.treeObj.trigger(r.event.DRAG,[b,i.treeId,n])}if(1==j.dragFlag){if(v&&p.attr("id")==b.target.id&&F&&b.clientX+y.scrollLeft()+2>$("#"+F+r.id.A,v).offset().left){var L=$("#"+F+r.id.A,v);b.target=L.length>0?L.get(0):b.target}else v&&(v.removeClass(r.node.TMPTARGET_TREE),F&&$("#"+F+r.id.A,v).removeClass(r.node.TMPTARGET_NODE+"_"+r.move.TYPE_PREV).removeClass(r.node.TMPTARGET_NODE+"_"+a.move.TYPE_NEXT).removeClass(r.node.TMPTARGET_NODE+"_"+a.move.TYPE_INNER));v=null,F=null,A=!1,B=i;var M=t.getSettings();for(var N in M)M[N].treeId&&M[N].edit.enable&&M[N].treeId!=i.treeId&&(b.target.id==M[N].treeId||$(b.target).parents("#"+M[N].treeId).length>0)&&(A=!0,B=M[N]);var O=y.scrollTop(),P=y.scrollLeft(),Q=B.treeObj.offset(),R=B.treeObj.get(0).scrollHeight,S=B.treeObj.get(0).scrollWidth,T=b.clientY+O-Q.top,U=B.treeObj.height()+Q.top-b.clientY-O,V=b.clientX+P-Q.left,W=B.treeObj.width()+Q.left-b.clientX-P,X=T<i.edit.drag.borderMax&&T>i.edit.drag.borderMin,Y=U<i.edit.drag.borderMax&&U>i.edit.drag.borderMin,Z=V<i.edit.drag.borderMax&&V>i.edit.drag.borderMin,ab=W<i.edit.drag.borderMax&&W>i.edit.drag.borderMin,bb=T>i.edit.drag.borderMin&&U>i.edit.drag.borderMin&&V>i.edit.drag.borderMin&&W>i.edit.drag.borderMin,cb=X&&B.treeObj.scrollTop()<=0,db=Y&&B.treeObj.scrollTop()+B.treeObj.height()+10>=R,eb=Z&&B.treeObj.scrollLeft()<=0,fb=ab&&B.treeObj.scrollLeft()+B.treeObj.width()+10>=S;if(b.target&&q.isChildOrSelf(b.target,B.treeId)){for(var gb=b.target;gb&&gb.tagName&&!q.eqs(gb.tagName,"li")&&gb.id!=B.treeId;)gb=gb.parentNode;var hb=!0;for(c=0,d=n.length;d>c;c++){if(f=n[c],gb.id===f.tId){hb=!1;break}if(u(f,i).find("#"+gb.id).length>0){hb=!1;break}}hb&&b.target&&q.isChildOrSelf(b.target,gb.id+r.id.A)&&(v=$(gb),F=gb.id)}f=n[0],bb&&q.isChildOrSelf(b.target,B.treeId)&&(!v&&(b.target.id==B.treeId||cb||db||eb||fb)&&(A||!A&&f.parentTId)&&(v=B.treeObj),X?B.treeObj.scrollTop(B.treeObj.scrollTop()-10):Y&&B.treeObj.scrollTop(B.treeObj.scrollTop()+10),Z?B.treeObj.scrollLeft(B.treeObj.scrollLeft()-10):ab&&B.treeObj.scrollLeft(B.treeObj.scrollLeft()+10),v&&v!=B.treeObj&&v.offset().left<B.treeObj.offset().left&&B.treeObj.scrollLeft(B.treeObj.scrollLeft()+v.offset().left-B.treeObj.offset().left)),o.css({top:b.clientY+O+3+"px",left:b.clientX+P+3+"px"});var ib=0,jb=0;if(v&&v.attr("id")!=B.treeId){var kb=null==F?null:t.getNodeCache(B,F),lb=(b.ctrlKey||b.metaKey)&&i.edit.drag.isMove&&i.edit.drag.isCopy||!i.edit.drag.isMove&&i.edit.drag.isCopy,mb=!(!w||F!==w.tId),nb=!(!x||F!==x.tId),ob=f.parentTId&&f.parentTId==F,pb=(lb||!nb)&&q.apply(B.edit.drag.prev,[B.treeId,n,kb],!!B.edit.drag.prev),qb=(lb||!mb)&&q.apply(B.edit.drag.next,[B.treeId,n,kb],!!B.edit.drag.next),rb=!(!lb&&ob||B.data.keep.leaf&&!kb.isParent||!q.apply(B.edit.drag.inner,[B.treeId,n,kb],!!B.edit.drag.inner));if(pb||qb||rb){var sb=$("#"+F+r.id.A,v),tb=kb.isLastNode?null:$("#"+kb.getNextNode().tId+r.id.A,v.next()),ub=sb.offset().top,vb=sb.offset().left,wb=pb?rb?.25:qb?.5:1:-1,xb=qb?rb?.75:pb?.5:0:-1,yb=(b.clientY+O-ub)/sb.height();if((1==wb||wb>=yb&&yb>=-.2)&&pb?(ib=1-p.width(),jb=ub-p.height()/2,G=r.move.TYPE_PREV):(0==xb||yb>=xb&&1.2>=yb)&&qb?(ib=1-p.width(),jb=null==tb||kb.isParent&&kb.open?ub+sb.height()-p.height()/2:tb.offset().top-p.height()/2,G=r.move.TYPE_NEXT):(ib=5-p.width(),jb=ub,G=r.move.TYPE_INNER),p.css({display:"block",top:jb+"px",left:vb+ib+"px"}),sb.addClass(r.node.TMPTARGET_NODE+"_"+G),(D!=F||E!=G)&&(J=(new Date).getTime()),kb&&kb.isParent&&G==r.move.TYPE_INNER){var zb=!0;window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==kb.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===kb.tId&&(zb=!1),zb&&(window.zTreeMoveTimer=setTimeout(function(){G==r.move.TYPE_INNER&&kb&&kb.isParent&&!kb.open&&(new Date).getTime()-J>B.edit.drag.autoOpenTime&&q.apply(B.callback.beforeDragOpen,[B.treeId,kb],!0)&&(s.switchNode(B,kb),B.edit.drag.autoExpandTrigger&&B.treeObj.trigger(r.event.EXPAND,[B.treeId,kb]))},B.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=kb.tId)}}else v=null,F="",G=r.move.TYPE_INNER,p.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)}else G=r.move.TYPE_INNER,v&&q.apply(B.edit.drag.inner,[B.treeId,n,null],!!B.edit.drag.inner)?v.addClass(r.node.TMPTARGET_TREE):v=null,p.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null);D=F,E=G,i.treeObj.trigger(r.event.DRAGMOVE,[b,i.treeId,n])}return!1}function e(b){function c(){if(A){if(!m)for(var a=0,c=n.length;c>a;a++)s.removeNode(i,n[a]);if(G==r.move.TYPE_INNER)s.addNodes(B,w,x);else if(s.addNodes(B,w.getParentNode(),x),G==r.move.TYPE_PREV)for(a=0,c=x.length;c>a;a++)s.moveNode(B,w,x[a],G,!1);else for(a=-1,c=x.length-1;c>a;c--)s.moveNode(B,w,x[c],G,!1)}else if(m&&G==r.move.TYPE_INNER)s.addNodes(B,w,x);else if(m&&s.addNodes(B,w.getParentNode(),x),G!=r.move.TYPE_NEXT)for(a=0,c=x.length;c>a;a++)s.moveNode(B,w,x[a],G,!1);else for(a=-1,c=x.length-1;c>a;c--)s.moveNode(B,w,x[c],G,!1);s.selectNodes(B,x),u(x[0],i).focus().blur(),i.treeObj.trigger(r.event.DROP,[b,B.treeId,x,w,G,m])}if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),D=null,E=null,y.unbind("mousemove",d),y.unbind("mouseup",e),y.unbind("selectstart",f),z.css("cursor","auto"),v&&(v.removeClass(r.node.TMPTARGET_TREE),F&&$("#"+F+r.id.A,v).removeClass(r.node.TMPTARGET_NODE+"_"+r.move.TYPE_PREV).removeClass(r.node.TMPTARGET_NODE+"_"+a.move.TYPE_NEXT).removeClass(r.node.TMPTARGET_NODE+"_"+a.move.TYPE_INNER)),q.showIfameMask(i,!1),k.showHoverDom=!0,0!=j.dragFlag){j.dragFlag=0;var g,h,l;for(g=0,h=n.length;h>g;g++)l=n[g],l.isParent&&j.dragNodeShowBefore[l.tId]&&!l.open&&(s.expandCollapseNode(i,l,!l.open),delete j.dragNodeShowBefore[l.tId]);o&&o.remove(),p&&p.remove();var m=(b.ctrlKey||b.metaKey)&&i.edit.drag.isMove&&i.edit.drag.isCopy||!i.edit.drag.isMove&&i.edit.drag.isCopy;if(!m&&v&&F&&n[0].parentTId&&F==n[0].parentTId&&G==r.move.TYPE_INNER&&(v=null),v){var w=null==F?null:t.getNodeCache(B,F);if(0==q.apply(i.callback.beforeDrop,[B.treeId,n,w,G,m],!0))return void s.selectNodes(C,n);var x=m?q.clone(n):n;G==r.move.TYPE_INNER&&q.canAsync(B,w)?s.asyncNode(B,w,!1,c):c()}else s.selectNodes(C,n),i.treeObj.trigger(r.event.DROP,[b,i.treeId,n,null,null,null])}}function f(){return!1}var g,h,i=t.getSetting(b.data.treeId),j=t.getRoot(i),k=t.getRoots();if(2==b.button||!i.edit.enable||!i.edit.drag.isCopy&&!i.edit.drag.isMove)return!0;var l=b.target,m=t.getRoot(i).curSelectedList,n=[];if(t.isSelectedNode(i,c))for(g=0,h=m.length;h>g;g++){if(m[g].editNameFlag&&q.eqs(l.tagName,"input")&&null!==l.getAttribute("treeNode"+r.id.INPUT))return!0;if(n.push(m[g]),n[0].parentTId!==m[g].parentTId){n=[c];break}}else n=[c];s.editNodeBlur=!0,s.cancelCurEditNode(i);var o,p,v,w,x,y=$(i.treeObj.get(0).ownerDocument),z=$(i.treeObj.get(0).ownerDocument.body),A=!1,B=i,C=i,D=null,E=null,F=null,G=r.move.TYPE_INNER,H=b.clientX,I=b.clientY,J=(new Date).getTime();return q.uCanDo(i)&&y.bind("mousemove",d),y.bind("mouseup",e),y.bind("selectstart",f),b.preventDefault&&b.preventDefault(),!0}},m={getAbs:function(a){var b=a.getBoundingClientRect(),c=document.body.scrollTop+document.documentElement.scrollTop,d=document.body.scrollLeft+document.documentElement.scrollLeft;return[b.left+d,b.top+c]},inputFocus:function(a){a.get(0)&&(a.focus(),q.setCursorPosition(a.get(0),a.val().length))},inputSelect:function(a){a.get(0)&&(a.focus(),a.select())},setCursorPosition:function(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}},showIfameMask:function(a,b){for(var c=t.getRoot(a);c.dragMaskList.length>0;)c.dragMaskList[0].remove(),c.dragMaskList.shift();if(b)for(var d=u("iframe",a),e=0,f=d.length;f>e;e++){var g=d.get(e),h=q.getAbs(g),i=u("<div id='zTreeMask_"+e+"' class='zTreeMask' style='top:"+h[1]+"px; left:"+h[0]+"px; width:"+g.offsetWidth+"px; height:"+g.offsetHeight+"px;'></div>",a);i.appendTo(u("body",a)),c.dragMaskList.push(i)}}},n={addEditBtn:function(a,b){if(!(b.editNameFlag||u(b,r.id.EDIT,a).length>0)&&q.apply(a.edit.showRenameBtn,[a.treeId,b],a.edit.showRenameBtn)){var c=u(b,r.id.A,a),d="<span class='"+r.className.BUTTON+" edit' id='"+b.tId+r.id.EDIT+"' title='"+q.apply(a.edit.renameTitle,[a.treeId,b],a.edit.renameTitle)+"' treeNode"+r.id.EDIT+" style='display:none;'></span>";c.append(d),u(b,r.id.EDIT,a).bind("click",function(){return q.uCanDo(a)&&0!=q.apply(a.callback.beforeEditName,[a.treeId,b],!0)?(s.editNode(a,b),!1):!1}).show()}},addRemoveBtn:function(a,b){if(!(b.editNameFlag||u(b,r.id.REMOVE,a).length>0)&&q.apply(a.edit.showRemoveBtn,[a.treeId,b],a.edit.showRemoveBtn)){var c=u(b,r.id.A,a),d="<span class='"+r.className.BUTTON+" remove' id='"+b.tId+r.id.REMOVE+"' title='"+q.apply(a.edit.removeTitle,[a.treeId,b],a.edit.removeTitle)+"' treeNode"+r.id.REMOVE+" style='display:none;'></span>";c.append(d),u(b,r.id.REMOVE,a).bind("click",function(){return q.uCanDo(a)&&0!=q.apply(a.callback.beforeRemove,[a.treeId,b],!0)?(s.removeNode(a,b),a.treeObj.trigger(r.event.REMOVE,[a.treeId,b]),!1):!1}).bind("mousedown",function(){return!0}).show()}},addHoverDom:function(a,b){t.getRoots().showHoverDom&&(b.isHover=!0,a.edit.enable&&(s.addEditBtn(a,b),s.addRemoveBtn(a,b)),q.apply(a.view.addHoverDom,[a.treeId,b]))},cancelCurEditNode:function(a,b,c){var d=t.getRoot(a),e=a.data.key.name,f=d.curEditNode;if(f){var g=d.curEditInput,h=b?b:c?f[e]:g.val();if(q.apply(a.callback.beforeRename,[a.treeId,f,h,c],!0)===!1)return!1;f[e]=h,a.treeObj.trigger(r.event.RENAME,[a.treeId,f,c]);var i=u(f,r.id.A,a);i.removeClass(r.node.CURSELECTED_EDIT),g.unbind(),s.setNodeName(a,f),f.editNameFlag=!1,d.curEditNode=null,d.curEditInput=null,s.selectNode(a,f,!1)}return d.noSelection=!0,!0},editNode:function(a,b){var c=t.getRoot(a);if(s.editNodeBlur=!1,t.isSelectedNode(a,b)&&c.curEditNode==b&&b.editNameFlag)return void setTimeout(function(){q.inputFocus(c.curEditInput)},0);var d=a.data.key.name;b.editNameFlag=!0,s.removeTreeDom(a,b),s.cancelCurEditNode(a),s.selectNode(a,b,!1),u(b,r.id.SPAN,a).html("<input type=text class='rename' id='"+b.tId+r.id.INPUT+"' treeNode"+r.id.INPUT+" >");var e=u(b,r.id.INPUT,a);e.attr("value",b[d]),a.edit.editNameSelectAll?q.inputSelect(e):q.inputFocus(e),e.bind("blur",function(){s.editNodeBlur||s.cancelCurEditNode(a)}).bind("keydown",function(b){"13"==b.keyCode?(s.editNodeBlur=!0,s.cancelCurEditNode(a)):"27"==b.keyCode&&s.cancelCurEditNode(a,null,!0)}).bind("click",function(){return!1}).bind("dblclick",function(){return!1}),u(b,r.id.A,a).addClass(r.node.CURSELECTED_EDIT),c.curEditInput=e,c.noSelection=!1,c.curEditNode=b},moveNode:function(a,b,c,d,e,f){var g=t.getRoot(a),h=a.data.key.children;if(b!=c&&(!a.data.keep.leaf||!b||b.isParent||d!=r.move.TYPE_INNER)){var i=c.parentTId?c.getParentNode():g,j=null===b||b==g;j&&null===b&&(b=g),j&&(d=r.move.TYPE_INNER);var k=b.parentTId?b.getParentNode():g;d!=r.move.TYPE_PREV&&d!=r.move.TYPE_NEXT&&(d=r.move.TYPE_INNER),d==r.move.TYPE_INNER&&(j?c.parentTId=null:(b.isParent||(b.isParent=!0,b.open=!!b.open,s.setNodeLineIcos(a,b)),c.parentTId=b.tId));var l,m;if(j)l=a.treeObj,m=l;else{if(f||d!=r.move.TYPE_INNER?f||s.expandCollapseNode(a,b.getParentNode(),!0,!1):s.expandCollapseNode(a,b,!0,!1),l=u(b,a),m=u(b,r.id.UL,a),l.get(0)&&!m.get(0)){var n=[];s.makeUlHtml(a,b,n,""),l.append(n.join(""))}m=u(b,r.id.UL,a)}var o=u(c,a);o.get(0)?l.get(0)||o.remove():o=s.appendNodes(a,c.level,[c],null,!1,!0).join(""),m.get(0)&&d==r.move.TYPE_INNER?m.append(o):l.get(0)&&d==r.move.TYPE_PREV?l.before(o):l.get(0)&&d==r.move.TYPE_NEXT&&l.after(o);var p,q,v=-1,w=0,x=null,y=null,z=c.level;if(c.isFirstNode)v=0,i[h].length>1&&(x=i[h][1],x.isFirstNode=!0);else if(c.isLastNode)v=i[h].length-1,x=i[h][v-1],x.isLastNode=!0;else for(p=0,q=i[h].length;q>p;p++)if(i[h][p].tId==c.tId){v=p;break}if(v>=0&&i[h].splice(v,1),d!=r.move.TYPE_INNER)for(p=0,q=k[h].length;q>p;p++)k[h][p].tId==b.tId&&(w=p);if(d==r.move.TYPE_INNER?(b[h]||(b[h]=new Array),b[h].length>0&&(y=b[h][b[h].length-1],y.isLastNode=!1),b[h].splice(b[h].length,0,c),c.isLastNode=!0,c.isFirstNode=1==b[h].length):b.isFirstNode&&d==r.move.TYPE_PREV?(k[h].splice(w,0,c),y=b,y.isFirstNode=!1,c.parentTId=b.parentTId,c.isFirstNode=!0,c.isLastNode=!1):b.isLastNode&&d==r.move.TYPE_NEXT?(k[h].splice(w+1,0,c),y=b,y.isLastNode=!1,c.parentTId=b.parentTId,c.isFirstNode=!1,c.isLastNode=!0):(d==r.move.TYPE_PREV?k[h].splice(w,0,c):k[h].splice(w+1,0,c),c.parentTId=b.parentTId,c.isFirstNode=!1,c.isLastNode=!1),t.fixPIdKeyValue(a,c),t.setSonNodeLevel(a,c.getParentNode(),c),s.setNodeLineIcos(a,c),s.repairNodeLevelClass(a,c,z),!a.data.keep.parent&&i[h].length<1){i.isParent=!1,i.open=!1;var A=u(i,r.id.UL,a),B=u(i,r.id.SWITCH,a),C=u(i,r.id.ICON,a);s.replaceSwitchClass(i,B,r.folder.DOCU),s.replaceIcoClass(i,C,r.folder.DOCU),A.css("display","none")}else x&&s.setNodeLineIcos(a,x);y&&s.setNodeLineIcos(a,y),a.check&&a.check.enable&&s.repairChkClass&&(s.repairChkClass(a,i),s.repairParentChkClassWithSelf(a,i),i!=c.parent&&s.repairParentChkClassWithSelf(a,c)),f||s.expandCollapseParentNode(a,c.getParentNode(),!0,e)}},removeEditBtn:function(a,b){u(b,r.id.EDIT,a).unbind().remove()},removeRemoveBtn:function(a,b){u(b,r.id.REMOVE,a).unbind().remove()},removeTreeDom:function(a,b){b.isHover=!1,s.removeEditBtn(a,b),s.removeRemoveBtn(a,b),q.apply(a.view.removeHoverDom,[a.treeId,b])},repairNodeLevelClass:function(a,b,c){if(c!==b.level){var d=u(b,a),e=u(b,r.id.A,a),f=u(b,r.id.UL,a),g=r.className.LEVEL+c,h=r.className.LEVEL+b.level;d.removeClass(g),d.addClass(h),e.removeClass(g),e.addClass(h),f.removeClass(g),f.addClass(h)}},selectNodes:function(a,b){for(var c=0,d=b.length;d>c;c++)s.selectNode(a,b[c],c>0)}},o={tools:m,view:n,event:k,data:j};$.extend(!0,$.fn.zTree.consts,a),$.extend(!0,$.fn.zTree._z,o);var p=$.fn.zTree,q=p._z.tools,r=p.consts,s=p._z.view,t=p._z.data,u=(p._z.event,q.$);t.exSetting(b),t.addInitBind(e),t.addInitUnBind(f),t.addInitCache(d),t.addInitNode(h),t.addInitProxy(g),t.addInitRoot(c),t.addZTreeTools(i);var v=s.cancelPreSelectedNode;s.cancelPreSelectedNode=function(a,b){for(var c=t.getRoot(a).curSelectedList,d=0,e=c.length;e>d&&(b&&b!==c[d]||(s.removeTreeDom(a,c[d]),!b));d++);v&&v.apply(s,arguments)};var w=s.createNodes;s.createNodes=function(a,b,c,d){w&&w.apply(s,arguments),c&&s.repairParentChkClassWithSelf&&s.repairParentChkClassWithSelf(a,d)};var x=s.makeNodeUrl;s.makeNodeUrl=function(a){return a.edit.enable?null:x.apply(s,arguments)};var y=s.removeNode;s.removeNode=function(a,b){var c=t.getRoot(a);c.curEditNode===b&&(c.curEditNode=null),y&&y.apply(s,arguments)};var z=s.selectNode;s.selectNode=function(a,b){var c=t.getRoot(a);return t.isSelectedNode(a,b)&&c.curEditNode==b&&b.editNameFlag?!1:(z&&z.apply(s,arguments),s.addHoverDom(a,b),!0)};var A=q.uCanDo;q.uCanDo=function(a,b){var c=t.getRoot(a);return b&&(q.eqs(b.type,"mouseover")||q.eqs(b.type,"mouseout")||q.eqs(b.type,"mousedown")||q.eqs(b.type,"mouseup"))?!0:(c.curEditNode&&(s.editNodeBlur=!1,c.curEditInput.focus()),!c.curEditNode&&(A?A.apply(s,arguments):!0))}});